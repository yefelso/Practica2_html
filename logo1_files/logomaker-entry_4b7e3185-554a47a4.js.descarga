(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{122:function(e,t,a){var r,n=t,o=a(0),l=a(49),i=a(154),u=a(1),s=a(4),c=a(11),m=a(25),g=a(43),h=a(23),f=a(89),v=a(21),p=a(9),d=a(35),F=a(15),y=a(10);n.GroupDetector=(r=function(){s.CoreObject.call(this)},o.defineClass({name:"GroupDetector",ctor:r,superName:"CoreObject",statics:{Y_DISTANCE_THRESHOLD:150,X_DISTANCE_THRESHOLD:0,splitFormaGroups:function(e,t){for(var a=0,n=o.iter(e);!n.done;n.next())a+=n.value.length;for(var l=e.concat();l.length<a&&l.length<t;){for(var i=-1,s=null,c=o.iter(o.range(0,l.length,!1));!c.done;c.next()){var m=c.value;if(l[m].length>1){var g=r.groupFrame(o.clone(l[m]));(null==s||g.area>s.area)&&(i=m,s=g)}}if(null==s){u.CoreAssert.fail("should have found a group to split");break}var h=r.splitGroup(o.clone(l[i])),f=h[0],v=h[1];l[i]=o.clone(f),l.splice(i+1,0,o.clone(v))}return l},groupFrame:function(e){if(0==e.length)return y.TheoRect.Zero;for(var t=e[0].finalFrame,a=o.iter(e);!a.done;a.next()){var r=a.value;t=t.unionWith(r.finalFrame)}return t},splitGroup:function(e){if(e.length<=1)return u.CoreAssert.fail("should have found a group to split"),[e,[]];for(var t=e[0].finalFrame,a=o.iter(e);!a.done;a.next()){var r=a.value;t=t.unionWith(r.finalFrame)}var n=t.origin,l=o.sort(e,function(e,t){return e.finalFrame.center.distanceTo(n)<t.finalFrame.center.distanceTo(n)}),i=[],s=[],c=0,m=l.length-1,g=l[c].finalFrame,h=l[m].finalFrame;for(i.push(l[c]),s.push(l[m]);c<m-1;){var f=g.area<h.area;l[c+1].finalFrame.intersects(g)&&(f=!0),l[m-1].finalFrame.intersects(h)&&(f=!1),f?(c+=1,i.push(l[c]),g=g.unionWith(l[c].finalFrame)):(m-=1,s.push(l[m]),h=h.unionWith(l[m].finalFrame))}return u.CoreAssert.isTrue(i.length+s.length==l.length,"counts don't match"),[i,s]},shareVisualParent:function(e,t){var a=r.getVisualParent(e).finalFrame,n=r.getVisualParent(t).finalFrame;return r.visualParentFramesOverlap(a,n)},visualParentFramesOverlap:function(e,t){var a;return!!(a=e.intersectionWith(t))&&a.area/Math.max(t.area,e.area)>.95},detectOverlapGroups:function(e){var t=[],a=o.sort(e,function(e,t){return e.finalFrame.area>t.finalFrame.area});if(a.length<=1)return t;for(var r=[],n=o.iter(o.range(0,a.length-1,!1));!n.done;n.next()){var l=n.value;if(!o.containsEq(r,a[l],c._equality_Forma_Forma)){for(var i=[a[l]],u=o.iter(o.range(l+1,a.length,!1));!u.done;u.next()){var s,m=u.value;(s=a[l].finalFrame.intersectionWith(a[m].finalFrame))&&!o.containsEq(r,a[m],c._equality_Forma_Forma)&&s.area/a[m].finalFrame.area>.5&&i.push(a[m])}if(i.length>1){for(var g=o.iter(i);!g.done;g.next()){var h=g.value;r.push(h)}t.push(o.clone(i))}}}for(var f=[],v=o.iter(t);!v.done;v.next()){var p=v.value,d=o.sort(p,function(e,t){var a,r;return null!=(a=o.opt(e.parent,function(t){return t.indexOfChild(e)}))&&null!=(r=o.opt(t.parent,function(e){return e.indexOfChild(t)}))&&a<r});f.push(o.clone(d))}return f},detectProximityGroups:function(e,t,a){void 0===t&&(t=null),void 0===a&&(a=!1);var n=null!=t?t:r.Y_DISTANCE_THRESHOLD,i=e.concat();o.sortInPlace(i,function(e,t){return e.finalFrame.center.distanceTo(F.TheoPoint.ZERO)<t.finalFrame.center.distanceTo(F.TheoPoint.ZERO)});var u,s=[],m=i.concat(),g=1,h=o.first(i);(u=o.opt(o.opt(h,function(e){return e.page.view}),function(e){return e.getViewportTransform()}))&&(g=Math.sqrt(Math.abs(u.determinant)));for(var f=l.AlignmentDetector.DISTANCE_THRESHOLD/g,v=o.iter(i);!v.done;v.next()){var p=v.value,d=l.AlignmentDetector.init_a05b(p),y=o.clone(d.detectFormaAlignments(f));if(o.containsEq(m,p,c._equality_Forma_Forma)){var C=[];C.push(p);var x=p.finalFrame;if(null==x)continue;for(var T=!0;T;){T=!1;for(var S=o.iter(m);!S.done;S.next()){var _,A=S.value;if(!o.eq(c._equality_Forma_Forma,A,p)&&(_=A.finalFrame)){var I=_.xDistance(x),D=_.yDistance(x),k=r.shareVisualParent(p,A)?n:50;if(a){for(var N=!1,b=o.iter(y);!b.done;b.next()){var P=b.value;o.eq(c._equality_Forma_Forma,P.forma,A)&&(N=!0)}if(!N)continue}D<=k&&I<=k&&(x=x.unionWith(_),T=!0,C.push(A))}}for(var w=o.iter(C);!w.done;w.next())A=w.value,o.remove(m,A)}s.push(o.clone(C))}}return s},shareVisualParent0:function(e,t){for(var a=o.clone(e.root.filterWithCallback(function(e){return e.isGraphic()})),r=null,n=null,l=e.finalFrame,i=t.finalFrame,u=o.iter(a);!u.done;u.next()){var s,m,g=u.value;g.kind==v.ImageForma.KIND||g.isDescendent(e)||g.isDescendent(t)||(s=g.finalFrame)&&((m=s.intersectionWith(l))&&m.area/l.area>.75&&(r=g),(m=s.intersectionWith(i))&&m.area/i.area>.75&&(n=g))}return o.eq(c._equality_Forma_Forma,r,n)},getVisualParent:function(e){var t=e.finalFrame;return r.getVisualParentHelper(e,t)},getGroupVisualParent:function(e){var t=e.childrenFinalFrame;return r.getVisualParentHelper(e,t)},getVisualParentHelper:function(e,t){for(var a=e.root,r=o.clone(e.root.filterWithCallback(function(t){var a=t.isDescendent(e);return!(o.eq(c._equality_Forma_Forma,t,e)||a||null==t.controller||t.controller.kind==f.ImageController.KIND||t.controller.kind==m.GridController.KIND||!t.isBackgroundImage()&&t.hasIntent(c.Forma.INTENT_ICON)&&t.kind!=d.RootForma.KIND&&t.controller.kind!=i.AlignmentGroupController.KIND)})),n=o.iter(r);!n.done;n.next()){var l,u=n.value;(l=u.finalFrame)&&l.contains(t)&&l.area<=a.finalFrame.area&&(a=u)}return a},detectVerticalAlignmentGroups:function(e){var t=[];if(0==e.length)return t;for(var a=e.concat();a.length>0;){var r,n=a[0],i=null,u=l.AlignmentDetector.init_a05b(n),s=[n];o.remove(a,n);for(var m=o.iter(u.detectFormaAlignments(l.AlignmentDetector.DISTANCE_THRESHOLD));!m.done;m.next()){var g=m.value;u.isVerticalAlignment(g.line.type)&&null!=g.forma&&o.containsEq(a,g.forma,c._equality_Forma_Forma)&&(i!=g.line.type&&null!=i||(i=g.line.type,o.containsEq(s,g.forma,c._equality_Forma_Forma)||(s.push(g.forma),o.remove(a,g.forma))))}null==i&&(i=null!=(r=o.opt(s[0].controller,function(e){return e.preferredXAlignment}))?r:l.AlignmentType.CenterX),t.push({alignment:i,formae:s})}return t},flattenInferredGroups:function(e){for(var t=o.iter(e.visitAsArray(c.FormaTraversal.JustChildren));!t.done;t.next()){var a=t.value;if(a.hasIntent(c.Forma.INTENT_INFERRED_TEMP_GROUP)){for(var r=o.iter(a.visitAsArray(c.FormaTraversal.JustChildren));!r.done;r.next()){var n=r.value;e.appendChild(n,!0)}a.removeFromParent(),o.opt(o.as(e.controller,m.GridController),function(e){return e.inferGridCellAssignment()})}}},inferVisualParentGroup:function(e,t){for(var a=t.finalFrame,r=o.clone(e.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating},c.FormaTraversal.JustChildren)),n=[],l=o.iter(r);!l.done;l.next()){var i,u,s=l.value;o.eq(c._equality_Forma_Forma,s,t)||(i=s.finalFrame)&&(u=a.intersectionWith(i))&&u.area/i.area>.75&&n.push(s)}if(n.length>0){var m=t.page.createFormaWithController(h.GroupForma.KIND,g.GroupController.KIND);m.allowUserMove=!0,m.intent=c.Forma.INTENT_INFERRED_TEMP_GROUP,e.appendChild(m),m.placement=p.Matrix2D.translationXY(a.minX,a.minY),m.bounds=y.TheoRect.fromSize(a.size);for(var f=o.iter(n);!f.done;f.next()){var v=f.value;m.appendChild(v,!0)}return m}return null},createOverlapGroups:function(e){for(var t=o.clone(e.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&!e.hasIntent(c.Forma.INTENT_INFERRED_TEMP_GROUP)},c.FormaTraversal.JustChildren)),a=[],n=o.iter(r.detectOverlapGroups(o.clone(t)));!n.done;n.next()){var l=n.value,i=e.page.createFormaWithController(h.GroupForma.KIND,g.GroupController.KIND);i.allowUserMove=!0,i.intent=c.Forma.INTENT_INFERRED_TEMP_GROUP,e.appendChild(i);for(var u=l[0].frame,s=o.iter(l);!s.done;s.next()){var m=s.value;u=u.unionWith(m.frame)}var f=u;i.placement=p.Matrix2D.translationXY(f.minX,f.minY),i.bounds=y.TheoRect.fromSize(f.size);for(var v=o.iter(l);!v.done;v.next())m=v.value,i.appendChild(m,!0);a.push(i)}return a},inferVisualGroups:function(e){return[]}}}),r)},137:function(e,t,a){var r,n=t,o=a(0),l=a(1),i=a(4),u=a(11),s=a(29),c=a(21),m=a(57),g=a(54),h=a(30),f=a(14),v=a(10);n.DesignFeatureUtils=(r=function(){i.CoreObject.call(this)},o.defineClass({name:"DesignFeatureUtils",ctor:r,superName:"CoreObject",statics:{evaluateRootEmptySpace:function(e){for(var t=o.clone(e.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating})),a={},r={},n=o.iter(t);!n.done;n.next()){var l=n.value,i=l.controller.visualParent;null==r[i.formaID]&&(r[i.formaID]=i),null==a[i.formaID]&&(a[i.formaID]=[]),a[i.formaID].push(l)}for(var u=[],s=o.iter(a);!s.done;s.next()){for(var c=s.key,m=s.value,g=0,h=o.iter(m);!h.done;h.next())g+=h.value.finalFrame.area;null!=r[c].finalFrame&&g>0&&u.push(g/r[c].finalFrame.area)}return 0==u.length?0:1-o.min(u)},getSymmAsymmForForma:function(e,t,a){void 0===a&&(a=0);for(var n=[],l=o.iter(e);!l.done;l.next()){var i=l.value;n.push(i.finalFrame)}return r.getSymmAsymm(o.clone(n),t,a)},getSymmAsymm:function(e,t,a){var n;void 0===a&&(a=0);for(var l=0,i=o.iter(e);!i.done;i.next())for(var u=i.value,s=t?new v.TheoRect(u.minX,1-u.maxY,u.maxX,1-u.minY):new v.TheoRect(1-u.maxX,u.minY,1-u.minX,u.maxY),c=o.iter(e);!c.done;c.next()){var m=c.value,g=r.frameIntersection(m,s);l+=(n=o.opt(g,function(e){return e.area}))||null!=n?n:0}return e.length>0?l:a},frameIntersection:function(e,t){var a=null;return Math.max(e.minX,t.minX)<Math.min(e.maxX,t.maxX)&&Math.max(e.minY,t.minY)<Math.min(e.maxY,t.maxY)&&(a=new v.TheoRect(Math.max(e.minX,t.minX),Math.max(e.minY,t.minY),Math.min(e.maxX,t.maxX),Math.min(e.maxY,t.maxY))),a},getImageCount:function(e){return o.toDouble(e.filterWithCallback(function(e){return e instanceof c.ImageForma}).length)},getTextCount:function(e){return o.toDouble(e.filterWithCallback(function(e){return e.isTypeLockup()}).length)},getShapeCount:function(e){return o.toDouble(e.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==g.ShapeController.KIND&&!e.isGridCell()}).length)},getFormaBoundingBox:function(e){for(var t=[],a=o.clone(e.totalPlacement.transformPoints(o.clone(e.bounds.points))),r=o.iter(a);!r.done;r.next()){var n=r.value;t.push(n.x),t.push(n.y)}return t},formaPercentageArea:function(e){var t,a=0;if(t=e.bounds){var r=o.clone(e.totalPlacement.transformPoints(o.clone(t.points))),n=r[3].x-r[0].x,l=r[3].y-r[0].y,i=e.page.pageSize.height;a=n*l/(e.page.pageSize.width*i)}return a},getFormaCenterX:function(e){var t=o.clone(e.totalPlacement.transformPoints(o.clone(e.bounds.points)));return(t[0].x+t[3].x)/2/e.page.pageSize.width},getFormaCenterY:function(e){var t=o.clone(e.totalPlacement.transformPoints(o.clone(e.bounds.points)));return(t[0].y+t[3].y)/2/e.page.pageSize.height},getPageWidth:function(e){return e.page.pageSize.width},getPageHeight:function(e){return e.page.pageSize.height},getFormaHeight:function(e){var t=o.clone(e.totalPlacement.transformPoints(o.clone(e.bounds.points))),a=t[1].distanceTo(t[0]);return l.CoreAssert.isTrue(a>=0),a},getFormaWidth:function(e){var t=o.clone(e.totalPlacement.transformPoints(o.clone(e.bounds.points))),a=t[2].distanceTo(t[0]);return l.CoreAssert.isTrue(a>=0),a},sumAreaOfForma:function(e,t){var a,r=0;if(a=t.finalFrame){l.CoreAssert.isTrue(a.area>0);for(var n=o.iter(e);!n.done;n.next()){var i;(i=n.value.finalFrame.intersectionWith(a))&&(r+=i.area/a.area)}}return Math.max(r,1)},getLockupsInDesign:function(e){return e.filterByControllerKind(f.TypeLockupController.KIND)},getRoleString:function(e){return(new m.RoleSuggester).getRole(e).role},isFloating:function(e){return e.isTypeLockup()||e.kind==h.ShapeForma.KIND&&e.hasIntent(u.Forma.INTENT_ICON)||e.kind==s.FrameForma.KIND&&e.controller.floating&&!e.isLogo()}}}),r)},241:function(e,t,a){var r,n=t,o=a(0),l=a(1),i=a(11),u=a(26),s=a(93),c=a(29),m=a(116),g=a(251),h=a(14),f=a(15),v=a(10),p=a(28);n.GridStyleFeatureExtractor=(r=function(e,t,a,r,n){var i;if(this.imageCells_=[],this.floatingCells_=[],this.adjacentImageCount_=0,this.cellXSymm_=0,this.cellYSymm_=0,void 0===e&&(e=null),void 0===t&&(t=null),void 0===a&&(a=null),void 0===r&&(r=null),void 0===n&&(n=[]),l.CoreAssert.isTrue(null!=t||null!=o.as(o.opt(e,function(e){return e.style}),m.GridStyle)),this.gridStyle_=t||e.style,this.gridFrame_=a||e.frame,this.gridCells_=o.clone(this.gridStyle_.gridCellArray),null!=r)this.layoutItems_=o.clone(r);else if(this.layoutItems_=[],i=e)for(var u=o.clone(i.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating||e.isBackgroundImage()})),c=o.iter(u);!c.done;c.next()){var h=c.value;this.layoutItems_.push(g.LayoutItem.init_b14a(h))}this.currentGrid_=e,this.forFeatures_=o.clone(n),this.featureEvals_=[],s.FeatureExtractor.call(this),this.imageCells_=o.clone(this.getTypeOfCell(g.ItemContentType.Image)),this.floatingCells_=o.clone(this.getTypeOfCell(g.ItemContentType.Floating)),this.adjacentImageCount_=0;for(var f=o.iter(this.imageCells_);!f.done;f.next())for(var v=f.value,p=o.iter(this.imageCells_);!p.done;p.next()){var d=p.value;this.isAdjacent(v,d)&&v!==d&&(this.adjacentImageCount_+=1)}this.cellXSymm_=this.getCellSymmAsymm(!0),this.cellYSymm_=this.getCellSymmAsymm(!1),this.initFeatures(),this.evaluateFeatures()},o.defineClass({name:"GridStyleFeatureExtractor",ctor:r,superName:"FeatureExtractor",statics:{_implements:function(e){return"FeatureExtractorProtocol"==e}},props:{initFeatures:function(){this.featureEvals_=[["CellAspectRatio",[this.evaluateCellAspectRatio,s.FeatureType.Numerical]],["AreaPercentImages",[this.evaluateAreaPercentImages,s.FeatureType.Numerical]],["ImageCellContentFit",[this.evaluateImageCellContentFit,s.FeatureType.Numerical]],["AverageCellSize",[this.evaluateAverageCellSize,s.FeatureType.Numerical]],["AverageImageCellSize",[this.evaluateAverageImageCellSize,s.FeatureType.Numerical]],["AverageTextCellSize",[this.evaluateAverageTextCellSize,s.FeatureType.Numerical]],["ImageCellVariance",[this.evaluateImageCellVariance,s.FeatureType.Numerical]],["TextCellVariance",[this.evaluateTextCellVariance,s.FeatureType.Numerical]],["OverallCellVariance",[this.evaluateOverallCellVariance,s.FeatureType.Numerical]],["TypeSymmetryAcrosstheXAxis",[this.evaluateXAxisTypeSymmetry,s.FeatureType.Numerical]],["TypeSymmetryAcrosstheYAxis",[this.evaluateYAxisTypeSymmetry,s.FeatureType.Numerical]],["TypeAsymmetryAcrosstheXAxis",[this.evaluateXAxisTypeAsymmetry,s.FeatureType.Numerical]],["TypeAsymmetryAcrosstheYAxis",[this.evaluateYAxisTypeAsymmetry,s.FeatureType.Numerical]],["CellSymmetryAcrosstheXAxis",[this.evaluateXAxisCellSymmetry,s.FeatureType.Numerical]],["CellSymmetryAcrosstheYAxis",[this.evaluateYAxisCellAsymmetry,s.FeatureType.Numerical]],["CellAsymmetryAcrosstheXAxis",[this.evaluateXAxisCellSymmetry,s.FeatureType.Numerical]],["CellAsymmetryAcrosstheYAxis",[this.evaluateYAxisCellAsymmetry,s.FeatureType.Numerical]],["AverageImageXVal",[this.evaluateAverageImageXVal,s.FeatureType.Numerical]],["AverageImageYVal",[this.evaluateAverageImageYVal,s.FeatureType.Numerical]],["AverageTextXVal",[this.evaluateAverageTextXVal,s.FeatureType.Numerical]],["AverageTextYVal",[this.evaluateAverageTextYVal,s.FeatureType.Numerical]],["ImageSpreadinXDimension",[this.evaluateImageXSpread,s.FeatureType.Numerical]],["ImageSpreadinYDimension",[this.evaluateImageYSpread,s.FeatureType.Numerical]],["TextSpreadinXDimension",[this.evaluateTextXSpread,s.FeatureType.Numerical]],["TextSpreadinYDimension",[this.evaluateTextYSpread,s.FeatureType.Numerical]],["MaxImageXOffsetFromCenter",[this.evaluateMaxImageXOffsetFromCenter,s.FeatureType.Numerical]],["MaxImageYOffsetFromCenter",[this.evaluateMaxImageYOffsetFromCenter,s.FeatureType.Numerical]],["MaxTextXOffsetFromCenter",[this.evaluateMaxTextXOffsetFromCenter,s.FeatureType.Numerical]],["MaxTextYOffsetFromCenter",[this.evaluateMaxTextYOffsetFromCenter,s.FeatureType.Numerical]],["TextFocused",[this.evaluateTextFocused,s.FeatureType.Numerical]],["TextDispersement",[this.evaluateTextDispersement,s.FeatureType.Numerical]],["AdjacentMatches",[this.evaluateAdjacentMatch,s.FeatureType.Numerical]],["AdjacentMismatches",[this.evaluateAdjacentMismatch,s.FeatureType.Numerical]],["PreviousOrder",[this.evaluatePreviousOrder,s.FeatureType.Numerical]],["PreviousPosition",[this.evaluatePreviousPosition,s.FeatureType.Numerical]],["PreviousPositionFlip",[this.evaluatePreviousPositionFlip,s.FeatureType.Numerical]],["PreviousImageSize",[this.evaluatePreviousImageSize,s.FeatureType.Numerical]]]},evaluateFeatures:function(){for(var e=0==this.forFeatures_.length,t=o.iter(this.featureEvals_);!t.done;t.next()){var a=t.value;if(e||!e&&this.forFeatures_.includes(a[0])){var r=a[1],n=(0,r[0])(this);this.setFeature(a[0],n,r[1])}}},evaluateCellAspectRatio:function(e){for(var t=0,a=o.iter(e.gridCells_);!a.done;a.next()){var r=a.value,n=e.gridFrame_.evalRect(r.bounds),i=Math.max(n.aspectRatio,1/n.aspectRatio);l.CoreAssert.isTrue(i>0),t+=i}return t/o.toDouble(e.gridCells_.length)},evaluateImageCellContentFit:function(e){for(var t=0,a=0,r=o.iter(e.layoutItems_);!r.done;r.next()){var n,l,i,u=r.value;if(u.type==g.ItemContentType.Image&&(n=o.opt(e.gridStyle_.formaMapping[u.id],function(e){return e.bounds}))&&null!=(l=u.width)&&null!=(i=u.height)){var s=e.gridFrame_.evalRect(n),c=v.TheoRect.fromSize(new p.TheoSize(o.toDouble(l),o.toDouble(i)));t+=s.similarity(c),a+=1}}return t/(o.toDouble(a)+1e-5)},evaluateAreaPercentImages:function(e){return e.getCellAreaSum(o.clone(e.getImageCells()))/e.gridFrame_.area},evaluateAverageCellSize:function(e){return 1/o.toDouble(e.gridCells_.length)},evaluateAverageImageCellSize:function(e){var t=o.clone(e.getImageCells());return 0!=t.length?e.getCellAreaSum(o.clone(t))/o.toDouble(t.length)/e.gridFrame_.area:0},evaluateAverageTextCellSize:function(e){var t=o.clone(e.getFloatingCells());return 0!=t.length?e.getCellAreaSum(o.clone(t))/o.toDouble(t.length)/e.gridFrame_.area:0},evaluateImageCellVariance:function(e){return e.getVariance(o.clone(e.getImageCells()))},evaluateTextCellVariance:function(e){return e.getVariance(o.clone(e.getFloatingCells()))},evaluateOverallCellVariance:function(e){var t=o.clone(e.getFloatingCells()),a=o.clone(e.getImageCells()),r=e.getMaxandMinCellArea(o.clone(a)),n=r[0],l=r[1],i=e.getMaxandMinCellArea(o.clone(t)),u=i[0],s=i[1],c=Math.max(n,u),m=Math.min(l,s);return Math.abs((c-m)/e.gridFrame_.area)},evaluateXAxisTypeSymmetry:function(e){return e.getSymmAsymm(o.clone(e.getImageCells()),o.clone(e.getImageCells()),!0,1)},evaluateYAxisTypeSymmetry:function(e){return e.getSymmAsymm(o.clone(e.getImageCells()),o.clone(e.getImageCells()),!1,1)},evaluateXAxisTypeAsymmetry:function(e){return 2*e.getSymmAsymm(o.clone(e.getImageCells()),o.clone(e.getFloatingCells()),!0,0)},evaluateYAxisTypeAsymmetry:function(e){return 2*e.getSymmAsymm(o.clone(e.getImageCells()),o.clone(e.getFloatingCells()),!1,0)},evaluateXAxisCellSymmetry:function(e){return e.cellXSymm_},evaluateYAxisCellSymmetry:function(e){return e.cellYSymm_},evaluateXAxisCellAsymmetry:function(e){return 1-e.cellXSymm_},evaluateYAxisCellAsymmetry:function(e){return 1-e.cellYSymm_},evaluateAverageImageXVal:function(e){return e.getAverageVal(o.clone(e.getImageCells()),!0)},evaluateAverageImageYVal:function(e){return e.getAverageVal(o.clone(e.getImageCells()),!1)},evaluateAverageTextXVal:function(e){return e.getAverageVal(o.clone(e.getFloatingCells()),!0)},evaluateAverageTextYVal:function(e){return e.getAverageVal(o.clone(e.getFloatingCells()),!1)},evaluateImageXSpread:function(e){return e.getSpread(o.clone(e.getImageCells()),!0)},evaluateImageYSpread:function(e){return e.getSpread(o.clone(e.getImageCells()),!1)},evaluateTextXSpread:function(e){return e.getSpread(o.clone(e.getFloatingCells()),!0)},evaluateTextYSpread:function(e){return e.getSpread(o.clone(e.getFloatingCells()),!1)},evaluateMaxImageXOffsetFromCenter:function(e){return e.getOffsetFromCenter(o.clone(e.getImageCells()),!0)},evaluateMaxImageYOffsetFromCenter:function(e){return e.getOffsetFromCenter(o.clone(e.getImageCells()),!1)},evaluateMaxTextXOffsetFromCenter:function(e){return e.getOffsetFromCenter(o.clone(e.getFloatingCells()),!0)},evaluateMaxTextYOffsetFromCenter:function(e){return e.getOffsetFromCenter(o.clone(e.getFloatingCells()),!1)},evaluateTextFocused:function(e){var t=o.clone(e.getFloatingCells());return 1==t.length&&e.gridFrame_.area>0?t[0].bounds.area/e.gridFrame_.area:0},evaluateTextDispersement:function(e){for(var t=o.clone(e.getFloatingCells()),a=0,r=o.iter(e.layoutItems_);!r.done;r.next()){var n=r.value;null!=e.gridStyle_.formaMapping[n.id]&&n.type==g.ItemContentType.Floating&&(a+=1)}return o.toDouble(t.length)/(a+.001)},evaluateAdjacentMatch:function(e){for(var t=0,a=0,r=o.clone(e.getFloatingCells()),n=o.clone(e.getImageCells()),l=o.iter(r);!l.done;l.next())for(var i=l.value,u=o.iter(r);!u.done;u.next()){for(var s=u.value,c=o.iter(n);!c.done;c.next()){var m=c.value;e.isAdjacent(i,m)&&(a+=1)}e.isAdjacent(i,s)&&i!==s&&(t+=1,a+=1)}return a+=e.adjacentImageCount_,t+=e.adjacentImageCount_,a>0?o.toDouble(t)/o.toDouble(a):0},evaluateAdjacentMismatch:function(e){for(var t=0,a=0,r=o.clone(e.getFloatingCells()),n=o.clone(e.getImageCells()),l=o.iter(r);!l.done;l.next())for(var i=l.value,u=o.iter(r);!u.done;u.next()){for(var s=u.value,c=o.iter(n);!c.done;c.next()){var m=c.value;e.isAdjacent(i,m)&&(a+=1,t+=1)}e.isAdjacent(i,s)&&i!==s&&(a+=1)}return(a+=e.adjacentImageCount_)>0?o.toDouble(t)/o.toDouble(a):0},evaluatePreviousPosition:function(e){return e.getPreviousPos(!1)},evaluatePreviousPositionFlip:function(e){return e.getPreviousPos(!0)},evaluatePreviousImageSize:function(e){var t;if(t=e.currentGrid_){for(var a=t.root,r=0,n={},l=o.iter(o.keys(e.gridStyle_.formaMapping));!l.done;l.next()){var i=l.value;n[i]=e.gridStyle_.formaMapping[i]}for(var u=o.iter(n);!u.done;u.next()){var s,c=u.key,m=u.value,g=o.opt(a,function(e){return e.formaByID(c)});if(null!=g&&(s=g.finalFrame)){var h=a.finalFrame.size,f=o.opt(t.finalFrame,function(e){return e.evalRect(m.bounds)});g.isImage()&&null!=f&&(r+=Math.abs(s.area-f.area)/(h.width*h.height))}}return r}return 0},evaluatePreviousOrder:function(e){var t;if(t=e.currentGrid_){for(var a=t.root,r=[],n=[],l=o.clone(e.getImageCells()),s=o.clone(e.getFloatingCells()),m=[],g=o.iter(o.range(0,e.gridCells_.length,!1));!g.done;g.next())m.push(null);for(var v={},p=o.iter(o.keys(e.gridStyle_.formaMapping));!p.done;p.next()){var d=p.value;v[d]=e.gridStyle_.formaMapping[d]}for(var F=o.iter(v);!F.done;F.next()){var y=F.key,C=F.value,x=o.opt(a,function(e){return e.formaByID(y)});o.opt(o.opt(x,function(e){return e.controller}),function(e){return e.kind==u.FrameController.KIND})&&(l.includes(C)||l.push(C),r.push({cell:C,forma:x})),o.opt(o.opt(x,function(e){return e.controller}),function(e){return e.kind==h.TypeLockupController.KIND})&&(s.includes(C)||s.push(C),n.push({cell:C,forma:x}))}var T=o.clone(t.root.filterByKind(c.FrameForma.KIND));o.sortInPlace(T,function(e,t){return e.frame.center.distanceTo(f.TheoPoint.ZERO)<t.frame.center.distanceTo(f.TheoPoint.ZERO)}),o.sortInPlace(r,function(e,t){return e.cell.bounds.origin.distanceTo(f.TheoPoint.ZERO)<t.cell.bounds.origin.distanceTo(f.TheoPoint.ZERO)});var S=o.clone(t.root.filterByControllerKind(h.TypeLockupController.KIND));o.sortInPlace(S,function(e,t){return e.frame.center.distanceTo(f.TheoPoint.ZERO)<t.frame.center.distanceTo(f.TheoPoint.ZERO)}),o.sortInPlace(s,function(e,t){return e.bounds.center.distanceTo(f.TheoPoint.ZERO)<t.bounds.center.distanceTo(f.TheoPoint.ZERO)});for(var _=0,A=o.iter(o.range(0,r.length,!1));!A.done;A.next()){var I=r[E=A.value].forma;null!=(X=o.indexOfEq(T,I,i._equality_Forma_Forma))&&X!=E&&(_+=1)}for(var D=[],k=o.iter(s);!k.done;k.next()){for(var N=k.value,b=[],P=o.iter(n);!P.done;P.next()){var w=P.value;w.cell==N&&b.push(w.forma)}o.sortInPlace(b,function(e,t){return e.finalFrame.origin.distanceTo(f.TheoPoint.ZERO)<t.finalFrame.origin.distanceTo(f.TheoPoint.ZERO)}),o.append(D,b)}for(var M=o.iter(o.range(0,D.length,!1));!M.done;M.next()){var E,X,Y=D[E=M.value];null!=(X=o.indexOfEq(S,Y,i._equality_Forma_Forma))&&X!=E&&(_+=1)}return _}return 0},getPreviousPos:function(e){var t;if(t=this.currentGrid_){for(var a=t.root,r=0,n={},i=o.iter(o.keys(this.gridStyle_.formaMapping));!i.done;i.next()){var u=i.value;n[u]=this.gridStyle_.formaMapping[u]}for(var s=o.iter(n);!s.done;s.next()){var c,m=s.key,g=s.value,h=o.opt(a,function(e){return e.formaByID(m)});if(null!=h&&(c=h.finalFrame)){var v=a.finalFrame.size;l.CoreAssert.isTrue(v.width>0&&v.height>0),r+=(e?new f.TheoPoint(c.center.y/v.height,c.center.x/v.width):new f.TheoPoint(c.center.x/v.width,c.center.y/v.height)).distanceTo(g.bounds.center)}}return r}return 0},getSymmAsymm:function(e,t,a,r){var n;void 0===r&&(r=0);var l=0;if(0==t.length||0==e.length)return r;for(var i=o.iter(o.range(0,e.length,!1));!i.done;i.next())for(var u=e[i.value].bounds,s=a?new v.TheoRect(u.minX,1-u.maxY,u.maxX,1-u.minY):new v.TheoRect(1-u.maxX,u.minY,1-u.minX,u.maxY),c=o.iter(o.range(0,t.length,!1));!c.done;c.next()){var m=c.value,g=this.cellIntersection(t[m].bounds,s);l+=(n=o.opt(g,function(e){return e.area}))||null!=n?n:0}return e.length>0?l:r},getCellSymmAsymm:function(e){for(var t,a=0,r=o.iter(o.range(0,this.gridCells_.length,!1));!r.done;r.next())for(var n=r.value,l=this.gridCells_[n].bounds,i=e?new v.TheoRect(l.minX,1-l.maxY,l.maxX,1-l.minY):new v.TheoRect(1-l.maxX,l.minY,1-l.minX,l.maxY),u=o.iter(o.range(0,this.gridCells_.length,!1));!u.done;u.next()){var s=u.value,c=this.gridCells_[s].bounds,m=this.cellIntersection(c,i);a+=((t=o.opt(m,function(e){return e.area}))||null!=t?t:0)/Math.max(l.area,c.area)}return this.gridCells_.length>0?a/o.toDouble(this.gridCells_.length):0},cellIntersection:function(e,t){var a=null;return Math.max(e.minX,t.minX)<Math.min(e.maxX,t.maxX)&&Math.max(e.minY,t.minY)<Math.min(e.maxY,t.maxY)&&(a=new v.TheoRect(Math.max(e.minX,t.minX),Math.max(e.minY,t.minY),Math.min(e.maxX,t.maxX),Math.min(e.maxY,t.maxY))),a},isAdjacent:function(e,t){var a=e.bounds,r=t.bounds;return a.maxX-r.minX>0&&r.maxX-a.minX>0&&a.maxY-r.minY>=0&&r.maxY-a.minY>=0||a.maxX-r.minX>=0&&r.maxX-a.minX>=0&&a.maxY-r.minY>0&&r.maxY-a.minY>0},getOffsetFromCenter:function(e,t){for(var a=0,r=o.iter(e);!r.done;r.next()){var n=r.value,l=Math.abs((t?n.bounds.center.x:n.bounds.center.y)-.5);l>a&&(a=l)}return a},getAverageVal:function(e,t){for(var a=0,r=o.iter(e);!r.done;r.next()){var n=r.value;a+=t?n.bounds.center.x:n.bounds.center.y}return e.length>0?a/o.toDouble(e.length):0},getSpread:function(e,t){for(var a=1,r=0,n=o.iter(e);!n.done;n.next()){var l=n.value;t?(l.bounds.minX<a&&(a=l.bounds.minX),l.bounds.maxX>r&&(r=l.bounds.maxX)):(l.bounds.minY<a&&(a=l.bounds.minY),l.bounds.maxY>r&&(r=l.bounds.maxY))}return Math.max(r-a,0)},getVariance:function(e){var t=this.getMaxandMinCellArea(o.clone(e)),a=t[0],r=t[1];return Math.abs((a-r)/this.gridFrame_.area)},getMaxandMinCellArea:function(e){for(var t=0,a=this.gridFrame_.area,r=o.iter(e);!r.done;r.next()){var n=r.value,l=this.gridFrame_.evalRect(n.bounds).area;l>t&&(t=l),l<a&&(a=l)}return[t,a]},getCellAreaSum:function(e){for(var t=0,a=o.iter(e);!a.done;a.next()){var r=a.value;t+=this.gridFrame_.evalRect(r.bounds).area}return t},getImageCells:function(){return this.imageCells_},getFloatingCells:function(){return this.floatingCells_},getTypeOfCell:function(e){for(var t=[],a=o.iter(this.layoutItems_);!a.done;a.next()){var r,n=a.value;(r=this.gridStyle_.formaMapping[n.id])&&n.type==e&&(t.includes(r)||t.push(r))}return t}}}),r)},317:function(e,t,a){var r,n=t,o=a(0),l=a(49),i=a(137),u=a(11),s=a(93),c=a(23),m=a(17),g=a(54),h=a(14),f=a(15);n.DesignConstraintFeatureExtractor=(r=function(e,t){void 0===t&&(t=[]),this.root_=e,this.forFeatures_=o.clone(t),this.featureEvals_=[],s.FeatureExtractor.call(this),this.initFeatures(),this.evaluateFeatures()},o.defineClass({name:"DesignConstraintFeatureExtractor",ctor:r,superName:"FeatureExtractor",statics:{_implements:function(e){return"FeatureExtractorProtocol"==e}},props:{initFeatures:function(){this.featureEvals_=[["Maxzoomlevel",[this.evaluateMaxZoomLevel,s.FeatureType.Numerical]],["textareanotcontrasting",[this.evaluateForUnreadableText,s.FeatureType.Numerical]],["shapesareanotcontrasting",[this.evaluateForUnreadableShapes,s.FeatureType.Numerical]],["lockupareaoutofbounds",[this.evaluateForOutOfBoundsElements,s.FeatureType.Numerical]],["minfontsize",[this.evaluateMinimumFont,s.FeatureType.Numerical]],["maxfontsize",[this.evaluateMaximumFont,s.FeatureType.Numerical]],["mintextarea",[this.evaluateMinimumText,s.FeatureType.Numerical]],["maxtextarea",[this.evaluateMaximumText,s.FeatureType.Numerical]],["minshapesize",[this.evaluateMinimumShape,s.FeatureType.Numerical]],["maxshapesize",[this.evaluateMaximumShape,s.FeatureType.Numerical]],["lockupareaoverlapping",[this.evaluatePercentageOverlapping,s.FeatureType.Numerical]],["Maxemptyspace",[this.evaluateEmptySpace,s.FeatureType.Numerical]],["textincorrectalign",[this.evaluateIncorrectlyAligned,s.FeatureType.Numerical]],["emptygridsquares",[this.evaluateEmptyGridPercent,s.FeatureType.Numerical]],["overlappingmultiplegridcells",[this.evaluateOverlappingMultipleGridCells,s.FeatureType.Numerical]],["maxaspectratio",[this.evaluateMaxAspectRatio,s.FeatureType.Numerical]],["breakingflowX",[this.evaluateBreakFlowX,s.FeatureType.Numerical]],["breakingflowY",[this.evaluateBreakFlowY,s.FeatureType.Numerical]],["BreakingHorisontalSymmetryinsidevisualparent",[this.evaluateHorisontalSymmetry,s.FeatureType.Numerical]],["marginsaretoosmall",[this.evaluateMargins,s.FeatureType.Numerical]],["balanceofvisualparentX",[this.evaluateBalanceX,s.FeatureType.Numerical]],["balanceofvisualparentY",[this.evaluateBalanceY,s.FeatureType.Numerical]],["totalalignmentlines",[this.evaluateTotalAlignmentLines,s.FeatureType.Numerical]]]},evaluateFeatures:function(){for(var e=0==this.forFeatures_.length,t=o.iter(this.featureEvals_);!t.done;t.next()){var a=t.value;if(e||!e&&this.forFeatures_.includes(a[0])){var r=a[1],n=(0,r[0])(this);this.setFeature(a[0],n,r[1])}}},evaluateMaxZoomLevel:function(e){for(var t=o.clone(e.root_.filterByKind("Image")),a=f.TheoPoint.ZERO,r=o.iter(t);!r.done;r.next()){var n=r.value.placement.extractedScale.scale;n.length()>a.length()&&(a=n)}return a.length()},evaluateForUnreadableText:function(e){return e.TestUnreadableController(h.TypeLockupController.KIND)},evaluateForUnreadableShapes:function(e){return e.TestUnreadableController(g.ShapeController.KIND)},evaluateForOutOfBoundsElements:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating})),a=e.root_.finalFrame,r=0,n=0,l=o.iter(t);!l.done;l.next()){var i,u;(i=l.value.finalFrame)&&(n+=i.area,(u=a.intersectionWith(i))&&(r+=u.area))}return(n-r)/Math.max(1e-5,n)},evaluateMinimumFont:function(e){for(var t,a=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&e.controller.kind==h.TypeLockupController.KIND})),r=null,n=o.iter(a);!n.done;n.next()){var l=n.value.controller.averageLineHeight;0!=l&&(null==r||l<r)&&(r=l)}return(t=r)||null!=t?t:0},evaluateMaximumFont:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&e.controller.kind==h.TypeLockupController.KIND})),a=0,r=o.iter(t);!r.done;r.next()){var n=r.value.controller.averageLineHeight;n>a&&(a=n)}return a},evaluateMinimumText:function(e){return e.getMinControllerArea(h.TypeLockupController.KIND)},evaluateMaximumText:function(e){return e.getMaxControllerArea(h.TypeLockupController.KIND)},evaluateMinimumShape:function(e){return e.getMinControllerArea(g.ShapeController.KIND)},evaluateMaximumShape:function(e){return e.getMaxControllerArea(g.ShapeController.KIND)},evaluatePercentageOverlapping:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&e.isTypeLockup()})),a=[],r=o.iter(t);!r.done;r.next()){var n=r.value;a.push(n.finalFrame)}for(var l=0,i=0,u=0,s=o.iter(a);!s.done;s.next()){var c=s.value;i+=c.area;for(var m=o.iter(o.range(0,u,!1));!m.done;m.next()){var g=m.value,h=c.intersectionWith(a[g]);null!=h&&(l+=h.area)}u+=1}return 2*l/i},evaluateEmptySpace:function(e){return i.DesignFeatureUtils.evaluateRootEmptySpace(e.root_)},evaluateIncorrectlyAligned:function(e){var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&e.isTypeLockup()})),a=t.filter(function(e){return Math.acos(e.totalPlacement.transformValues.rotCosine)<1e-4},this);if(a.length<=1)return 0;for(var r=0,n=o.iter(a);!n.done;n.next()){var i=n.value,u=o.clone(i.controller.alignmentDetector.detectFormaAlignments(l.AlignmentDetector.DISTANCE_THRESHOLD)),s=o.clone(e.getLockupsWithin(i,o.clone(a),300));o.clone(e.getSetDiff(o.clone(s),o.clone(u))).length>0&&(r+=1)}return r/o.toDouble(t.length)},evaluateEmptyGridPercent:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return e.isGridCell()})),a=0,r=o.iter(t);!r.done;r.next()){var n=r.value,l=o.clone(e.root_.filterWithCallback(function(e){return null!=e.finalFrame&&null!=e.controller&&(e.finalFrame.intersects(n.finalFrame)||e.finalFrame.contains(n.finalFrame))&&e.controller.floating}));n.isShape()&&0==l.length&&(a+=1)}return a/o.toDouble(t.length)},evaluateOverlappingMultipleGridCells:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating})),a=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&(e.isGridCell()||e.isShape())})),r=0,n=o.iter(t);!n.done;n.next()){var l=n.value;l.kind==c.GroupForma.KIND?r+=e.groupOverlapHelper(l,o.clone(a)):r+=e.overlapHelper(l,o.clone(a))}return r},evaluateMaxAspectRatio:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return e.isGridCell()})),a=0,r=o.iter(t);!r.done;r.next()){var n=r.value.finalFrame;if(n.area>0){var l=(n.width>n.height?n.width:n.height)/(n.width>n.height?n.height:n.width);l>a&&(a=l)}}return a},evaluateBreakFlowX:function(e){return e.breakFlowHelper(!0)},evaluateBreakFlowY:function(e){return e.breakFlowHelper(!1)},evaluateHorisontalSymmetry:function(e){var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating}));if(0==t.length)return 0;for(var a=0,r=o.iter(t);!r.done;r.next()){var n=r.value,i=n.finalFrame.center.x,u=n.controller.visualParent.finalFrame.center.x,s=l.AlignmentDetector.DISTANCE_THRESHOLD;Math.abs(i-u)>s&&(a+=Math.exp(2*s-Math.abs(i-u)))}return a},evaluateMargins:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating})),a=0,r=o.iter(t);!r.done;r.next()){var n=r.value,l=e.getMinMarginHelper(n);a+=Math.exp(9-l)}return a>9999999?9999999:a},evaluateBalanceX:function(e){return e.balanceHelper(!0)},evaluateBalanceY:function(e){return e.balanceHelper(!1)},evaluateTotalAlignmentLines:function(e){var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&e.isTypeLockup()})).filter(function(e){return Math.acos(e.totalPlacement.transformValues.rotCosine)<1e-4},this);if(t.length<=1)return 0;for(var a=0,r=[],n=o.iter(t);!n.done;n.next()){var i=n.value,s=o.clone(i.controller.alignmentDetector.detectFormaAlignments(l.AlignmentDetector.DISTANCE_THRESHOLD));if(s.length>0){for(var c=[],m=o.iter(s);!m.done;m.next()){var g=m.value;if(null!=g.forma){var h=g.forma;null!=h.controller&&h.controller.floating&&(h.isTypeLockup()||h.isShape())&&c.push(g.forma)}}for(var f=o.iter(c);!f.done;f.next()){var v=f.value;if(!o.containsEq(r,v,u._equality_Forma_Forma)){for(var p=o.iter(c);!p.done;p.next()){var d=p.value;o.containsEq(r,d,u._equality_Forma_Forma)||r.push(d)}o.containsEq(r,i,u._equality_Forma_Forma)||r.push(i),a+=1;break}}}}return a},TestUnreadableController:function(e,t,a){void 0===t&&(t=5),void 0===a&&(a=.05);var r=o.clone(this.root_.filterWithCallback(function(t){return null!=t.controller&&t.controller.floating&&t.controller.kind==e}));if(0==r.length)return 0;for(var n=0,l=0,i=o.iter(r);!i.done;i.next()){for(var u=i.value,s=[],c=u.finalFrame,g=!!u.isTypeLockup()&&u.style.textLook==m.LockupTextLook.Shadow,h=o.clone(c.split(t,!0)),f=o.iter(h);!f.done;f.next()){var v=f.value,p=o.clone(v.split(t,!1));o.append(s,p)}for(var d=0,F=o.iter(s);!F.done;F.next()){var y=F.value,C=u.controller.getBackgroundColor(y),x=u.style.colors.fieldPrimary,T=u.style.colors.fieldSecondary;null!=x&&null!=C&&(C.contrasts(x,!1)||null!=T&&!g&&C.contrasts(T,!1)||(d+=1))}d/o.toDouble(t*t)>a&&(n+=c.area),l+=c.area}return n/l},getMaxControllerArea:function(e){for(var t=o.clone(this.root_.filterWithCallback(function(t){return null!=t.controller&&t.controller.floating&&t.controller.kind==e})),a=0,r=o.iter(t);!r.done;r.next()){var n=r.value.finalFrame.area;n>a&&(a=n)}return a},getMinControllerArea:function(e){for(var t=o.clone(this.root_.filterWithCallback(function(t){return null!=t.controller&&t.controller.floating&&t.controller.kind==e})),a=null,r=o.iter(t);!r.done;r.next()){var n=r.value.finalFrame.area;0!=n&&(null==a||n<a)&&(a=n)}return null==a?0:a},getLockupsWithin:function(e,t,a){for(var r=[],n=o.iter(t);!n.done;n.next()){var l=n.value;e.formaID!=l.formaID&&l.finalFrame.center.distanceTo(e.finalFrame.center)<a&&r.push(l)}return r},overlapHelper:function(e,t){for(var a=0,r=e.finalFrame,n=o.iter(t);!n.done;n.next()){var l=n.value,i=l.finalFrame;if(!i.contains(r)&&e.controller.visualParent.formaID==l.controller.visualParent.formaID||e.controller.visualParent.formaID==this.root_.formaID){var u=i.intersectionWith(r);null!=u&&u.area/r.area<.5&&(a+=.5-u.area/r.area)}}return a},groupOverlapHelper:function(e,t){for(var a=0,r=e.childrenFinalFrame,n=o.iter(t);!n.done;n.next()){var l=n.value,i=l.finalFrame;if(!i.contains(r)&&e.controller.groupVisualParent.formaID==l.controller.visualParent.formaID||e.controller.groupVisualParent.formaID==this.root_.formaID){var u=i.intersectionWith(r);null!=u&&u.area/r.area<.5&&(a+=.5-u.area/r.area)}}return a},balanceHelper:function(e){for(var t=o.clone(this.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating})),a={},r={},n=o.iter(t);!n.done;n.next()){var l=n.value;null==a[(c=l.controller.visualParent).formaID]?(a[c.formaID]=[l],r[c.formaID]=c.finalFrame):a[c.formaID].push(l)}for(var i=0,u=0,s=o.iter(a);!s.done;s.next()){for(var c=s.key,m=s.value,g=e?r[c].center.x:r[c].center.y,h=0,f=0,v=o.iter(m);!v.done;v.next()){var p=v.value.finalFrame,d=e?p.center.x:p.center.y,F=e?p.width:p.height,y=d-F/2;if(g>d+F/2)h+=p.area;else if(g<y)f+=p.area;else{var C=(g-y)/F;h+=p.area*C,f+=p.area*(1-C)}}i+=Math.abs(h-f),u+=h+f}return i/u},breakFlowHelper:function(e){var t=o.clone(this.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&e.isTypeLockup()}));if(0==t.length)return 0;for(var a=0,r=o.iter(t);!r.done;r.next())for(var n=r.value,l=n.controller.averageLineHeight,i=e?n.finalFrame.center.x:n.finalFrame.center.y,s=e?n.finalFrame.minX:n.finalFrame.minY,c=o.iter(t);!c.done;c.next()){var m=c.value;if(o.eq(u._equality_Forma_Forma,n,m))break;var g=m.controller.averageLineHeight,h=e?m.finalFrame.center.x:m.finalFrame.center.y,f=e?m.finalFrame.minX:m.finalFrame.minY;if(g>l){var v=h-i,p=f-s;if((p<v?p:v)>0){a+=1;break}}}return 2*a/o.toDouble(t.length)},getMinMarginHelper:function(e){var t,a;e.kind==c.GroupForma.KIND?(t=e.childrenFinalFrame,a=e.controller.groupVisualParent.finalFrame):(t=e.finalFrame,a=e.controller.visualParent.finalFrame);var r=a.maxY-t.maxY;return t.minX-a.minX<r&&(r=t.minX-a.minX),t.minY-a.minY<r&&(r=t.minY-a.minY),a.maxX-t.maxX<r&&(r=a.maxX-t.maxX),r},getSetDiff:function(e,t){for(var a=[],r=o.iter(e);!r.done;r.next()){for(var n=r.value,l=!1,i=o.iter(t);!i.done;i.next())i.value.forma.formaID==n.formaID&&(l=!0);l||a.push(n)}return a}}}),r)},324:function(e,t,a){var r,n=t,o=a(0),l=a(4);n.ModelWeightLibrary=(r=function(){l.CoreObject.call(this)},o.defineClass({name:"ModelWeightLibrary",ctor:r,superName:"CoreObject",statics:{weights:{DefaultDesignScore:{Maxzoomlevel:{mean:.00018027334267821125,std:.8132335406308514,weight:-.08010375273536166},textareanotcontrasting:{mean:-.0033339994317995274,std:.25020875502904477,weight:-.14415975362288352},shapesareanotcontrasting:{mean:-.0005424908444142923,std:.16815414319793917,weight:-.030270956800708296},lockupareaoutofbounds:{mean:.0003963054774770136,std:.03879175427738692,weight:-.1289655276464355},minfontsize:{mean:.4162329663731091,std:27.695820940950014,weight:.04372203001144579},maxfontsize:{mean:.4612274707747426,std:57.444985900183354,weight:.10830759811249395},mintextarea:{mean:488.9105104765153,std:89533.71385858732,weight:-.013866098359443309},maxtextarea:{mean:1325.1752065666267,std:186711.01621053327,weight:-.2361503759042213},minshapesize:{mean:-55.646916071109146,std:44574.83972690322,weight:.029270742827542353},maxshapesize:{mean:-201.25488977770246,std:46340.96127095905,weight:-.08223116203941933},lockupareaoverlapping:{mean:.00020290565299043752,std:.03925994410311496,weight:-.1636881423600194},Maxemptyspace:{mean:-.004717028998489912,std:.1976916685529546,weight:-.11662298994579136},textincorrectalign:{mean:-.004764058495477163,std:.2987539130553497,weight:-.03690998410689036},emptygridsquares:{mean:-.0007268850555160692,std:.14877245350943186,weight:-.23283917900645912},overlappingmultiplegridcells:{mean:-.008452699670100044,std:.4087079047503421,weight:-.0569178307172981},maxaspectratio:{mean:.021926589002448465,std:3.1432119741395548,weight:.21439804312559388},breakingflowX:{mean:-.006980250264133872,std:.45684350428459336,weight:.011093192112083617},breakingflowY:{mean:-.008525554047037538,std:.4077234799494897,weight:-.06308947475173525},BreakingHorisontalSymmetryinsidevisualparent:{mean:412041.9613712293,std:45212121.039130844,weight:-.034310695376294276},marginsaretoosmall:{mean:-32649.714698565716,std:4443401.694947285,weight:-.028229129254167384},balanceofvisualparentX:{mean:-.007559473558332495,std:.3227787688513554,weight:-.13312017596904124},balanceofvisualparentY:{mean:-.010450324811186476,std:.4524201239517186,weight:-.09532942482280946},totalalignmentlines:{mean:-.0009045680687471732,std:.5654767847212782,weight:.007683119790124987},CellAspectRatio:{mean:-.000866027015147402,std:1.4808460165726252,weight:-.2282126421778498},AreaPercentImages:{mean:.0011783622381679377,std:.3209991901820274,weight:.40897766247230655},ImageCellContentFit:{mean:-.0010022863121065778,std:.06839864851764367,weight:-.035663159273769146},AverageCellSize:{mean:-.003853477920843118,std:.3674675336869799,weight:-.0861206668785603},AverageImageCellSize:{mean:.0014705706334928255,std:.30689611738107436,weight:-.310870215199779},AverageTextCellSize:{mean:.0030857846907960075,std:.3190234573570835,weight:.03296304542028719},ImageCellVariance:{mean:.0008047901252859525,std:.06410991367658431,weight:-.024296079984680582},TextCellVariance:{mean:.0036032703466117107,std:.14545169804975572,weight:.08747903039684307},OverallCellVariance:{mean:.010513688422152926,std:.3036485447684895,weight:.006791166993508748},TypeSymmetryAcrosstheXAxis:{mean:.0025981146277427093,std:.43849102556669445,weight:-.2902662035011975},TypeSymmetryAcrosstheYAxis:{mean:-.0007791864813152262,std:.45283696286437347,weight:-.23419662370595393},TypeAsymmetryAcrosstheXAxis:{mean:.008912652724408086,std:.7331157676033474,weight:-.09727780755199468},TypeAsymmetryAcrosstheYAxis:{mean:.010873023708513306,std:.6982196294438795,weight:.03350849616250007},CellSymmetryAcrosstheXAxis:{mean:-.001132162147191269,std:.33392704164452364,weight:.06266679976903884},CellSymmetryAcrosstheYAxis:{mean:-.0005155668142621847,std:.33292297327240367,weight:-.058041551211506504},CellAsymmetryAcrosstheXAxis:{mean:.001132162147191268,std:.33392704164452364,weight:-.06266679976903927},CellAsymmetryAcrosstheYAxis:{mean:.0005155668139908147,std:.3329229732722636,weight:.058041551397742044},AverageImageXVal:{mean:-.0015815559988986917,std:.15008002059800904,weight:-.06098982378772082},AverageImageYVal:{mean:7891179554016043e-20,std:.1438772538377358,weight:-.10273553740768389},AverageTextXVal:{mean:.0049443186134623075,std:.25262901903129675,weight:-.025304213039208205},AverageTextYVal:{mean:.004664303074648295,std:.26747263439055524,weight:.012656120935728677},ImageSpreadinXDimension:{mean:-.00310888031836687,std:.28336827022361394,weight:.24726198560445092},ImageSpreadinYDimension:{mean:.0031367634820247538,std:.27346012927936375,weight:.1989040843352687},TextSpreadinXDimension:{mean:.00650620828022051,std:.4043232862187427,weight:-.1293283969219272},TextSpreadinYDimension:{mean:.007645995665318362,std:.40379994376989187,weight:-.011516607422389176},MaxImageXOffsetFromCenter:{mean:.0016157427991856622,std:.14246903105574066,weight:-.020089296400970874},MaxImageYOffsetFromCenter:{mean:-.0008679463633771875,std:.12934639704481982,weight:-.15444476815025124},MaxTextXOffsetFromCenter:{mean:.0007758562872193546,std:.10612718654583783,weight:-.08563320326004221},MaxTextYOffsetFromCenter:{mean:.0025601067703762033,std:.14804047677121857,weight:.0002795079579061673},TextFocused:{mean:1.1008033251432315e-9,std:3.747646504742835e-7,weight:.011466692333776875},TextDispersement:{mean:.006047062110539865,std:.38381427709455296,weight:.025895655099346427},AdjacentMatches:{mean:.001957343375687507,std:.24482209931437043,weight:-.021211802454498736},AdjacentMismatches:{mean:.005279201174289879,std:.4373270531182902,weight:.0011997430973767964},PreviousOrder:{mean:-.004296698326549073,std:.7698699665723179,weight:-.004121330693776555},PreviousPosition:{mean:.0040594447624014525,std:.4015754424391129,weight:.02671704069247397},PreviousPositionFlip:{mean:.009238177093947593,std:1.072273993426883,weight:.14746380228860045}},DefaultGridScore:{CellAspectRatio:{mean:0,std:1,weight:-.571428571428571},AreaPercentImages:{mean:0,std:1,weight:.3},ImageCellContentFit:{mean:0,std:1,weight:-10},AverageCellSize:{mean:0,std:1,weight:.4},AverageImageCellSize:{mean:0,std:1,weight:.3},AverageTextCellSize:{mean:0,std:1,weight:.2},ImageCellVariance:{mean:0,std:1,weight:-.7},TextCellVariance:{mean:0,std:1,weight:-.7},OverallCellVariance:{mean:0,std:1,weight:0},TypeSymmetryAcrosstheXAxis:{mean:0,std:1,weight:1.42857142857143},TypeSymmetryAcrosstheYAxis:{mean:0,std:1,weight:1.42857142857143},TypeAsymmetryAcrosstheXAxis:{mean:0,std:1,weight:-1.42857142857143},TypeAsymmetryAcrosstheYAxis:{mean:0,std:1,weight:-1.42857142857143},CellSymmetryAcrosstheXAxis:{mean:0,std:1,weight:.285714285714286},CellSymmetryAcrosstheYAxis:{mean:0,std:1,weight:.285714285714286},CellAsymmetryAcrosstheXAxis:{mean:0,std:1,weight:-.285714285714286},CellAsymmetryAcrosstheYAxis:{mean:0,std:1,weight:-.285714285714286},AverageImageXVal:{mean:0,std:1,weight:0},AverageImageYVal:{mean:0,std:1,weight:0},AverageTextXVal:{mean:0,std:1,weight:0},AverageTextYVal:{mean:0,std:1,weight:0},ImageSpreadinXDimension:{mean:0,std:1,weight:.571428571428571},ImageSpreadinYDimension:{mean:0,std:1,weight:.571428571428571},TextSpreadinXDimension:{mean:0,std:1,weight:.571428571428571},TextSpreadinYDimension:{mean:0,std:1,weight:.571428571428571},MaxImageXOffsetFromCenter:{mean:0,std:1,weight:0},MaxImageYOffsetFromCenter:{mean:0,std:1,weight:0},MaxTextXOffsetFromCenter:{mean:0,std:1,weight:0},MaxTextYOffsetFromCenter:{mean:0,std:1,weight:0},TextFocused:{mean:0,std:1,weight:.142857142857143},TextDispersement:{mean:0,std:1,weight:1.17142857142857},AdjacentMatches:{mean:0,std:1,weight:-2.85714285714286},AdjacentMismatches:{mean:0,std:1,weight:2.85714285714286},PreviousOrder:{mean:0,std:1,weight:-1},PreviousPosition:{mean:0,std:1,weight:-1},PreviousPositionFlip:{mean:0,std:1,weight:-.5},PreviousImageSize:{mean:0,std:1,weight:-10}}},getData:function(e,t){return o.keys(r.weights).includes(e)&&o.keys(r.weights[e]).includes(t)?r.weights[e][t]:{mean:0,std:1,weight:0}}}}),r)},453:function(e,t,a){var r,n=t,o=a(0),l=a(19),i=a(137),u=a(26),s=a(93),c=a(25),m=a(21),g=a(17),h=a(35),f=a(30),v=a(14);n.DesignStyleFeatureExtractor=(r=function(e,t){void 0===t&&(t=[]),this.root_=e,this.forFeatures_=o.clone(t),this.featureEvals_=[],s.FeatureExtractor.call(this),this.initFeatures(),this.evaluateFeatures()},o.defineClass({name:"DesignStyleFeatureExtractor",ctor:r,superName:"FeatureExtractor",statics:{_implements:function(e){return"FeatureExtractorProtocol"==e}},props:{initFeatures:function(){this.featureEvals_=[["TextSymmetryX",[this.evaluateTextXSymmetry,s.FeatureType.Numerical]],["TextSymmetryY",[this.evaluateTextYSymmetry,s.FeatureType.Numerical]],["Whitespace",[this.evaluateWhiteSpace,s.FeatureType.Numerical]],["DesignAngle",[this.evaluateDesignAngle,s.FeatureType.Numerical]],["TextDesignCoverage",[this.evaluateTextDesignCoverage,s.FeatureType.Numerical]],["ImageDesignCoverage",[this.evaluateImageDesignCoverage,s.FeatureType.Numerical]],["ShapeDesignCoverage",[this.evaluateShapeDesignCoverage,s.FeatureType.Numerical]],["TextCount",[this.evaluateTextCount,s.FeatureType.Numerical]],["ImageCount",[this.evaluateImageCount,s.FeatureType.Numerical]],["ShapeCount",[this.evaluateShapeCount,s.FeatureType.Numerical]],["LogoCount",[this.evaluateLogoCount,s.FeatureType.Numerical]],["SalientCoverage",[this.evaluateSalientCoverage,s.FeatureType.Numerical]],["MarginSpace",[this.evaluateMarginSpace,s.FeatureType.Numerical]],["TextFonts",[this.evaluateFonts,s.FeatureType.Complex]],["TextShapes",[this.evaluateTextShapes,s.FeatureType.Complex]],["DesignColors",[this.evaluateColors,s.FeatureType.Complex]],["BackgroundTypes",[this.evaluateBackgroundTypes,s.FeatureType.Complex]],["GridCount",[this.evaluateGridCount,s.FeatureType.Numerical]],["PageHeight",[this.evaluatePageHeight,s.FeatureType.Numerical]],["PageWidth",[this.evaluatePageWidth,s.FeatureType.Numerical]],["BackgroundImageCount",[this.evaluateBackgroundImageCount,s.FeatureType.Numerical]],["ForegroundImageCount",[this.evaluateForegroundImageCount,s.FeatureType.Numerical]],["VisualGroupInfo",[this.evaluateVisualGroupInfo,s.FeatureType.Numerical]]]},evaluateFeatures:function(){for(var e=0==this.forFeatures_.length,t=o.iter(this.featureEvals_);!t.done;t.next()){var a=t.value;if(e||!e&&this.forFeatures_.includes(a[0])){var r=a[1],n=(0,r[0])(this);this.setFeature(a[0],n,r[1])}}},evaluateTextXSymmetry:function(e){var t=o.clone(e.root_.filterByControllerKind(v.TypeLockupController.KIND));return i.DesignFeatureUtils.getSymmAsymmForForma(o.clone(t),!0)},evaluateTextYSymmetry:function(e){var t=o.clone(e.root_.filterByControllerKind(v.TypeLockupController.KIND));return i.DesignFeatureUtils.getSymmAsymmForForma(o.clone(t),!1)},evaluateWhiteSpace:function(e){return i.DesignFeatureUtils.evaluateRootEmptySpace(e.root_)},evaluateDesignAngle:function(e){return e.root_.page.pageSize.angle},evaluateTextDesignCoverage:function(e){return i.DesignFeatureUtils.sumAreaOfForma(o.clone(e.root_.filterByControllerKind(v.TypeLockupController.KIND)),e.root_)},evaluateImageDesignCoverage:function(e){return i.DesignFeatureUtils.sumAreaOfForma(o.clone(e.root_.filterByControllerKind(u.FrameController.KIND)),e.root_)},evaluateShapeDesignCoverage:function(e){var t=o.clone(e.root_.filterWithCallback(function(e){return e instanceof f.ShapeForma&&null!=e.controller&&e.controller.floating}));return i.DesignFeatureUtils.sumAreaOfForma(o.clone(t),e.root_)},evaluateTextCount:function(e){return i.DesignFeatureUtils.getTextCount(e.root_)},evaluateImageCount:function(e){return i.DesignFeatureUtils.getImageCount(e.root_)},evaluateShapeCount:function(e){return i.DesignFeatureUtils.getShapeCount(e.root_)},evaluateLogoCount:function(e){var t=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.isLogo()}));return o.toDouble(t.length)},evaluateSalientCoverage:function(e){for(var t=o.clone(e.root_.filterByControllerKind(u.FrameController.KIND)),a=0,r=o.iter(t);!r.done;r.next()){var n,l,i,s=r.value;(n=e.root_.finalFrame)&&(l=o.opt(o.as(s,m.ImageForma),function(e){return e.getFocusRegion()}))&&(i=l.intersectionWith(n))&&(a+=i.area/n.area)}return Math.max(a,1)},evaluateMarginSpace:function(e){var t,a=0,r=o.clone(e.root_.filterByControllerKind(c.GridController.KIND));return r.length>0&&(t=o.as(r[0].controller,c.GridController))&&(a=t.margin),a},evaluateVisualGroupInfo:function(e){return o.toDouble(0)},evaluateFonts:function(e){for(var t=[],a=o.iter(i.DesignFeatureUtils.getLockupsInDesign(e.root_));!a.done;a.next()){var r,n,l=a.value;(r=o.as(l.style,g.LockupStyle))&&(n=r.font)&&t.push(n.fontData.postScriptName)}return t},evaluateTextShapes:function(e){for(var t=[],a=o.iter(i.DesignFeatureUtils.getLockupsInDesign(e.root_));!a.done;a.next()){var r,n=a.value;(r=o.as(n.style,g.LockupStyle))&&t.push(r.backingShapeID)}return t},evaluateColors:function(e){for(var t=[],a=o.clone(e.root_.filterWithCallback(function(e){return e instanceof m.ImageForma})),r=o.iter(a);!r.done;r.next()){var n,l,u=r.value;(n=o.as(u,m.ImageForma))&&(l=o.opt(n.contentNode,function(e){return e.image}))&&o.append(t,l.getImageColors(5))}for(var s=o.iter(i.DesignFeatureUtils.getLockupsInDesign(e.root_));!s.done;s.next()){var c,h,f,v,p=s.value;(c=o.as(p.style,g.LockupStyle))&&((f=e.primaryColorForStyle(c))&&t.push(f),(v=e.secondaryColorForStyle(c))&&t.push(v),(h=c.characterStyles.Highlight)&&((f=e.primaryColorForStyle(h))&&t.push(f),(v=e.secondaryColorForStyle(h))&&t.push(v)))}return t.map(function(e){return e.hex},this)},primaryColorForStyle:function(e){return e.colors.color(l.ColorRole.FieldPrimary)},secondaryColorForStyle:function(e){return e.backing!=g.LockupBacking.None&&e.backing!=g.LockupBacking.UNSET?e.colors.color(l.ColorRole.FieldSecondary):null},evaluateBackgroundTypes:function(e){for(var t=[],a=o.clone(e.root_.filterWithCallback(function(e){return(e.isBackgroundImage()||e.kind==f.ShapeForma.KIND||e.kind==h.RootForma.KIND)&&null!=e.controller&&!e.controller.moveable})),r=o.iter(a);!r.done;r.next()){var n=r.value;n.isBackgroundImage()?t.push("image"):n.kind==f.ShapeForma.KIND?t.push("shape"):t.push("root")}return t},evaluatePageWidth:function(e){return i.DesignFeatureUtils.getPageWidth(e.root_)},evaluatePageHeight:function(e){return i.DesignFeatureUtils.getPageHeight(e.root_)},evaluateGridCount:function(e){return o.toDouble(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==c.GridController.KIND&&e.isGridCell()}).length)},evaluateBackgroundImageCount:function(e){return o.toDouble(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==u.FrameController.KIND&&e.isGridCell()}).length)},evaluateForegroundImageCount:function(e){return o.toDouble(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==u.FrameController.KIND&&!e.isGridCell()}).length)}}}),r)},454:function(e,t,a){var r,n=t,o=a(0),l=a(137),i=a(93),u=a(302),s=a(329),c=a(35),m=a(57),g=a(30),h=a(14);n.LockupStyleFeatureExtractor=(r=function(e,t){void 0===t&&(t=[]),this.root_=e.root,this.forma_=e,this.lockupController_=o.as(this.forma_.controller,h.TypeLockupController),this.forFeatures_=o.clone(t),this.featureEvals_=[],this.lockupAttributes=o.clone(s.lockupStyleToLockupStyleAttributes(this.forma_.style,e.page.document)),i.FeatureExtractor.call(this),null!=this.lockupController_&&(this.initFeatures(),this.evaluateFeatures())},o.defineClass({name:"LockupStyleFeatureExtractor",ctor:r,superName:"FeatureExtractor",statics:{_implements:function(e){return"FeatureExtractorProtocol"==e}},props:{initFeatures:function(){this.featureEvals_=[["Role",[this.evaluateRole,i.FeatureType.Categorical]],["BoundingBox",[this.evaluateBoundingBox,i.FeatureType.Complex]],["BackgroundColors",[this.evaluateBackgroundColors,i.FeatureType.Complex]],["ImageCount",[this.evaluateImageCount,i.FeatureType.Numerical]],["ShapeCount",[this.evaluateShapeCount,i.FeatureType.Numerical]],["TextCount",[this.evaluateTextCount,i.FeatureType.Numerical]],["TextHeight",[this.evaluateTextHeight,i.FeatureType.Numerical]],["TextWidth",[this.evaluateTextWidth,i.FeatureType.Numerical]],["PageHeight",[this.evaluatePageHeight,i.FeatureType.Numerical]],["PageWidth",[this.evaluatePageWidth,i.FeatureType.Numerical]],["AspectRatio",[this.evaluateAspectRatio,i.FeatureType.Numerical]],["BackgroundType",[this.evaluateBackgroundType,i.FeatureType.Categorical]],["AverageHue",[this.evaluateAverageHue,i.FeatureType.Numerical]],["AverageLightness",[this.evaluateLightness,i.FeatureType.Numerical]],["LightnessSpread",[this.evaluateLightnessSpread,i.FeatureType.Numerical]],["PercentageArea",[this.evaluatePercentageArea,i.FeatureType.Numerical]],["PercentageAreaAllLockups",[this.evaluateAllLockPercentageArea,i.FeatureType.Numerical]],["LockupSymmetryX",[this.evaluateXSymmetry,i.FeatureType.Numerical]],["LockupSymmetryY",[this.evaluateYSymmetry,i.FeatureType.Numerical]],["DistanceXFromCenter",[this.evaluateXDistanceFromCenter,i.FeatureType.Numerical]],["TextString",[this.evaluateTextString,i.FeatureType.Categorical]],["CenterX",[this.evaluateCenterX,i.FeatureType.Numerical]],["CenterY",[this.evaluateCenterY,i.FeatureType.Numerical]],["CharacterCount",[this.evaluateCharacterCount,i.FeatureType.Numerical]],["LineHeight",[this.evaluateLineHeight,i.FeatureType.Numerical]],["WordCount",[this.evaluateWordCount,i.FeatureType.Numerical]],["Font",[this.evaluateStyleFont,i.FeatureType.Categorical]],["BackingShape",[this.evaluateStyleBackingShape,i.FeatureType.Categorical]],["TextLook",[this.evaluateStyleTextLook,i.FeatureType.Categorical]],["Layout",[this.evaluateStyleLayout,i.FeatureType.Categorical]],["Opacity",[this.evaluateStyleOpacity,i.FeatureType.Categorical]],["PrimaryColor",[this.evaluateStylePrimaryColor,i.FeatureType.Categorical]],["SecondaryColor",[this.evaluateStyleSecondaryColor,i.FeatureType.Categorical]],["ShapeFilled",[this.evaluateStyleShapeFilled,i.FeatureType.Numerical]],["TextOpacity",[this.evaluateStyleTextOpacity,i.FeatureType.Numerical]],["BackingOpacity",[this.evaluateStyleBackingOpacity,i.FeatureType.Numerical]],["Padding",[this.evaluateStylePadding,i.FeatureType.Numerical]],["ShadowAngle",[this.evaluateStyleShadowAngle,i.FeatureType.Numerical]],["ShadowOffsetY",[this.evaluateStyleShadowOffsetY,i.FeatureType.Numerical]],["Spacing",[this.evaluateStyleSpacing,i.FeatureType.Numerical]],["StrokeWeight",[this.evaluateStyleStokeWeight,i.FeatureType.Numerical]],["Tracking",[this.evaluateStyleTracking,i.FeatureType.Numerical]],["HasMSL",[this.evaluateHasMSL,i.FeatureType.Numerical]]]},evaluateFeatures:function(){for(var e=0==this.forFeatures_.length,t=o.iter(this.featureEvals_);!t.done;t.next()){var a=t.value;if(e||!e&&this.forFeatures_.includes(a[0])){var r=a[1],n=(0,r[0])(this);this.setFeature(a[0],n,r[1])}}},evaluateWordCount:function(e){return o.toDouble(e.lockupController_.wordCount())},evaluateLineHeight:function(e){var t=e.lockupController_.averageLineHeight;return null!=t?t:0},evaluateCharacterCount:function(e){return o.toDouble(e.lockupController_.text.length)},evaluateRole:function(e){return(new m.RoleSuggester).getRole(e.forma_).role},evaluateBoundingBox:function(e){return l.DesignFeatureUtils.getFormaBoundingBox(e.forma_)},evaluateBackgroundColors:function(e){return this.setColorsBehindLockup(e),e.colorsBehindLockup.map(function(e){return e.hex},this)},evaluateImageCount:function(e){return l.DesignFeatureUtils.getImageCount(e.root_)},evaluateShapeCount:function(e){return l.DesignFeatureUtils.getShapeCount(e.root_)},evaluateTextCount:function(e){return l.DesignFeatureUtils.getTextCount(e.root_)},evaluateTextHeight:function(e){return l.DesignFeatureUtils.getFormaHeight(e.forma_)},evaluateTextWidth:function(e){return l.DesignFeatureUtils.getFormaWidth(e.forma_)},evaluateBackgroundType:function(e){for(var t="root",a=o.clone(e.root_.filterWithCallback(function(e){return(e.isBackgroundImage()||e.kind==g.ShapeForma.KIND||e.kind==c.RootForma.KIND)&&null!=e.controller&&!e.controller.moveable})),r=o.iter(a);!r.done;r.next()){var n=r.value;n.isBackgroundImage()&&n.finalFrame.outsetXY(20,20).contains(e.forma_.finalFrame)?t="image":n.kind==g.ShapeForma.KIND&&(t="shape")}return t},evaluateAverageHue:function(e){var t=0,a=0,r=0,n=0;this.setColorsBehindLockup(e);for(var l=o.iter(e.colorsBehindLockup);!l.done;l.next()){var i=l.value.asLAB;t+=i.l*i.l,a+=i.a*i.a,r+=i.b*i.b,n+=i.alpha*i.alpha}var s=o.toDouble(e.colorsBehindLockup.length);return t=Math.sqrt(t/s),a=Math.sqrt(a/s),r=Math.sqrt(r/s),n=Math.sqrt(n/s),new u.LABColor(t,a,r,n).hue},evaluateAspectRatio:function(e){var t=l.DesignFeatureUtils.getFormaHeight(e.forma_),a=l.DesignFeatureUtils.getFormaWidth(e.forma_);return o.toDouble(a/t)},evaluateLightness:function(e){var t=0,a=0,r=0,n=0;this.setColorsBehindLockup(e);for(var l=o.iter(e.colorsBehindLockup);!l.done;l.next()){var i=l.value.asLAB;t+=i.l*i.l,a+=i.a*i.a,r+=i.b*i.b,n+=i.alpha*i.alpha}var s=o.toDouble(e.colorsBehindLockup.length);return t=Math.sqrt(t/s),a=Math.sqrt(a/s),r=Math.sqrt(r/s),n=Math.sqrt(n/s),new u.LABColor(t,a,r,n).asRGB.lightness},evaluateLightnessSpread:function(e){return this.setColorsBehindLockup(e),e.lockupController_.getBackgroundLightnessSpread(o.clone(e.colorsBehindLockup))},evaluatePercentageArea:function(e){return l.DesignFeatureUtils.formaPercentageArea(e.forma_)},evaluateAllLockPercentageArea:function(e){for(var t=0,a=o.clone(e.forma_.page.root.filterWithCallback(function(e){return e.isTypeLockup()})),r=o.iter(a);!r.done;r.next()){var n=r.value;t+=l.DesignFeatureUtils.formaPercentageArea(n)}return t},evaluateXSymmetry:function(e){return l.DesignFeatureUtils.getSymmAsymm([e.forma_.finalFrame],!0)},evaluateYSymmetry:function(e){return l.DesignFeatureUtils.getSymmAsymm([e.forma_.finalFrame],!1)},evaluateXDistanceFromCenter:function(e){var t,a,r=-1;return(t=e.forma_.finalFrame)&&(a=e.root_.finalFrame)&&(r=t.center.distanceTo(a.center)),r},evaluateTextString:function(e){return e.lockupController_.text},evaluateCenterX:function(e){return l.DesignFeatureUtils.getFormaCenterX(e.forma_)},evaluateCenterY:function(e){return l.DesignFeatureUtils.getFormaCenterY(e.forma_)},evaluatePageWidth:function(e){return l.DesignFeatureUtils.getPageWidth(e.root_)},evaluatePageHeight:function(e){return l.DesignFeatureUtils.getPageHeight(e.root_)},evaluateStyleShapeFilled:function(e){return e.forma_.style.textBacked?1:0},evaluateStyleTextOpacity:function(e){return e.lockupAttributes.textOpacity},evaluateStyleBackingOpacity:function(e){return e.lockupAttributes.backingOpacity},evaluateStylePadding:function(e){return e.lockupAttributes.padding},evaluateStyleShadowAngle:function(e){return e.lockupAttributes.shadowAngle},evaluateStyleShadowOffsetY:function(e){return e.lockupAttributes.shadowOffset},evaluateStyleSpacing:function(e){return e.lockupAttributes.spacing},evaluateStyleStokeWeight:function(e){return e.lockupAttributes.strokeWeight},evaluateStyleTracking:function(e){return e.lockupAttributes.tracking},evaluateHasMSL:function(e){var t=o.clone(e.forma_.style.characterStyles);return 0!=o.count(t)?1:0},evaluateStyleFont:function(e){return o.toString(e.lockupAttributes.font)},evaluateStyleBackingShape:function(e){return e.lockupAttributes.backing},evaluateStyleTextLook:function(e){return e.lockupAttributes.textLook},evaluateStyleLayout:function(e){return e.lockupAttributes.layout},evaluateStyleOpacity:function(e){return e.lockupAttributes.opacity},evaluateStylePrimaryColor:function(e){return e.lockupAttributes.primaryColor},evaluateStyleSecondaryColor:function(e){return e.lockupAttributes.secondaryColor},setColorsBehindLockup:function(e){null==e.colorsBehindLockup&&(e.colorsBehindLockup=o.clone(e.lockupController_.getBackgroundColors()))}}}),r)},455:function(e,t,a){var r,n=t,o=a(0),l=a(137),i=a(11),u=a(93),s=a(25),c=a(21),m=a(54),g=a(72),h=a(28),f=a(73),v=a(250);n.RetargetFeatureExtractor=(r=function(e,t){void 0===t&&(t=[]),this.root_=e,this.forFeatures_=o.clone(t),this.featureEvals_=[],u.FeatureExtractor.call(this),this.initFeatures(),this.evaluateFeatures()},o.defineClass({name:"RetargetFeatureExtractor",ctor:r,superName:"FeatureExtractor",statics:{_implements:function(e){return"FeatureExtractorProtocol"==e}},props:{initFeatures:function(){this.featureEvals_=[["Size",[this.evaluateDesignSize,u.FeatureType.Complex]],["EditingResolution",[this.evaluateEditingResolution,u.FeatureType.Numerical]],["PublishResolution",[this.evaluatePublishingResolution,u.FeatureType.Numerical]],["LayoutId",[this.evaluateLayoutId,u.FeatureType.Categorical]],["Edges",[this.evaluateEdges,u.FeatureType.Complex]],["Focus",[this.evaluateFocus,u.FeatureType.Complex]],["NumImages",[this.evaluateImageCount,u.FeatureType.Numerical]],["NumShapes",[this.evaluateShapeCount,u.FeatureType.Numerical]],["NumGridsCells",[this.evaluateGridCellCount,u.FeatureType.Numerical]],["NumMoveable",[this.evaluateNumMoveable,u.FeatureType.Numerical]],["LockupStrings",[this.evaluateLockupStrings,u.FeatureType.Complex]],["VisualGroupInfo",[this.evaluateVisualGroupInfo,u.FeatureType.Complex]],["TextRoles",[this.evaluateTextRoles,u.FeatureType.Complex]],["ShapeRoles",[this.evaluateShapeRoles,u.FeatureType.Complex]],["SalientCoverage",[this.evaluateSalientCoverage,u.FeatureType.Numerical]],["GifsCount",[this.evaluateGifsCount,u.FeatureType.Numerical]]]},evaluateFeatures:function(){for(var e=0==this.forFeatures_.length,t=o.iter(this.featureEvals_);!t.done;t.next()){var a=t.value;if(e||!e&&this.forFeatures_.includes(a[0])){var r=a[1],n=(0,r[0])(this);this.setFeature(a[0],n,r[1])}}},evaluateDesignSize:function(e){var t=[];return t.push(l.DesignFeatureUtils.getPageWidth(e.root_)),t.push(l.DesignFeatureUtils.getPageHeight(e.root_)),t},evaluateEditingResolution:function(e){return 2},evaluatePublishingResolution:function(e){return 2},evaluateLayoutId:function(e){var t="default",a=o.clone(e.root_.filterByControllerKind(s.GridController.KIND));return a.length>0&&(t=o.as(a[0].controller,s.GridController).gridStyle.name),t},evaluateEdges:function(e){var t=[],a=o.clone(e.root_.filterWithCallback(function(e){return e.isBackgroundImage()}));return a.length>0&&(t=o.clone(a[0].controller.getAverageEdgeGrid(new h.TheoSize(5,5)))),t},evaluateFocus:function(e){var t=o.clone(e.root_.filterWithCallback(function(e){return e.isBackgroundImage()})),a=[];if(t.length>0){var r,n=t[0];(r=e.getFocusRegion(n))&&(a=o.clone(r.encodeJson()))}return a},getFocusRegion:function(e){var t=null;return e.visitAll(i.FormaTraversal.JustChildren,function(e){e instanceof c.ImageForma&&null==t&&(t=e.getFocusRegion())}),t},evaluateImageCount:function(e){return l.DesignFeatureUtils.getImageCount(e.root_)},evaluateNumMoveable:function(e){return o.toDouble(e.root_.filterWithCallback(l.DesignFeatureUtils.isFloating).length)},evaluateLockupStrings:function(e){return g.TypeLockupUtils.getLockupStringsForRoot(e.root_)},evaluateTextRoles:function(e){for(var t=[],a=o.clone(l.DesignFeatureUtils.getLockupsInDesign(e.root_)),r=o.iter(a);!r.done;r.next()){var n=r.value;t.push(l.DesignFeatureUtils.getRoleString(n))}return t},evaluateShapeRoles:function(e){for(var t=[],a=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==m.ShapeController.KIND&&!e.isGridCell()})),r=o.iter(a);!r.done;r.next()){var n=r.value;t.push(l.DesignFeatureUtils.getRoleString(n))}return t},evaluateShapeCount:function(e){return o.toDouble(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==m.ShapeController.KIND&&!e.isGridCell()}).length)},evaluateSalientCoverage:function(e){for(var t=o.clone(e.root_.filterWithCallback(function(e){return e.isBackgroundImage()})),a=0,r=o.iter(t);!r.done;r.next()){var n,l,i,u=r.value;(n=e.root_.finalFrame)&&(l=e.getFocusRegion(u))&&(i=l.intersectionWith(n))&&(a+=i.area/n.area)}return a},evaluateVisualGroupInfo:function(e){var t={},a=o.clone(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.floating&&!e.isGridCell()&&e.kind!=c.ImageForma.KIND}));return a.length>0&&new v.VisualStructureDetector(o.clone(a),e.root_).inferVisualStructure().encodeToJson()||t},evaluateGridCellCount:function(e){return o.toDouble(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.isGridCell()}).length)},evaluateGifsCount:function(e){var t=o.clone(e.root_.filterWithCallback(function(e){return e.kind==f.VideoForma.KIND}));return o.toDouble(t.length)}}}),r)},456:function(e,t,a){var r,n=t,o=a(0),l=a(137),i=a(11),u=a(26),s=a(93),c=a(457),m=a(249);n.ShapeFeatureExtractor=(r=function(e,t){void 0===t&&(t=[]),this.root_=e.root,this.forma_=e,this.forFeatures_=o.clone(t),this.featureEvals_=[],s.FeatureExtractor.call(this),this.initFeatures(),this.evaluateFeatures()},o.defineClass({name:"ShapeFeatureExtractor",ctor:r,superName:"FeatureExtractor",statics:{_implements:function(e){return"FeatureExtractorProtocol"==e}},props:{initFeatures:function(){this.featureEvals_=[["BoundingBox",[this.evaluateBoundingBox,s.FeatureType.Complex]],["ShapeWidth",[this.evaluateShapeWidth,s.FeatureType.Numerical]],["ShapeHeight",[this.evaluateShapeHeight,s.FeatureType.Numerical]],["Area",[this.evaluateArea,s.FeatureType.Numerical]],["CenterX",[this.evaluateCenterX,s.FeatureType.Numerical]],["CenterY",[this.evaluateCenterY,s.FeatureType.Numerical]],["RotCosine",[this.evaluateRotCosine,s.FeatureType.Numerical]],["RotSine",[this.evaluateRotSine,s.FeatureType.Numerical]],["PercentageDesignArea",[this.evaluatePercentageDesignArea,s.FeatureType.Numerical]],["PercentageOutofBounds",[this.evaluatePercentageOutofBounds,s.FeatureType.Numerical]],["PageHeight",[this.evaluatePageHeight,s.FeatureType.Numerical]],["PageWidth",[this.evaluatePageWidth,s.FeatureType.Numerical]],["ShapeCount",[this.evaluateShapeCount,s.FeatureType.Numerical]],["TextCount",[this.evaluateTextCount,s.FeatureType.Numerical]],["BackgroundImageCount",[this.evaluateBackgroundImageCount,s.FeatureType.Numerical]],["ForegroundImageCount",[this.evaluateForegroundImageCount,s.FeatureType.Numerical]]],this.evaluateOverlappingFeatures(),this.evaluateShapeMaskFeatures()},evaluateOverlappingFeatures:function(){for(var e=o.clone(this.root_.visitAsArray(i.FormaTraversal.PreOrder)),t=0,a=0,r=0,n=0,l=o.iter(e);!l.done;l.next()){var u=l.value;if(null!=u.controller&&u.controller.floating&&!u.isGridCell()&&"temp-struct-vis"!=u.intent&&u!=this.forma_){if(u.parent==this.forma_.parent){var c=this.forma_.parent.indexOfChild(this.forma_),m=this.forma_.parent.indexOfChild(u);if(null!=c&&null!=m&&c>m)continue}var g,h,f;if((g=u.finalFrame)&&(h=this.forma_.finalFrame)&&(f=g.intersectionWith(h))){var v=this.forma_.getAverageAlpha(g),p=f.area/h.area;v>.01&&p>.05&&(u.isTypeLockup()?(a+=1,r+=v*p):(t+=1,n+=v*p))}}}this.setFeature("OverlappingGraphicCount",t,s.FeatureType.Numerical),this.setFeature("OverlappingTextCount",a,s.FeatureType.Numerical),this.setFeature("PercentageTextOverlap",r,s.FeatureType.Numerical),this.setFeature("PercentageGraphicOverlap",n,s.FeatureType.Numerical)},evaluateShapeMaskFeatures:function(){var e,t=0,a=0;if((e=this.forma_.maskImage)&&!e.isEmpty()){var r=c.ImageProcessingUtils.getEdgeMagnitudeImage(e);t=e.sum()/o.toDouble(e.numElements),a=r.sum()/o.toDouble(e.numElements)}this.setFeature(m.ShapeRoleFeatures.MaskAverage,t,s.FeatureType.Numerical),this.setFeature(m.ShapeRoleFeatures.MaskAverageEdge,a,s.FeatureType.Numerical)},evaluateFeatures:function(){for(var e=0==this.forFeatures_.length,t=o.iter(this.featureEvals_);!t.done;t.next()){var a=t.value;if(e||!e&&this.forFeatures_.includes(a[0])){var r=a[1],n=(0,r[0])(this);this.setFeature(a[0],n,r[1])}}},evaluateBoundingBox:function(e){return l.DesignFeatureUtils.getFormaBoundingBox(e.forma_)},evaluateShapeWidth:function(e){return l.DesignFeatureUtils.getFormaWidth(e.forma_)},evaluateShapeHeight:function(e){return l.DesignFeatureUtils.getFormaHeight(e.forma_)},evaluateArea:function(e){return e.numericalFeatures_.ShapeWidth*e.numericalFeatures_.ShapeHeight},evaluateCenterX:function(e){return l.DesignFeatureUtils.getFormaCenterX(e.forma_)},evaluateCenterY:function(e){return l.DesignFeatureUtils.getFormaCenterY(e.forma_)},evaluateRotCosine:function(e){return e.forma_.totalPlacement.transformValues.rotCosine},evaluateRotSine:function(e){return e.forma_.totalPlacement.transformValues.rotSine},evaluatePercentageDesignArea:function(e){var t=e.root_.finalFrame.area;return e.numericalFeatures_.Area/t},evaluatePercentageOutofBounds:function(e){var t,a,r=0;return(t=e.forma_.finalFrame)&&(a=e.root_.finalFrame.intersectionWith(t))&&(r=(t.area-a.area)/t.area),r},evaluateOverlappingGraphicCount:function(e){var t,a,r=0;return(t=e.forma_.finalFrame)&&(a=e.root_.finalFrame.intersectionWith(t))&&(r=(t.area-a.area)/t.area),r},evaluateShapeCount:function(e){return l.DesignFeatureUtils.getShapeCount(e.root_)},evaluateTextCount:function(e){return l.DesignFeatureUtils.getTextCount(e.root_)},evaluatePageWidth:function(e){return l.DesignFeatureUtils.getPageWidth(e.root_)},evaluatePageHeight:function(e){return l.DesignFeatureUtils.getPageHeight(e.root_)},evaluateBackgroundImageCount:function(e){return o.toDouble(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==u.FrameController.KIND&&e.isGridCell()}).length)},evaluateForegroundImageCount:function(e){return o.toDouble(e.root_.filterWithCallback(function(e){return null!=e.controller&&e.controller.kind==u.FrameController.KIND&&!e.isGridCell()}).length)}}}),r)},630:function(e,t,a){var r,n=t,o=a(0),l=a(4),i=a(240),u=a(316);n.GridLearning=(r=function(){l.CoreObject.call(this)},o.defineClass({name:"GridLearning",ctor:r,superName:"CoreObject",statics:{learnGridMappingWeights:function(e){if(0==e.length)return{weights:[],bestStyle:null};for(var t={},a=o.iter(e);!a.done;a.next()){var n=a.value,l=new i.GridScore(n.gridStyle,n.gridFrame,o.clone(n.layoutItems));t[n.docID]={score:l,features:l.getFeatures()}}for(var u=new i.GridScore(e[0].gridStyle,e[0].gridFrame,o.clone(e[0].layoutItems)),s=o.clone(u.getWeights()),c=null,m=o.iter(o.range(0,500,!1));!m.done;m.next()){for(var g=m.value,h=o.repeat(0,s.length),f=0,v=0,p=null,d=0,F=o.iter(e);!F.done;F.next()){var y,C=t[(n=F.value).docID];if(C.score.setWeights(o.clone(s)),y=r.getBestGridLayout(o.clone(n),o.clone(s))){p=y.gridStyle,f+=C.score.score,v+=y.score;for(var x=o.clone(y.getFeatures()),T=o.iter(o.range(0,s.length,!1));!T.done;T.next())h[_=T.value]+=x[_]-C.features[_];d+=1}}if(f/=o.toDouble(e.length),v/=o.toDouble(e.length),o.info(o.toString("\nNIO iteration "+g+" G: %5.02f fInit: %5.02f fOpt: %5.02f avg mismatch %5.02f",v-f,f,v)),v-f<.001){c=p;break}for(var S=o.iter(o.range(0,s.length,!1));!S.done;S.next()){var _,A=h[_=S.value]/o.toDouble(d);s[_]+=-1*A*.01}}return{weights:s,bestStyle:c}},getBestGridLayout:function(e,t){var a=o.clone(u.LayoutSuggester.init_5613(o.clone(e),null,o.clone(t)).createSuggestions());return 0==!a.length?a[0].weightedScore:null}}}),r)},93:function(e,t,a){var r,n,o=t,l=a(0),i=a(317),u=a(453),s=a(23),c=a(241),m=a(454),g=a(455),h=a(456);o.FeatureExtractorProtocol=l.defineProtocol("FeatureExtractorProtocol",{features:"Dictionary<String>",numericalFeatures:"Dictionary<String>",categoricalFeatures:"Dictionary<String>"}),o.FeatureExtractor=(r=function(){this.numericalFeatures_={},this.categoricalFeatures_={},this.complexFeatures_={},this.allFeatures_={}},l.defineClass({name:"FeatureExtractor",ctor:r,statics:{_implements:function(e){return"FeatureExtractorProtocol"==e}},props:{setFeature:function(e,t,a){a==o.FeatureType.Categorical?this.categoricalFeatures_[e]=l.as(t,"String"):a==o.FeatureType.Numerical?this.numericalFeatures_[e]=l.as(t,"Double"):this.complexFeatures_[e]=t,this.allFeatures_[e]=t},getFeature:function(e){return this.allFeatures_[e]},features:{get:function(){return this.allFeatures_}},numericalFeatures:{get:function(){return this.numericalFeatures_}},categoricalFeatures:{get:function(){return this.categoricalFeatures_}},featureForKey:function(e){return null!=this.features[e]?this.features[e]:null},numericFeatureForKey:function(e){return null!=this.numericalFeatures[e]?this.numericalFeatures[e]:null},categoricalFeatureForKey:function(e){return null!=this.categoricalFeatures_[e]?this.categoricalFeatures_[e]:null}}}),r),o.FeatureExtractorFactory=(n=function(){},l.defineClass({name:"FeatureExtractorFactory",ctor:n,statics:{getFeatureExtractor:function(e,t,a){switch(void 0===a&&(a=[]),e){case 0:return new u.DesignStyleFeatureExtractor(t,l.clone(a));case 1:return new m.LockupStyleFeatureExtractor(t,l.clone(a));case 2:return new c.GridStyleFeatureExtractor(l.as(t,s.GroupForma),void 0,void 0,void 0,l.clone(a));case 3:return new i.DesignConstraintFeatureExtractor(t,l.clone(a));case 4:return new h.ShapeFeatureExtractor(t,l.clone(a));case 5:return new g.RetargetFeatureExtractor(t,l.clone(a))}}}}),n),o.FeatureExtractorType=l.defineEnum("FeatureExtractorType",{DesignStyle:0,LockupStyle:1,GridStyle:2,DesignConstraint:3,Shape:4,Retarget:5}),o.FeatureType=l.defineEnum("FeatureType",{Numerical:0,Categorical:1,Complex:2})}}]);
//# sourceMappingURL=logomaker-entry_4b7e3185-554a47a4.js.map