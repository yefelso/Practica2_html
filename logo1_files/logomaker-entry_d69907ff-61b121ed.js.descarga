(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{116:function(t,e,n){var i,o=e,r=n(0),s=n(1),a=n(19),l=n(11),u=n(26),c=n(53),h=n(25),f=n(8),_=n(15),g=n(10);o.GridStyle=(i=function(t,e,n,o,s,l,h){this.category_=null,this.gridCells_=[],this.formaMapping_={},this.forma_=null,void 0===t&&(t="None"),void 0===e&&(e="Grid"),void 0===o&&(o=null),void 0===s&&(s=0),void 0===l&&(l=!0),void 0===h&&(h=u.CropType.PreserveFocus),this.name_=t,this.category_=e;for(var f=[],_=r.iter(n);!_.done;_.next()){var g=_.value;f.push(g)}if(this.gridCells_=f,this.spacing_=s,this.moveableShift_=l,this.formaMapping_={},null!=o)for(var d=r.iter(o);!d.done;d.next()){var R=d.key,p=d.value;this.formaMapping_[R]=p}this.cropType_=h,c.FormaStyle.call(this,i.KIND,1,a.ColorTable.createDefault(),null)},r.defineClass({name:"GridStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"GridStyle"}},DEFAULT_NAME:"None",DEFAULT_CATEGORY:"Grid",PROPERTY_NAME:"name",PROPERTY_CATEGORY:"category",PROPERTY_GRID_CELLS:"grid-cells",PROPERTY_FORMA_MAPPING:"forma-mapping",PROPERTY_SPACING:"spacing",PROPERTY_MOVEABLE_SHIFT:"moveable-shift",PROPERTY_CROP_TYPE:"crop-type",createDefault:function(){return new i(i.DEFAULT_NAME,i.DEFAULT_CATEGORY,[new h.GridCell(g.TheoRect.ONE_BY_ONE)],null,0,!1,u.CropType.PreserveFocus)},decodeGridCells:function(t){if(null==t)return null;var e;if(e=r.as(t,["Array","AnyObject"])){for(var n=[],i=r.iter(e);!i.done;i.next()){var o=i.value;n.push(h.GridCell.decodeJson(o))}return n}return null},decodeFormaMapping:function(t,e){if(null==e)return null;var n;if(n=r.as(e,["Array","AnyObject"])){for(var i={},o=r.iter(n);!o.done;o.next()){var a,l=o.value;if(a=r.as(l,["Array","AnyObject"])){for(var u,c=a[0],f=h.GridCell.decodeJson(a[1]),_=r.iter(t);!_.done;_.next()){var g=_.value;g.bounds.equal(f.bounds)&&(u=g)}null!=u?i[r.as(c,"String")]=u:s.CoreAssert.warning("Grid style problem. Set cell is nil")}}return i}return null},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{name:{get:function(){return this.name_},set:function(t){this.name_=t}},category:{get:function(){return this.category_},set:function(t){this.category_=t}},gridCells:{get:function(){return this.gridCells_},set:function(t){this.gridCells_=t}},formaMapping:{get:function(){return this.formaMapping_},set:function(t){this.formaMapping_=t}},forma:{get:function(){return this.forma_},set:function(t){this.forma_=t}},cropType:{get:function(){return this.cropType_},set:function(t){this.cropType_=t}},gridCellArray:{get:function(){return this.gridCells_.concat()}},drawnGridCell:function(t,e){return e.evalRect(t.bounds).insetXY(this.spacing/2,this.spacing/2).rounded()},spacing:{get:function(){return this.spacing_},set:function(t){this.spacing_=t}},moveableShift:{get:function(){return this.moveableShift_},set:function(t){this.moveableShift_=t}},numCells:{get:function(){return this.gridCells_.length}},numBackgroundCells:{get:function(){return this.nonOverlappingCells().length}},flipRegion:function(){for(var t=[],e=r.iter(this.gridCells_);!e.done;e.next()){var n=e.value;t.push(n.flip())}var o=this.name_.includes("-flip")?r.replace(this.name_,"-flip",""):this.name_+"-flip",s=null!=this.category?this.category:i.DEFAULT_CATEGORY;return new i(o,s,r.clone(t))},removeFormaMapping:function(){this.formaMapping_={}},anyOverlap:{get:function(){return this.overlappingCells().length>0}},overlappingCells:function(){var t=[];if(0==this.gridCells.length)return[];for(var e=r.iter(r.range(0,this.gridCells.length-1,!0));!e.done;e.next())for(var n=e.value,i=r.iter(r.range(n,this.gridCells.length-1,!0));!i.done;i.next()){var o=i.value;if(o>n){var s,a=this.gridCells[o];(s=this.gridCells[n].bounds.intersectionWith(a.bounds))&&s.area>.01&&!t.includes(a)&&t.push(a)}}return t.concat()},nonOverlappingCells:function(){for(var t=r.clone(this.overlappingCells()),e=[],n=r.iter(this.gridCells_);!n.done;n.next()){var i=n.value;t.includes(i)||e.push(i)}return e.concat()},clone:function(){var t=c.FormaStyle.prototype.clone.call(this);return t.forma=this.forma,t},match:function(t){var e;if(e=r.as(t,i)){if(null==this.forma||null==e.forma||null==this.forma.root)return void s.CoreAssert.fail("Serious error in grid style. Not pointing to correct forma");if(this.forma.controller.kind!=h.GridController.KIND||e.forma.controller.kind!=h.GridController.KIND)return void s.CoreAssert.fail("Error: Not matching grids.");r.keys(this.formaMapping_).length>0&&s.CoreAssert.isTrue(null!=this.forma,"missing forma"),r.keys(e.formaMapping).length>0&&s.CoreAssert.isTrue(null!=e.forma,"missing forma"),this.name=e.name,this.spacing_=e.spacing_,this.moveableShift_=e.moveableShift,this.cropType_=e.cropType,this.category_=e.category;for(var n=[],o={},a=r.iter(e.gridCells);!a.done;a.next()){var u=a.value;n.push(u)}if(null!=this.forma){for(var c,_=[],d=[],R=r.iter(r.keys(this.formaMapping_));!R.done;R.next()){var p=R.value;u=this.formaMapping_[p],null!=(y=r.opt(this.forma,function(t){return t.formaByID(p)}))&&y.isBackgroundImage()&&_.push(u)}for(var T=r.iter(r.keys(e.formaMapping));!T.done;T.next()){var y;p=T.value,u=e.formaMapping[p],null!=(y=r.opt(e.forma,function(t){return t.formaByID(p)}))&&y.isBackgroundImage()&&d.push(u)}if(null!=this.forma&&(c=r.as(e.forma.controller,h.GridController))){var P=c.gridCells;if(_.length>1&&1==P.length&&P[0].bounds.equalWithAccuracy(g.TheoRect.ONE_BY_ONE,.001))return}for(var m=function(t,e){return t.bounds.minY<e.bounds.minY||!(t.bounds.minY>e.bounds.minY)&&t.bounds.minX<e.bounds.minX},O=r.sort(_,m),A=r.sort(d,m),E=r.clone(e.overlappingCells()),S=r.clone(e.nonOverlappingCells()),k=r.iter(this.forma.visitAsArray(l.FormaTraversal.JustChildren));!k.done;k.next()){var C=k.value;if(p=C.formaID,C.isBackgroundImage()){if(O.length>0)for(var L=r.iter(r.range(0,O.length-1,!0));!L.done;L.next()){var b=L.value,D=O[b];this.formaMapping_[p]==D&&A.length>0&&(o[p]=A[Math.min(b,A.length-1)])}if(null==o[p]&&(D=this.formaMapping_[p]))for(var I=0,Y=r.iter(S);!Y.done;Y.next()){var v;(v=(u=Y.value).bounds.intersectionWith(D.bounds))&&v.area>I&&(I=v.area,o[C.formaID]=u)}}else if(C.isTypeLockup()&&E.length>0)o[p]=E[0];else{var F,N,w;null!=(F=C.contentID)&&(N=r.opt(r.opt(e.forma,function(t){return t.root}),function(t){return t.formaByContentID(F)}))&&(w=e.formaMapping[N.formaID])&&(o[C.formaID]=w)}}}for(var B=[],U=r.iter(r.keys(e.formaMapping));!U.done;U.next()){var M;if(p=U.value,u=e.formaMapping[p],null!=this.forma&&r.opt(this.forma,function(t){return null!=t.root})){if(M=r.opt(r.opt(this.forma,function(t){return t.root}),function(t){return t.formaByID(p)})){var x,G=!0;(x=r.as(r.opt(this.forma,function(t){return t.controller}),h.GridController))&&(G=!x.isGridCell(M)||!M.isShape()),G&&(o[p]=u)}}else o[p]=u;B.includes(u)||B.push(u)}this.gridCells_=n,this.formaMapping_=o,this.gridCells_.length<B.length&&(s.CoreAssert.fail("# of cells doesn't match"),f.Host.logging.info("cells "+this.gridCells_.length+" mapped "+B));for(var K=r.iter(r.keys(this.formaMapping));!K.done;K.next())p=K.value,u=this.formaMapping[p],null==this.forma.formaByID(p)?(s.CoreAssert.fail("shouldn't point to a forma which isn't a child"),r.opt(r.opt(this.forma,function(t){return t.root}),function(t){return null==t.formaByID(p)})&&s.CoreAssert.fail("we're really borked. pointing a forma which isn't in the forma tree"),r.removeKey(this.formaMapping,p)):this.gridCells.includes(u)||(s.CoreAssert.fail("shouldn't point to a cell which isn't part of the grid."),r.removeKey(this.formaMapping,p))}},postCloneMatch:function(t){if(null!=this.forma&&null!=t.forma&&null!=this.forma.root)for(var e=r.clone(t.forma.visitAsArray(l.FormaTraversal.JustChildren)),n=r.keys(t.formaMapping).concat(),i=r.iter(n);!i.done;i.next()){var o,a=i.value,u=t.formaMapping[a];if(o=r.opt(this.forma,function(t){return t.formaByID(a)}))for(var c=r.iter(e);!c.done;c.next()){var h=c.value;o.frame.equalWithAccuracy(h.frame,.01)&&(t.formaMapping[h.formaID]=u,r.removeKey(t.formaMapping,a))}}else s.CoreAssert.fail("Serious error in grid style. Not pointing to correct forma")},equals:function(t){return this.name==t.name&&this.geometricEquals(t)},geometricEquals:function(t){if(this.gridCells_.length!=t.gridCells.length)return!1;for(var e=r.sort(this.gridCells_.concat(),function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)}),n=r.sort(t.gridCells.concat(),function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)}),i=r.iter(r.range(0,e.length-1,!0));!i.done;i.next()){var o,s=i.value;if(!(o=e[s].bounds.intersectionWith(n[s].bounds)))return!1;if(Math.abs((o.area-e[s].bounds.area)/o.area)>.02)return!1}return!0},similarity:function(t){if(this.gridCells_.concat().length!=t.gridCells.concat().length)return 1;for(var e=r.sort(this.gridCells_.concat(),function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)}),n=r.sort(t.gridCells.concat(),function(t,e){return t.bounds.center.distanceTo(_.TheoPoint.ZERO)<e.bounds.center.distanceTo(_.TheoPoint.ZERO)}),i=[],o=r.iter(r.range(0,e.length-1,!0));!o.done;o.next()){var s=o.value;i.push(e[s].bounds.similarity(n[s].bounds))}return i.reduce(function(t,e){return t+e},0)/r.toDouble(i.length)},encodeJson:function(){var t=c.FormaStyle.prototype.encodeJson.call(this);return t[i.PROPERTY_NAME]=this.name,t[i.PROPERTY_SPACING]=this.spacing_,t[i.PROPERTY_MOVEABLE_SHIFT]=this.moveableShift_,t[i.PROPERTY_GRID_CELLS]=this.encodeGridCells(),t[i.PROPERTY_FORMA_MAPPING]=this.encodeFormaMapping(),t[i.PROPERTY_CROP_TYPE]=this.cropType_,null!=this.category_&&(t[i.PROPERTY_CATEGORY]=this.category_),t},decodeFromJson:function(t,e){var n,o,s,a,l;null!=(n=r.as(t[i.PROPERTY_NAME],"String"))&&(this.name=n),null!=(o=r.as(t[i.PROPERTY_SPACING],"Double"))&&(this.spacing_=o),null!=(s=r.as(t[i.PROPERTY_MOVEABLE_SHIFT],"Bool"))&&(this.moveableShift_=s),null!=(a=r.as(t[i.PROPERTY_CROP_TYPE],"Int"))&&(this.cropType_=u.CropType.toCaseValue(a)),null!=(l=r.as(t[i.PROPERTY_CATEGORY],"String"))&&(this.category_=l),this.gridCells_=i.decodeGridCells(r.as(t[i.PROPERTY_GRID_CELLS],"AnyObject")),this.formaMapping_=i.decodeFormaMapping(this.gridCells_,r.as(t[i.PROPERTY_FORMA_MAPPING],"AnyObject"))},encodeGridCells:function(){for(var t=[],e=r.iter(this.gridCells);!e.done;e.next()){var n=e.value;t.push(n.encodeJson())}return r.as(t,"AnyObject")},insetBackgroundCells:function(t){for(var e=r.iter(this.nonOverlappingCells());!e.done;e.next()){var n,i=e.value;(n=i.bounds.intersectionWith(t))&&(i.bounds=n)}},encodeFormaMapping:function(){for(var t=[],e=r.iter(r.keys(this.formaMapping_));!e.done;e.next()){var n=e.value;t.push(r.as([n,this.formaMapping_[n].encodeJson()],"AnyObject"))}return r.as(t,"AnyObject")},asString:{get:function(){return this.name_}}}}),i)},136:function(t,e,n){var i,o,r,s=e,a=n(0),l=n(1),u=n(431);s.ImageFilter=(i=function(t,e){void 0===t&&(t=""),this.kind=e,this.name=t},a.defineClass({name:"ImageFilter",ctor:i,superName:"CoreObject",statics:{KIND:{get:function(){return"ImageFilter"}},PROPERTY_KIND:"kind",PROPERTY_NAME:"name",createDefault:function(){return new i(void 0,i.KIND)},decodeJson:function(t){return null==t?null:(e=a.as(t,["Dictionary","String","Any"]))?null!=(n=a.as(e[i.PROPERTY_KIND],"String"))?(o=u.ImageFilterFactory.instance.create(n))?(o.decodeFromJson(e),o):(l.CoreAssert.fail("ImageFilter.decodeJson: could not create style"),null):(l.CoreAssert.fail("ImageFilter.decodeJson: no kind found or forced"),null):(l.CoreAssert.fail("FormaStyle.decodeJson: object passed isn't a dictionary"),null);var e,n,o}},props:{style:{get:function(){return this.style_},set:function(t){this.style_=t}},colors:{get:function(){return null!=this.style?this.style.colors:null}},equals:function(t){return this.name==a.opt(t,function(t){return t.name})},encodeJson:function(){var t={};return t[i.PROPERTY_NAME]=this.name,t[i.PROPERTY_KIND]=this.kind,t},decodeFromJson:function(t){var e;this.name=(e=a.as(t[i.PROPERTY_NAME],"String"))||null!=e?e:""}}}),i),s.AlphaBlendFilter=(o=function(t,e,n,i){void 0===t&&(t=""),this.mix_=e,this.filter1_=n,this.filter2_=i,s.ImageFilter.call(this,t,o.KIND)},a.defineClass({name:"AlphaBlendFilter",ctor:o,superName:"ImageFilter",statics:{KIND:{get:function(){return"AlphaBlend"}},PROPERTY_MIX:"mix",PROPERTY_FILTER_1:"filter1",PROPERTY_FILTER_2:"filter2",createDefault:function(){return new o(void 0,1,null,null)}},props:{mix:{get:function(){return this.mix_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.mix_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},filter1:{get:function(){return this.filter1_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.filter1_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},filter2:{get:function(){return this.filter2_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.filter2_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},equals:function(t){var e;return!!(e=a.as(t,o))&&(null==e.filter1&&null==this.filter1||null==e.filter2&&null==this.filter2||!(null==e.filter1&&null!=this.filter1||null==e.filter2&&null!=this.filter2||null!=e.filter1&&null==this.filter1||null!=e.filter2&&null==this.filter2)&&this.filter1.equals(e.filter1)&&this.filter2.equals(e.filter2)&&this.mix==e.mix)},encodeJson:function(){var t=s.ImageFilter.prototype.encodeJson.call(this);return t[o.PROPERTY_MIX]=this.mix_,null!=this.filter1_&&(t[o.PROPERTY_FILTER_1]=this.filter1_.encodeJson()),null!=this.filter2_&&(t[o.PROPERTY_FILTER_2]=this.filter2_.encodeJson()),t},decodeFromJson:function(t){var e;s.ImageFilter.prototype.decodeFromJson.call(this,t),this.mix_=(e=a.as(t[o.PROPERTY_MIX],"Double"))||null!=e?e:1,this.filter1_=s.ImageFilter.decodeJson(a.as(t[o.PROPERTY_FILTER_1],"AnyObject")),this.filter2_=s.ImageFilter.decodeJson(a.as(t[o.PROPERTY_FILTER_2],"AnyObject"))}}}),o),s.CompositeFilter=(r=function(t,e,n,i,o,a,l,u,c,h){void 0===t&&(t=null),void 0===e&&(e=""),void 0===n&&(n=1),void 0===i&&(i="normal"),void 0===o&&(o=!1),void 0===a&&(a=1),void 0===l&&(l=null),void 0===u&&(u=0),void 0===c&&(c=0),void 0===h&&(h=0),this.mix_=n,this.blend_=i,this.grayscale_=o,this.contrast_=a,this.colorOperation_=l,this.saturationOffset_=u,this.brightnessOffset_=c,this.blurRadius_=h,s.ImageFilter.call(this,e,r.KIND),this.style=t},a.defineClass({name:"CompositeFilter",ctor:r,superName:"ImageFilter",statics:{KIND:{get:function(){return"CompositeFilter"}},PROPERTY_MIX:"mix",PROPERTY_BLEND:"blend",PROPERTY_GRAYSCALE:"grayscale",PROPERTY_CONTRAST:"contrast",PROPERTY_COLOR_OPERATION:"color-operation",PROPERTY_SATURATION_OFFSET:"saturation-offset",PROPERTY_BRIGHTNESS_OFFSET:"brightness-offset",PROPERTY_BLUR_RADIUS:"blur-radius",createDefault:function(){return new r(null,"",1,"",!1,void 0,void 0,0,0,0)}},props:{mix:{get:function(){return this.mix_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.mix_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},blend:{get:function(){return this.blend_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.blend_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},grayscale:{get:function(){return this.grayscale_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.grayscale_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},contrast:{get:function(){return this.contrast_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.contrast_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},blurRadius:{get:function(){return this.blurRadius_},set:function(t){a.opt(this.style,function(t){return t.notifyBefore()}),this.blurRadius_=t,a.opt(this.style,function(t){return t.notifyAfter()})}},colorOperation:{get:function(){return null!=this.colorOperation_?this.colorOperation_:"No Op"}},saturation:{get:function(){return a.toString(this.saturationOffset_)}},brightness:{get:function(){return a.toString(this.brightnessOffset_)}},encodeJson:function(){var t=s.ImageFilter.prototype.encodeJson.call(this);return t[r.PROPERTY_MIX]=this.mix_,t[r.PROPERTY_BLEND]=this.blend_,t[r.PROPERTY_GRAYSCALE]=this.grayscale_,t[r.PROPERTY_CONTRAST]=this.contrast_,null!=this.colorOperation_&&(t[r.PROPERTY_COLOR_OPERATION]=this.colorOperation_),t[r.PROPERTY_SATURATION_OFFSET]=this.saturationOffset_,t[r.PROPERTY_BRIGHTNESS_OFFSET]=this.brightnessOffset_,t[r.PROPERTY_BLUR_RADIUS]=this.blurRadius_,t},decodeFromJson:function(t){var e,n,i,o,l,u,c,h;s.ImageFilter.prototype.decodeFromJson.call(this,t),this.blend_=(e=a.as(t[r.PROPERTY_BLEND],"String"))||null!=e?e:"normal","duotone"==this.blend_&&(this.blend_="normal"),this.mix_=(n=a.as(t[r.PROPERTY_MIX],"Double"))||null!=n?n:1,this.grayscale_=!(!(i=a.as(t[r.PROPERTY_GRAYSCALE],"Bool"))&&null==i)&&i,this.contrast_=(o=a.as(t[r.PROPERTY_CONTRAST],"Double"))||null!=o?o:1,this.colorOperation_=(l=a.as(t[r.PROPERTY_COLOR_OPERATION],"String"))||null!=l?l:"",this.saturationOffset_=(u=a.as(t[r.PROPERTY_SATURATION_OFFSET],"Double"))||null!=u?u:0,this.brightnessOffset_=(c=a.as(t[r.PROPERTY_BRIGHTNESS_OFFSET],"Double"))||null!=c?c:0,this.blurRadius_=(h=a.as(t[r.PROPERTY_BLUR_RADIUS],"Double"))||null!=h?h:0;var f=a.as(t["reduce-contrast"],"Bool");null!=f&&1==f&&(this.contrast_=.5)},equals:function(t){var e;return!!(e=a.as(t,r))&&this.name==a.opt(t,function(t){return t.name})&&this.mix==e.mix&&this.blurRadius==e.blurRadius}}}),r)},159:function(t,e,n){var i,o=e,r=n(0),s=n(1);o.ImageAdjustments=(i=function(t,e,n,o,r,s,a,l,u,c,h,f){void 0===t&&(t=0),void 0===e&&(e=0),void 0===n&&(n=0),void 0===o&&(o=0),void 0===r&&(r=0),void 0===s&&(s=0),void 0===a&&(a=0),void 0===l&&(l=0),void 0===u&&(u=0),void 0===c&&(c=0),void 0===h&&(h=0),void 0===f&&(f=0),this.name=i.NAME,this.blur_=t,this.sharpness_=e,this.contrast_=l,this.saturation_=r,this.brightness_=s,this.exposure_=a,this.contrast_=l,this.shadows_=n,this.highlights_=o,this.warmth_=u,this.tint_=c,this.fade_=h,this.vibrance_=f},r.defineClass({name:"ImageAdjustments",ctor:i,superName:"CoreObject",statics:{NAME:{get:function(){return"ImageAdjustments"}},PROPERTY_NAME:"name",PROPERTY_BLUR:"blur",PROPERTY_SHARPNESS:"sharpness",PROPERTY_SHADOWS:"shadows",PROPERTY_HIGHLIGHTS:"highlights",PROPERTY_SATURATION:"saturation",PROPERTY_BRIGHTNESS:"brightness",PROPERTY_EXPOSURE:"exposure",PROPERTY_CONTRAST:"contrast",PROPERTY_WARMTH:"warmth",PROPERTY_TINT:"tint",PROPERTY_FADE:"fade",PROPERTY_VIBRANCE:"vibrance",createDefault:function(){return new i(0,0,0,0,0,0,0,0,0,0,0,0)},decodeJson:function(t){if(null==t)return null;var e;if(e=r.as(t,["Dictionary","String","Any"])){var n=i.createDefault();return n.decodeFromJson(e),n}return s.CoreAssert.fail("ImageFilter.decodeJson: could not create style"),null}},props:{blur:{get:function(){return this.blur_},set:function(t){this.blur_=t}},scaledBlur:{get:function(){return this.blur_/3}},sharpness:{get:function(){return this.sharpness_},set:function(t){this.sharpness_=t}},scaledSharpness:{get:function(){return this.sharpness_/3}},shadows:{get:function(){return this.shadows_},set:function(t){this.shadows_=t}},highlights:{get:function(){return this.highlights_},set:function(t){this.highlights_=t}},saturation:{get:function(){return this.saturation_},set:function(t){this.saturation_=t}},brightness:{get:function(){return this.brightness_},set:function(t){this.brightness_=t}},exposure:{get:function(){return this.exposure_},set:function(t){this.exposure_=t}},contrast:{get:function(){return this.contrast_},set:function(t){this.contrast_=t}},warmth:{get:function(){return this.warmth_},set:function(t){this.warmth_=t}},tint:{get:function(){return this.tint_},set:function(t){this.tint_=t}},fade:{get:function(){return this.fade_},set:function(t){this.fade_=t}},vibrance:{get:function(){return this.vibrance_},set:function(t){this.vibrance_=t}},encodeJson:function(){var t={};return t[i.PROPERTY_NAME]=this.name,t[i.PROPERTY_BLUR]=this.blur_,t[i.PROPERTY_SHARPNESS]=this.sharpness_,t[i.PROPERTY_SHADOWS]=this.shadows_,t[i.PROPERTY_HIGHLIGHTS]=this.highlights_,t[i.PROPERTY_SATURATION]=this.saturation_,t[i.PROPERTY_BRIGHTNESS]=this.brightness_,t[i.PROPERTY_EXPOSURE]=this.exposure_,t[i.PROPERTY_CONTRAST]=this.contrast_,t[i.PROPERTY_WARMTH]=this.warmth_,t[i.PROPERTY_TINT]=this.tint_,t[i.PROPERTY_FADE]=this.fade_,t[i.PROPERTY_VIBRANCE]=this.vibrance_,t},decodeFromJson:function(t){var e,n,o,s,a,l,u,c,h,f,_,g,d;this.name=(e=r.as(t[i.PROPERTY_NAME],"String"))||null!=e?e:"",this.blur_=(n=r.as(t[i.PROPERTY_BLUR],"Double"))||null!=n?n:0,this.sharpness_=(o=r.as(t[i.PROPERTY_SHARPNESS],"Double"))||null!=o?o:0,this.shadows_=(s=r.as(t[i.PROPERTY_SHADOWS],"Double"))||null!=s?s:0,this.highlights_=(a=r.as(t[i.PROPERTY_HIGHLIGHTS],"Double"))||null!=a?a:0,this.saturation_=(l=r.as(t[i.PROPERTY_SATURATION],"Double"))||null!=l?l:0,this.brightness_=(u=r.as(t[i.PROPERTY_BRIGHTNESS],"Double"))||null!=u?u:0,this.exposure_=(c=r.as(t[i.PROPERTY_EXPOSURE],"Double"))||null!=c?c:0,this.contrast_=(h=r.as(t[i.PROPERTY_CONTRAST],"Double"))||null!=h?h:1,this.warmth_=(f=r.as(t[i.PROPERTY_WARMTH],"Double"))||null!=f?f:0,this.tint_=(_=r.as(t[i.PROPERTY_TINT],"Double"))||null!=_?_:0,this.fade_=(g=r.as(t[i.PROPERTY_FADE],"Double"))||null!=g?g:0,this.vibrance_=(d=r.as(t[i.PROPERTY_VIBRANCE],"Double"))||null!=d?d:0},clone:function(){return i.decodeJson(this.encodeJson())},equals:function(t){return this.blur==r.opt(t,function(t){return t.blur})&&this.sharpness==r.opt(t,function(t){return t.sharpness})&&this.shadows==r.opt(t,function(t){return t.shadows})&&this.highlights==r.opt(t,function(t){return t.highlights})&&this.saturation==r.opt(t,function(t){return t.saturation})&&this.brightness==r.opt(t,function(t){return t.brightness})&&this.exposure==r.opt(t,function(t){return t.exposure})&&this.contrast==r.opt(t,function(t){return t.contrast})&&this.warmth==r.opt(t,function(t){return t.warmth})&&this.tint==r.opt(t,function(t){return t.tint})&&this.fade==r.opt(t,function(t){return t.fade})&&this.vibrance==r.opt(t,function(t){return t.vibrance})},isDefault:function(){return 0==this.blur&&0==this.sharpness&&0==this.shadows&&0==this.highlights&&0==this.saturation&&0==this.brightness&&0==this.exposure&&0==this.contrast&&0==this.warmth&&0==this.tint&&0==this.fade&&0==this.vibrance},asString:{get:function(){return i.PROPERTY_BLUR+": "+this.blur+i.PROPERTY_SHARPNESS+": "+this.sharpness+i.PROPERTY_SHADOWS+": "+this.shadows+i.PROPERTY_HIGHLIGHTS+": "+this.highlights+i.PROPERTY_SATURATION+": "+this.saturation+i.PROPERTY_BRIGHTNESS+": "+this.brightness+i.PROPERTY_EXPOSURE+": "+this.exposure+i.PROPERTY_CONTRAST+": "+this.contrast+i.PROPERTY_WARMTH+": "+this.warmth+i.PROPERTY_TINT+": "+this.tint+i.PROPERTY_FADE+": "+this.fade+i.PROPERTY_VIBRANCE+": "+this.vibrance}}}}),i)},17:function(t,e,n){var i,o=e,r=n(0),s=n(1),a=n(19),l=n(86),u=n(53),c=n(8),h=n(245),f=n(22),_=n(40),g=n(244),d=n(333),R=n(165);o.OpacityRule=r.defineEnum("OpacityRule",{UNSET:-1,Full:0,MediumBacking:1,FaintBacking:2,Medium:3,Faint:4,UseLockupOpacities:5,Count:6}),o.LockupLayout=r.defineEnum("LockupLayout",{SKIP:-2,UNSET:-1,FitJustified:0,LegacyLeft:1,LegacyRight:2,LegacyCenter:3,Standard:4,LetterGrid:5,Path:6}),o.LockupAlignment=r.defineEnum("LockupAlignment",{SKIP:-2,UNSET:-1,Left:0,Right:1,Center:2}),o.LockupBacking=r.defineEnum("LockupBacking",{UNSET:-1,None:0,Frame:1,Rows:2,Box:3,LegacyShadow:4,Banner:5,LeftRight:6,SVGBackground:7,BannerVertical:8,BannerHorizontal:9,TopBottom:10,Knockout:11}),o.LockupTextLook=r.defineEnum("LockupTextLook",{SKIP:-2,UNSET:-1,Fill:0,KnockoutOnly:1,KnockoutAndOutline:2,OutlineOnly:3,FillAndOutline:4,FillAndOutline2:5,KnockoutAndFill:6,Shadow:7,ShadowAndOutline:8,KnockoutAndShadow:9}),o.LockupStyle=(i=function(t,e,n,r,a,l,c,h,f,_,g,d,p,T,y,P,m,O,A){this.characterStyles={},this.lineBreakAtCharacterStyleSizeChange=!0,void 0===m&&(m=R.TextPathID.UNSET),void 0===O&&(O=null),void 0===A&&(A=i.DEFAULT_WHEELUSED),(l<-1||l>1)&&s.CoreAssert.warning("Tracking must be between -1 and 1.");var E=Math.max(-1,Math.min(1,l));(c<-.5||c>1)&&s.CoreAssert.warning("Padding must be between 0 and 1.");var S=Math.max(-.5,Math.min(1,c));s.CoreAssert.isFalse(g==o.LockupLayout.SKIP||g==o.LockupLayout.LegacyLeft||g==o.LockupLayout.LegacyCenter||g==o.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+g),s.CoreAssert.isFalse(d==o.LockupAlignment.SKIP,"Unexpected LockupAlignment value: "+d),i.isPath(g)?(m==R.TextPathID.Custom&&null==O||m!=R.TextPathID.Custom&&null!=O)&&s.CoreAssert.warning("pathID/customPath mismatch"):m==R.TextPathID.UNSET&&null==O||s.CoreAssert.warning("Why are we providing a path or path id with a non-path layout?"),this.font_=r,this.spacing_=a,this.tracking_=E,this.padding_=S,this.backing_=h,this.backingArtworkID_=f,this.shadowAngle_=_,this.shadowOffset_=y,this.strokeWeight_=P,this.layout_=g,this.alignment_=d,this.opacityRule_=p,this.textOpacity_=t,this.backingOpacity_=e,this.textLook_=T,this.pathID_=m,this.customPath_=O,this.wheelUsed=A,null==f&&h!=o.LockupBacking.SVGBackground||null!=f&&h==o.LockupBacking.SVGBackground||s.CoreAssert.warning("error backingArtwordID / SVGBackground"),u.FormaStyle.call(this,i.KIND,1,n)},r.defineClass({name:"LockupStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"LockupStyle"}},DEFAULT_PADDING:.65,DEFAULT_SPACING:.35,DEFAULT_SHADOWOFFSET:.5,DEFAULT_STROKEWEIGHT:.1,DEFAULT_WHEELUSED:!1,OPACITY_UNSET:-1,createDefault:function(){var t=g.TheoFont.init_9e5c(c.Host.textModelUtils.defaultFont()),e=a.ColorTable.init_d41d();return e.setColorIDs([{key:a.ColorRole.FieldPrimary,value:"themeColor0"},{key:a.ColorRole.FieldSecondary,value:"themeColor1"}]),new i(1,1,e,t,i.DEFAULT_SPACING,0,i.DEFAULT_PADDING,o.LockupBacking.None,null,135,o.LockupLayout.FitJustified,o.LockupAlignment.UNSET,o.OpacityRule.Full,o.LockupTextLook.Fill,i.DEFAULT_SHADOWOFFSET,i.DEFAULT_STROKEWEIGHT,void 0,void 0,i.DEFAULT_WHEELUSED)},PROPERTY_FONTS:"fonts",PROPERTY_SPACING:"spacing",PROPERTY_TRACKING:"tracking",PROPERTY_PADDING:"padding",PROPERTY_BACKING:"backing",PROPERTY_LAYOUT:"layout",PROPERTY_ALIGNMENT:"alignment",PROPERTY_PATH_ID:"pathID",PROPERTY_CUSTOM_PATH:"customPath",PROPERTY_OPACITY_RULE:"opacityRule",PROPERTY_BACKING_ARTWORK_ID:"backingArtworkID",PROPERTY_SHADOW_ANGLE:"shadowAngle",PROPERTY_COLORS_DEPRECATED:"colors",PROPERTY_TEXT_OPACITY:"text-opacity",PROPERTY_BACKING_OPACITY:"backing-opacity",PROPERTY_KNOCKOUT:"knockout",PROPERTY_CHARSTYLES:"character-styles",PROPERTY_SHADOW_OFFSET:"shadowOffset",PROPERTY_STROKE_WEIGHT:"strokeWeight",PROPERTY_LINEBREAK:"linebreak",PROPERTY_WHEELUSED:"wheel-used",isKnockoutLook:function(t){return t==o.LockupTextLook.KnockoutOnly||t==o.LockupTextLook.KnockoutAndOutline||t==o.LockupTextLook.KnockoutAndFill||t==o.LockupTextLook.KnockoutAndShadow},isOutlineLook:function(t){return t==o.LockupTextLook.KnockoutAndOutline||t==o.LockupTextLook.OutlineOnly||t==o.LockupTextLook.FillAndOutline||t==o.LockupTextLook.FillAndOutline2||t==o.LockupTextLook.ShadowAndOutline},isShadowLook:function(t){return t==o.LockupTextLook.Shadow||t==o.LockupTextLook.ShadowAndOutline||t==o.LockupTextLook.KnockoutAndShadow},isLetterGrid:function(t){return t==o.LockupLayout.LetterGrid},isPath:function(t){return t==o.LockupLayout.Path},layoutSupportsAlignments:function(t){return t==o.LockupLayout.LetterGrid||t==o.LockupLayout.Standard},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{setEmptyStyle:function(){this.font_=null,this.spacing_=-1,this.tracking_=-99,this.padding_=0,this.backing_=o.LockupBacking.None,this.backingArtworkID_=null,this.shadowAngle_=-1,this.layout_=o.LockupLayout.UNSET,this.opacityRule_=o.OpacityRule.UNSET,this.textOpacity_=i.OPACITY_UNSET,this.backingOpacity_=i.OPACITY_UNSET,this.textLook_=o.LockupTextLook.UNSET,this.shadowOffset_=-1,this.strokeWeight_=-1},needsLayout:function(t){return t.backing!=this.backing||!r.eq(g._equality_TheoFont_TheoFont,t.font,this.font)||t.layout!=this.layout||t.alignment!=this.alignment||t.pathID!=this.pathID||t.customPath!=this.customPath||t.padding!=this.padding||t.spacing!=this.spacing||t.tracking!=this.tracking||t.textLook!=this.textLook||t.strokeWeight!=this.strokeWeight||t.shadowOffset!=this.shadowOffset||t.lineBreakAtCharacterStyleSizeChange!=this.lineBreakAtCharacterStyleSizeChange},sameColors:function(t){if(!r.eq(f._equality_SolidColor_SolidColor,t.colors.fieldPrimary,this.colors.fieldPrimary)||!r.eq(f._equality_SolidColor_SolidColor,t.colors.fieldSecondary,this.colors.fieldSecondary))return!1;for(var e=r.iter(this.characterStyles);!e.done;e.next()){var n,i=e.key,o=e.value;if(!(n=t.characterStyles[i]))return!1;if(!r.eq(f._equality_SolidColor_SolidColor,n.colors.fieldPrimary,o.colors.fieldPrimary)||!r.eq(f._equality_SolidColor_SolidColor,n.colors.fieldSecondary,o.colors.fieldSecondary))return!1}return!0},colorLibrary:{get:function(){return u.FormaStyle._getters.colorLibrary.call(this)},set:function(t){u.FormaStyle._setters.colorLibrary.call(this,t);for(var e=r.iter(this.characterStyles);!e.done;e.next())e.value.colorLibrary=t}},spacing:{get:function(){return this.spacing_},set:function(t){this.notifyBefore(),this.spacing_=t,this.notifyAfter()}},tracking:{get:function(){return this.tracking_},set:function(t){this.notifyBefore(),this.tracking_=t,this.notifyAfter()}},textLook:{get:function(){return this.textLook_},set:function(t){this.notifyBefore(),this.textLook_=t,this.notifyAfter()}},padding:{get:function(){return this.padding_},set:function(t){this.notifyBefore(),this.padding_=t,this.notifyAfter()}},backing:{get:function(){return this.backing_},set:function(t){this.notifyBefore(),this.backing_=t,this.notifyAfter()}},opacityRule:{get:function(){return this.opacityRule_},set:function(t){this.notifyBefore(),this.opacityRule_=t,this.notifyAfter()}},opacity:{get:function(){return 1},set:function(t){s.CoreAssert.fail("opacity being set. use controller's applyOpacity instead")}},textOpacity:{get:function(){return this.textOpacity_},set:function(t){this.notifyBefore(),this.textOpacity_=t,this.notifyAfter()}},backingOpacity:{get:function(){return this.backingOpacity_},set:function(t){this.notifyBefore(),this.backingOpacity_=t,this.notifyAfter()}},layout:{get:function(){return this.layout_},set:function(t){s.CoreAssert.isFalse(t==o.LockupLayout.SKIP||t==o.LockupLayout.LegacyLeft||t==o.LockupLayout.LegacyCenter||t==o.LockupLayout.LegacyRight,"Unexpected LockupLayout value: "+t),this.notifyBefore(),this.layout_=t,this.notifyAfter()}},alignment:{get:function(){return this.alignment_},set:function(t){s.CoreAssert.isFalse(t==o.LockupAlignment.SKIP,"LockupAlignment.SKIP is not a settable value"),this.notifyBefore(),this.alignment_=t,this.notifyAfter()}},pathID:{get:function(){return this.pathID_},set:function(t){this.notifyBefore(),this.pathID_=t,this.notifyAfter()}},customPath:{get:function(){return this.customPath_},set:function(t){this.notifyBefore(),this.customPath_=t,this.notifyAfter()}},backingArtworkID:{get:function(){return this.backingArtworkID_},set:function(t){this.notifyBefore(),this.backingArtworkID_=t,this.notifyAfter()}},shadowAngle:{get:function(){return this.shadowAngle_},set:function(t){this.notifyBefore(),this.shadowAngle_=t,this.notifyAfter()}},shadowOffset:{get:function(){return this.shadowOffset_},set:function(t){this.notifyBefore(),this.shadowOffset_=t,this.notifyAfter()}},strokeWeight:{get:function(){return this.strokeWeight_},set:function(t){this.notifyBefore(),this.strokeWeight_=t,this.notifyAfter()}},font:{get:function(){return this.font_},set:function(t){this.notifyBefore(),this.font_=t,this.notifyAfter()}},setBacking:function(t,e){this.notifyBefore(),this.backing_=t,this.backingArtworkID_=e,this.notifyAfter()},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary||t==a.ColorRole.FieldSecondary},encodeJson:function(){var t=u.FormaStyle.prototype.encodeJson.call(this);if(null!=this.font_){var e=[];e.push(this.font_.encodeJson()),t[i.PROPERTY_FONTS]=e}-1!=this.spacing&&(t[i.PROPERTY_SPACING]=this.spacing),-99!=this.tracking&&(t[i.PROPERTY_TRACKING]=this.tracking),-1!=this.padding&&(t[i.PROPERTY_PADDING]=this.padding),this.backing!=o.LockupBacking.UNSET&&(t[i.PROPERTY_BACKING]=this.backing),-1!=this.shadowAngle&&(t[i.PROPERTY_SHADOW_ANGLE]=this.shadowAngle),this.layout!=o.LockupLayout.UNSET&&(t[i.PROPERTY_LAYOUT]=this.layout),this.alignment!=o.LockupAlignment.UNSET&&(t[i.PROPERTY_ALIGNMENT]=this.alignment),this.pathID!=R.TextPathID.UNSET&&(t[i.PROPERTY_PATH_ID]=this.pathID),null!=this.customPath&&(t[i.PROPERTY_CUSTOM_PATH]=this.customPath.encodeJson()),this.opacityRule!=o.OpacityRule.UNSET&&(t[i.PROPERTY_OPACITY_RULE]=this.opacityRule),this.textOpacity!=i.OPACITY_UNSET&&(t[i.PROPERTY_TEXT_OPACITY]=this.textOpacity),this.backingOpacity!=i.OPACITY_UNSET&&(t[i.PROPERTY_BACKING_OPACITY]=this.backingOpacity),this.textLook!=o.LockupTextLook.UNSET&&(t[i.PROPERTY_KNOCKOUT]=this.textLook),-1!=this.shadowOffset&&(t[i.PROPERTY_SHADOW_OFFSET]=this.shadowOffset),-1!=this.strokeWeight&&(t[i.PROPERTY_STROKE_WEIGHT]=this.strokeWeight),null!=this.backingArtworkID&&(t[i.PROPERTY_BACKING_ARTWORK_ID]=this.backingArtworkID);for(var n={},a=r.iter(this.characterStyles);!a.done;a.next()){var l=a.key,c=a.value;n[l]=c.encodeJson(),s.CoreAssert.isTrue(0==r.count(c.characterStyles),"character styles should not have children")}return r.count(n)>0&&(t[i.PROPERTY_CHARSTYLES]=r.clone(n)),1!=this.lineBreakAtCharacterStyleSizeChange&&(t[i.PROPERTY_LINEBREAK]=this.lineBreakAtCharacterStyleSizeChange),t[i.PROPERTY_WHEELUSED]=this.wheelUsed,t},decodeFromJson:function(t,e){var n,a,l,c,h,_,p,T,y,P,m,O,A,E,S,k;if(u.FormaStyle.prototype.decodeFromJson.call(this,t,e),p=r.as(t[i.PROPERTY_FONTS],["Array","Any"])){this.font_=null,s.CoreAssert.isTrue(p.length<=1,"should only have 1 or 0 fonts");for(var C=r.iter(p);!C.done;C.next()){var L=C.value;this.font_=g.TheoFont.decodeJson(r.as(L,"AnyObject"),e)}}switch(null!=(T=r.as(t[i.PROPERTY_SPACING],"Double"))&&(this.spacing_=T),null!=(y=r.as(t[i.PROPERTY_TRACKING],"Double"))&&(this.tracking_=y),null!=(P=r.as(t[i.PROPERTY_PADDING],"Double"))&&(this.padding_=P),null!=(m=r.as(t[i.PROPERTY_BACKING],"Int"))&&(this.backing_=(n=o.LockupBacking.toCaseValue(m))||null!=n?n:o.LockupBacking.Box),this.backingArtworkID_=r.as(t[i.PROPERTY_BACKING_ARTWORK_ID],"String"),null!=(O=r.as(t[i.PROPERTY_LAYOUT],"Int"))&&(this.layout_=(a=o.LockupLayout.toCaseValue(O))||null!=a?a:o.LockupLayout.FitJustified),null!=(A=r.as(t[i.PROPERTY_ALIGNMENT],"Int"))&&(this.alignment_=(l=o.LockupAlignment.toCaseValue(A))||null!=l?l:o.LockupAlignment.UNSET),this.layout_){case 3:this.layout_=o.LockupLayout.Standard,this.alignment_=o.LockupAlignment.Center;break;case 1:this.layout_=o.LockupLayout.Standard,this.alignment_=o.LockupAlignment.Left;break;case 2:this.layout_=o.LockupLayout.Standard,this.alignment_=o.LockupAlignment.Right}null!=(E=r.as(t[i.PROPERTY_PATH_ID],"Int"))&&(this.pathID_=(c=R.TextPathID.toCaseValue(E))||null!=c?c:R.TextPathID.UNSET),this.customPath_=d.TextPath.decodeFromJson(r.as(t[i.PROPERTY_CUSTOM_PATH],["Dictionary","String","Any"])),null!=(S=r.as(t[i.PROPERTY_SHADOW_ANGLE],"Double"))&&(this.shadowAngle=S),null!=(k=r.as(t[i.PROPERTY_OPACITY_RULE],"Int"))&&(this.opacityRule_=(h=o.OpacityRule.toCaseValue(k))||null!=h?h:o.OpacityRule.Full);var b=r.as(t[u.FormaStyle.PROPERTY_OPACITY],"Double"),D=null==b?1:b,I=r.as(t[i.PROPERTY_TEXT_OPACITY],"Double");null!=I&&s.CoreAssert.isTrue(1==D,"for legacy "),u.FormaStyle._setters.opacity.call(this,1),null==I&&this.textOpacity==i.OPACITY_UNSET||(this.textOpacity=null==I?D:I);var Y,v,F,N,w,B,U,M=r.as(t[i.PROPERTY_BACKING_OPACITY],"Double");if(null==M&&this.backingOpacity==i.OPACITY_UNSET||(this.backingOpacity=null==M?1:M),this.backing_==o.LockupBacking.None&&1!=this.backingOpacity&&1==this.textOpacity&&(this.textOpacity=this.backingOpacity),null==I&&this.textOpacity!=i.OPACITY_UNSET&&b==M&&(this.backingOpacity=D),null!=(Y=r.as(t[i.PROPERTY_KNOCKOUT],"Int"))&&(this.textLook_=(_=o.LockupTextLook.toCaseValue(Y))||null!=_?_:o.LockupTextLook.Fill),null!=(v=r.as(t[i.PROPERTY_SHADOW_OFFSET],"Double"))&&(this.shadowOffset=v),this.backing==o.LockupBacking.LegacyShadow&&(this.backing_=o.LockupBacking.None,this.textLook_=o.LockupTextLook.Shadow,this.shadowOffset=this.padding+.48,this.shadowOffset>1&&(this.shadowOffset=1)),null!=(F=r.as(t[i.PROPERTY_STROKE_WEIGHT],"Double"))?this.strokeWeight=F:this.textLook==o.LockupTextLook.KnockoutAndOutline&&(this.strokeWeight=0),(N=r.as(t[i.PROPERTY_COLORS_DEPRECATED],["Array","Any"]))&&(N.length>=1&&(this.colors.fieldPrimary=f.SolidColor.decodeJson(r.as(N[0],"AnyObject"))),N.length>=2&&(this.colors.fieldSecondary=f.SolidColor.decodeJson(r.as(N[1],"AnyObject")))),w=r.as(t[i.PROPERTY_CHARSTYLES],["Dictionary","String","AnyObject"])){this.characterStyles={};for(var x=r.iter(w);!x.done;x.next()){var G=x.key,K=x.value,J=i.createDefault();J.setEmptyStyle(),J.decodeFromJson(K,e),J.colorLibrary=this.colorLibrary,this.characterStyles[G]=J}}null!=(B=r.as(t[i.PROPERTY_LINEBREAK],"Bool"))&&(this.lineBreakAtCharacterStyleSizeChange=B),null!=(U=r.as(t[i.PROPERTY_WHEELUSED],"Bool"))&&(this.wheelUsed=U)},layoutType:{get:function(){if(this.layout==o.LockupLayout.FitJustified)return"justified";if(this.layout==o.LockupLayout.Standard)switch(this.alignment){case 0:return"left";case 2:return"center";case 1:return"right";default:return"error"}return this.layout==o.LockupLayout.Path?"path":this.layout==o.LockupLayout.LetterGrid?"letter-grid":"error"}},backingShapeID:{get:function(){return this.backing==o.LockupBacking.None?"none":this.backing==o.LockupBacking.Rows?"rows":this.backing==o.LockupBacking.BannerHorizontal||this.backing==o.LockupBacking.BannerVertical||this.backing==o.LockupBacking.Banner?"banner":this.backing==o.LockupBacking.SVGBackground?null!=this.backingArtworkID_?this.backingArtworkID_:"error":this.backing==o.LockupBacking.Knockout?"knockout":"error"}},textLookAsString:{get:function(){var t;switch(this.textLook){case 1:t="knockoutOnly";break;case 2:t="knockoutAndOutline";break;case 3:t="outlineOnly";break;case 4:t="fillAndOutline";break;case 5:t="fillAndOutline2";break;case 7:t="shadow";break;case 8:t="shadowAndOutline";break;case 9:t="knockoutAndShadow";break;default:t="fill"}return t}},currentTextOpacity:{get:function(){return this.opacityRule==o.OpacityRule.UseLockupOpacities?this.textOpacity:this.opacityRule==o.OpacityRule.Faint?h.kOpacityRuleFaintAlpha:this.opacityRule==o.OpacityRule.Medium?h.kOpacityRuleMediumAlpha:1}},currentBackingOpacity:{get:function(){return this.opacityRule==o.OpacityRule.UseLockupOpacities?this.backingOpacity:this.opacityRule==o.OpacityRule.FaintBacking||this.opacityRule==o.OpacityRule.Faint?h.kOpacityRuleFaintAlpha:this.opacityRule==o.OpacityRule.MediumBacking||this.opacityRule==o.OpacityRule.Medium?h.kOpacityRuleMediumAlpha:1}},textBacked:{get:function(){return this.backing==o.LockupBacking.Box||this.backing==o.LockupBacking.Rows||this.backing==o.LockupBacking.BannerVertical||this.backing==o.LockupBacking.BannerHorizontal||this.textLook==o.LockupTextLook.ShadowAndOutline&&this.strokeWeight>.15||!(this.backing!=o.LockupBacking.SVGBackground||!_.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))}},shapeSupportsKnockout:{get:function(){return this.backing==o.LockupBacking.Box||this.backing==o.LockupBacking.Rows||this.backing==o.LockupBacking.BannerVertical||this.backing==o.LockupBacking.BannerHorizontal||this.backing==o.LockupBacking.Knockout||!(this.backing!=o.LockupBacking.SVGBackground||!_.ShapeLibrary.FilledBackingShapes.includes(this.backingArtworkID))}},secondaryColorVisible:{get:function(){return this.backing!=o.LockupBacking.None||i.isOutlineLook(this.textLook)||this.textLook==o.LockupTextLook.Shadow}},asString:{get:function(){var t="";return null!=this.font&&(t+="Font: "+this.font.fontData.postScriptName+"\n"),(t+=this.colors.asString)+" Spacing "+this.spacing+" \n Backing  "+this.backing+" \n Layout  "+this.layout+" \n OpacityRule  "+this.opacityRule+" "}},isEqual:function(t){return!1},getCompressedStringOfFeatures:function(){var t,e=this.encodeJson(),n="{";return(t=r.as(e,["Dictionary","String","Any"]))&&(n=this.compressDictToString(r.clone(t),n)),n},compressDictToString:function(t,e){for(var n=e,o=[u.FormaStyle.PROPERTY_ADJUSTMENTS,u.FormaStyle.PROPERTY_KIND],s=[i.PROPERTY_FONTS,u.FormaStyle.PROPERTY_COLORS],a=r.iter(r.keys(t));!a.done;a.next()){var l=a.value;if(!o.includes(l)){var c,h=this.getSmallKey(l);if(s.includes(l))n=this.handleSpecialCases(r.clone(t),l,h,n);else if(c=r.as(t[l],["Dictionary","String","Any"]))n+=h+"{|",n=this.compressDictToString(r.clone(c),n);else{if(r.as(t[l],["Array","Any"]))continue;var f;if(null!=(f=r.as(t[l],"Double"))){var _=this.roundDoubleToString(f,4);n+=h+":"+r.toString(_)+"|"}else null!=(_=r.as(t[l],"String"))&&(n+=h+":"+_+"|")}}}return n+="}"},roundDoubleToString:function(t,e){var n=e;return t%1==0&&(n=0),r.toString("%."+r.toString(n)+"f",t)},handleSpecialCases:function(t,e,n,o){var s,a,l=o;return e==i.PROPERTY_FONTS&&(s=r.as(t[e],["Array",["Dictionary","String","Any"]]))&&(l=this.compressFonts(r.clone(s),n,l)),e==u.FormaStyle.PROPERTY_COLORS&&(a=r.as(t[e],["Dictionary","String",["Array","Any"]]))&&(l=this.compressColorTable(r.clone(a),n,l)),l},getSmallKey:function(t){var e=t.length;return e>4?t.substr(0,2)+t.substr(e-2,2):t},compressFonts:function(t,e,n){for(var i=n+e+":",o=r.iter(r.range(0,t.length,!1));!o.done;o.next()){var s,a=o.value;null!=(s=r.as(t[a][l.FontDescriptor.PROPERTY_POSTSCRIPT_NAME],"String"))?a<t.length-1?i+=s+",":i+=s+"|":i+="|"}return i},compressColorTable:function(t,e,n){var i,o=n+e+":";if(i=r.as(t[a.ColorTable.PROPERTY_ENTRIES],["Array",["Dictionary","String","Any"]]))for(var s=r.iter(r.range(0,i.length,!1));!s.done;s.next()){var l,u,c,h=s.value;if(null!=(l=r.as(i[h][a.ColorTable.PROPERTY_ENTRY_COLORID],"String"))&&null!=(u=r.as(i[h][a.ColorTable.PROPERTY_ENTRY_ROLE],"String"))&&(c=this.colorLibrary.color(l))){var f=c.rgbColor.rgbHex,_="";u==a.ColorTable.NAME_FIELD_PRIMARY?_="prim":u==a.ColorTable.NAME_FIELD_SECONDARY&&(_="seco"),h<i.length-1?o+=_+"#"+f+",":o+=_+"#"+f+"|"}}return o}}}),i)},190:function(t,e,n){var i,o=e,r=n(0),s=n(49),a=n(19),l=n(53),u=n(22),c=n(40);o.SeperatorStyle=r.defineEnum("SeperatorStyle",{None:0,Outer:1,Inner:2,BottomAll:3,FirstInner:4}),o.GroupLayoutMode=r.defineEnum("GroupLayoutMode",{None:0,Proportional:1,Flow:2}),o.AlignmentGroupStyle=(i=function(t,e,n,r,u,c,h,f,_,g,d,R,p,T,y,P){this.numColumns_=null,this.scales_={},void 0===t&&(t=o.GroupLayoutMode.Flow),void 0===e&&(e=s.AlignmentType.CenterX),void 0===n&&(n=s.AlignmentType.CenterY),void 0===r&&(r=null),void 0===u&&(u=null),void 0===c&&(c=null),void 0===h&&(h=null),void 0===f&&(f=null),void 0===_&&(_=o.SeperatorStyle.None),void 0===g&&(g=null),void 0===d&&(d=null),void 0===R&&(R=null),void 0===p&&(p=null),void 0===T&&(T=null),void 0===y&&(y=null),void 0===P&&(P=null),this.layoutMode_=t,this.horizontalAlignment_=e,this.verticalAlignment_=n,this.spacing_=r,this.padding_=u,this.numColumns_=c,this.backingArtworkID_=h,this.seperatorArtworkID_=f,this.seperatorStyle_=_,this.seperatorHeight_=g,this.marginLeft_=d,this.marginRight_=R,this.marginTop_=p,this.marginBottom_=T,this.topDistances_={},this.bottomDistances_={},this.order_=[],this.scales_={};var m=a.ColorTable.createDefault();null!=y&&(m.fieldPrimary=y),null!=P&&(m.fieldSecondary=P),l.FormaStyle.call(this,i.KIND,1,m)},r.defineClass({name:"AlignmentGroupStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"AlignmentGroupStyle"}},PROPERTY_LAYOUT_MODE:"layout-mode",PROPERTY_HORIZONTAL_ALIGNMENT:"horizontal-alignment",PROPERTY_VERTICAL_ALIGNMENT:"vertical-alignment",PROPERTY_SEPERATOR_STYLE:"seperator-style",PROPERTY_SEPERATOR_ARTWORK_ID:"seperator-artwork-id",PROPERTY_SEPERATOR_HEIGHT:"seperator-height",PROPERTY_BOTTOM_DISTANCES:"bottom-distances",PROPERTY_TOP_DISTANCES:"top-distances",PROPERTY_SPACING:"spacing",PROPERTY_PADDING:"padding",PROPERTY_MARGIN_LEFT:"margin-left",PROPERTY_MARGIN_RIGHT:"margin-right",PROPERTY_MARGIN_TOP:"margin-top",PROPERTY_MARGIN_BOTTOM:"margin-bottom",PROPERTY_BACKING_ARTWORK_ID:"backing-artwork-id",PROPERTY_NUM_COLUMNS:"num-columns",PROPERTY_ORDER:"order",createDefault:function(){return new i},getTestingStyles:function(){var t=[];return t.push(new i(void 0,s.AlignmentType.CenterX,s.AlignmentType.CenterY,30,0,null,c.ShapeLibrary.Square,c.ShapeLibrary.Square,o.SeperatorStyle.Inner,5,null,null,null,null,new u.SolidColor(1,0,0,1),new u.SolidColor(1,1,1,1))),t.push(new i(void 0,s.AlignmentType.Left,s.AlignmentType.Top,100,0,null,c.ShapeLibrary.Square,c.ShapeLibrary.Square,o.SeperatorStyle.BottomAll,25,30,null,30,null,new u.SolidColor(.25,.5,.25,1),new u.SolidColor(1,1,1,1))),t.push(new i(void 0,s.AlignmentType.CenterX,s.AlignmentType.CenterY,50,0,null,"circle_001",c.ShapeLibrary.Square,o.SeperatorStyle.FirstInner,5,null,null,100,100,new u.SolidColor(0,0,1,1),new u.SolidColor(1,1,1,1))),t.push(new i(void 0,s.AlignmentType.Right,s.AlignmentType.Top,50,0,null,"inline_006",c.ShapeLibrary.Square,o.SeperatorStyle.Outer,10,null,50,null,50,new u.SolidColor(1,0,1,1),new u.SolidColor(1,1,1,1))),t},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{layoutMode:{get:function(){return this.layoutMode_},set:function(t){this.layoutMode_=t}},topDistances:{get:function(){return this.topDistances_},set:function(t){this.topDistances_=r.clone(t)}},order:{get:function(){return this.order_},set:function(t){this.order_=r.clone(t)}},bottomDistances:{get:function(){return this.bottomDistances_},set:function(t){this.bottomDistances_=r.clone(t)}},scales:{get:function(){return this.scales_},set:function(t){this.scales_=r.clone(t)}},setTopDistance:function(t,e){this.topDistances_[t]=e},setBottomDistance:function(t,e){this.bottomDistances_[t]=e},setScale:function(t,e){this.scales_[t]=e},horizontalAlignment:{get:function(){return this.horizontalAlignment_},set:function(t){this.horizontalAlignment_=t}},verticalAlignment:{get:function(){return this.verticalAlignment_},set:function(t){this.verticalAlignment_=t}},spacing:{get:function(){return this.spacing_},set:function(t){this.spacing_=t}},padding:{get:function(){return this.padding_},set:function(t){this.padding_=t}},marginTop:{get:function(){return this.marginTop_},set:function(t){this.marginTop_=t}},marginBottom:{get:function(){return this.marginBottom_},set:function(t){this.marginBottom_=t}},marginLeft:{get:function(){return this.marginLeft_},set:function(t){this.marginLeft_=t}},marginRight:{get:function(){return this.marginRight_},set:function(t){this.marginRight_=t}},backingArtworkID:{get:function(){return this.backingArtworkID_},set:function(t){this.backingArtworkID_=t}},seperatorStyle:{get:function(){return this.seperatorStyle_},set:function(t){this.notifyBefore(),this.seperatorStyle_=t,this.notifyAfter()}},seperatorArtworkID:{get:function(){return this.seperatorArtworkID_},set:function(t){this.seperatorArtworkID_=t}},seperatorHeight:{get:function(){return this.seperatorHeight_},set:function(t){this.seperatorHeight_=t}},numColumns:{get:function(){return this.numColumns_},set:function(t){this.numColumns_=t}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary||t==a.ColorRole.FieldSecondary},removeChild:function(t){r.removeKey(this.bottomDistances_,t),r.removeKey(this.topDistances_,t),r.remove(this.order_,t)},match:function(t){t instanceof i&&this.decodeFromJson(t.encodeJson(),null)},decodeFromJson:function(t,e){var n,a,u,c,h,f,_,g,d,R,p,T,y;l.FormaStyle.prototype.decodeFromJson.call(this,t,e),null!=(h=r.as(t[i.PROPERTY_LAYOUT_MODE],"Int"))&&(this.layoutMode_=(n=o.GroupLayoutMode.toCaseValue(h))||null!=n?n:o.GroupLayoutMode.Flow),null!=(f=r.as(t[i.PROPERTY_HORIZONTAL_ALIGNMENT],"Int"))&&(this.horizontalAlignment_=(a=s.AlignmentType.toCaseValue(f))||null!=a?a:s.AlignmentType.CenterX),null!=(f=r.as(t[i.PROPERTY_VERTICAL_ALIGNMENT],"Int"))&&(this.verticalAlignment_=(u=s.AlignmentType.toCaseValue(f))||null!=u?u:s.AlignmentType.CenterX),null!=(_=r.as(t[i.PROPERTY_BACKING_ARTWORK_ID],"String"))&&(this.backingArtworkID_=_),null!=(g=r.as(t[i.PROPERTY_SEPERATOR_STYLE],"Int"))&&(this.seperatorStyle_=(c=o.SeperatorStyle.toCaseValue(g))||null!=c?c:o.SeperatorStyle.None),null!=(d=r.as(t[i.PROPERTY_SEPERATOR_ARTWORK_ID],"String"))&&(this.seperatorArtworkID_=d),null!=(R=r.as(t[i.PROPERTY_SEPERATOR_HEIGHT],"Double"))&&(this.seperatorHeight_=R),null!=(p=r.as(t[i.PROPERTY_SPACING],"Double"))&&(this.spacing_=p),null!=(T=r.as(t[i.PROPERTY_PADDING],"Double"))&&(this.padding_=T),null!=(y=r.as(t[i.PROPERTY_MARGIN_LEFT],"Double"))&&(this.marginLeft_=y),null!=(y=r.as(t[i.PROPERTY_MARGIN_RIGHT],"Double"))&&(this.marginRight_=y),null!=(y=r.as(t[i.PROPERTY_MARGIN_TOP],"Double"))&&(this.marginTop_=y),null!=(y=r.as(t[i.PROPERTY_MARGIN_BOTTOM],"Double"))&&(this.marginBottom_=y);var P=r.clone(r.as(t[i.PROPERTY_BOTTOM_DISTANCES],["Dictionary","String","Double"]));null!=P&&(this.bottomDistances_=r.clone(P));var m=r.clone(r.as(t[i.PROPERTY_TOP_DISTANCES],["Dictionary","String","Double"]));null!=m&&(this.topDistances_=r.clone(m));var O,A=r.clone(r.as(t[i.PROPERTY_ORDER],["Array","String"]));null!=A&&(this.order_=r.clone(A)),null!=(O=r.as(t[i.PROPERTY_NUM_COLUMNS],"Int"))&&(this.numColumns_=O)},encodeJson:function(){var t=l.FormaStyle.prototype.encodeJson.call(this);return t[i.PROPERTY_LAYOUT_MODE]=this.layoutMode_,t[i.PROPERTY_HORIZONTAL_ALIGNMENT]=this.horizontalAlignment_,t[i.PROPERTY_VERTICAL_ALIGNMENT]=this.verticalAlignment_,t[i.PROPERTY_BOTTOM_DISTANCES]=r.clone(this.bottomDistances_),t[i.PROPERTY_TOP_DISTANCES]=r.clone(this.topDistances_),t[i.PROPERTY_ORDER]=r.clone(this.order_),t[i.PROPERTY_SPACING]=this.spacing_,t[i.PROPERTY_MARGIN_LEFT]=this.marginLeft_,t[i.PROPERTY_MARGIN_RIGHT]=this.marginRight_,t[i.PROPERTY_MARGIN_TOP]=this.marginTop_,t[i.PROPERTY_MARGIN_BOTTOM]=this.marginBottom_,t[i.PROPERTY_BACKING_ARTWORK_ID]=this.backingArtworkID_,t[i.PROPERTY_PADDING]=this.padding_,t[i.PROPERTY_SEPERATOR_STYLE]=this.seperatorStyle_,t[i.PROPERTY_SEPERATOR_ARTWORK_ID]=this.seperatorArtworkID_,t[i.PROPERTY_SEPERATOR_HEIGHT]=this.seperatorHeight_,t[i.PROPERTY_NUM_COLUMNS]=this.numColumns_,t}}}),i)},247:function(t,e,n){var i,o,r=e,s=n(0),a=n(19),l=n(53),u=n(22),c=n(40);r.ShapeGroupStyle=(i=function(t,e){this.backingArtworkID_=e,l.FormaStyle.call(this,i.KIND,i.DEFAULT_OPACITY,i.DEFAULT_COLOR_TABLE)},o={},s.defineClass({name:"ShapeGroupStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"ShapeGroupStyle"}},DEFAULT_OPACITY:1,DEFAULT_COLOR_TABLE:{get:function(){return void 0===o.DEFAULT_COLOR_TABLE&&(o.DEFAULT_COLOR_TABLE=a.ColorTable.createDefault()),o.DEFAULT_COLOR_TABLE}},PROPERTY_ARTWORK_ID:"artwork-id",createDefault:function(){return new i(u.SolidColor.WHITE,c.ShapeLibrary.Square)},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{backingArtworkID:{get:function(){return this.backingArtworkID_},set:function(t){this.notifyBefore(),this.backingArtworkID_=t,this.notifyAfter()}},colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary},decodeFromJson:function(t,e){var n;l.FormaStyle.prototype.decodeFromJson.call(this,t,e),null!=(n=s.as(t[i.PROPERTY_ARTWORK_ID],"String"))&&(this.backingArtworkID_=n)},encodeJson:function(){var t=l.FormaStyle.prototype.encodeJson.call(this);return null!=this.backingArtworkID_&&(t[i.PROPERTY_ARTWORK_ID]=this.backingArtworkID_),t}}}),i)},31:function(t,e,n){var i,o,r,s=e,a=n(0);s.UserAction=(i=function(t,e,n,i){this.description=t,this.collapseSequential=e,this.compounding=n,this.scope=i},a.defineClass({name:"UserAction",ctor:i}),i),s.DuplicateItemsUserAction=(o=function(t){this.formas=a.clone(t),s.UserAction.call(this,"duplicate",!1,!0,null)},a.defineClass({name:"DuplicateItemsUserAction",ctor:o,superName:"UserAction"}),o),s.UserActions=(r=function(){},a.defineClass({name:"UserActions",ctor:r,statics:{legacyTrue:!1,ApplyTemplate:function(){return new s.UserAction("k_variation",r.legacyTrue,!1,null)},SetColorTheme:function(){return new s.UserAction("k_color palette",r.legacyTrue,!1,null)},ShuffleColorTheme:function(){return new s.UserAction("k_color palette",r.legacyTrue,!0,null)},ChangePageSize:function(){return new s.UserAction("k_resize",r.legacyTrue,!1,null)},ApplyGridStyle:function(){return new s.UserAction("k_layout",r.legacyTrue,!1,null)},ChangeBackgroundShape:function(t){return new s.UserAction("k_backing shape",r.legacyTrue,!1,t)},ChangeTextEffect:function(t){return new s.UserAction("k_text effect",r.legacyTrue,!1,t)},AdjustStrokeWeight:function(){return new s.UserAction("k_line thickness",!1,!0,null)},AdjustShadowOffset:function(){return new s.UserAction("k_shadow distance",!1,!0,null)},AdjustShadowAngle:function(){return new s.UserAction("k_shadow direction",!1,!0,null)},SetTextEffects:function(){return new s.UserAction("k_set text effects",!1,!0,null)},ModifyColorTheme:function(){return new s.UserAction("k_palette change",r.legacyTrue,!0,null)},ApplyBranding:function(){return new s.UserAction("k_branding",r.legacyTrue,!0,null)},RemoveBranding:function(){return new s.UserAction("k_branding change",r.legacyTrue,!0,null)},ChangeColor:function(t){return new s.UserAction("k_color",r.legacyTrue,!0,t)},SelectFont:function(t){return new s.UserAction("k_font",r.legacyTrue,!1,t)},ChangeTextAlignment:function(t){return new s.UserAction("k_alignment",r.legacyTrue,!1,t)},ChangeTextColor:function(t){return new s.UserAction("k_text color",r.legacyTrue,!0,t)},ApplyFilter:function(){return new s.UserAction("k_filter",r.legacyTrue,!0,null)},ShuffleFilter:function(){return new s.UserAction("k_filter",r.legacyTrue,!0,null)},SetBackgroundTransparency:function(){return new s.UserAction("k_opacity",!1,!0,null)},DeleteItem:function(){return new s.UserAction("k_delete",!1,!0,null)},ReplaceImageWithShape:function(){return new s.UserAction("k_delete photo",!1,!0,null)},ResizeItem:function(){return new s.UserAction("k_resize",!1,!0,null)},MoveItem:function(){return new s.UserAction("k_move",!1,!0,null)},AdjustScale:function(){return new s.UserAction("k_scale",!1,!0,null)},AdjustRotation:function(){return new s.UserAction("k_rotate",!1,!0,null)},ChangeImageAdjustments:function(){return new s.UserAction("adjustments",!1,!0,null)},AddText:function(){return new s.UserAction("k_text",!1,!0,null)},AddBadge:function(){return new s.UserAction("k_text",!1,!0,null)},ChangeText:function(t){return new s.UserAction("k_text",!1,!0,t)},ShuffleBackgroundShape:function(t){return new s.UserAction("k_backing shape",r.legacyTrue,!0,t)},ChangeLetterSpacing:function(){return new s.UserAction("k_letter spacing",!1,!0,null)},SetTracking:function(){return new s.UserAction("k_tracking",!1,!0,null)},ChangeLineSpacing:function(){return new s.UserAction("k_spacing",!1,!0,null)},SetLeading:function(){return new s.UserAction("k_leading",!1,!0,null)},ChangePadding:function(){return new s.UserAction("k_padding",!1,!0,null)},SetPadding:function(){return new s.UserAction("k_set padding",!1,!0,null)},ChangeTextAttributes:function(){return new s.UserAction("k_text attributes",!1,!0,null)},MatchSize:function(){return new s.UserAction("k_match size",!1,!0,null)},ToggleLineBreak:function(){return new s.UserAction("k_toggle line break",!1,!0,null)},SetNextSpacingSequence:function(){return new s.UserAction("k_set next spacing sequence",!1,!0,null)},ChangeOpacity:function(){return new s.UserAction("k_opacity",!1,!0,null)},AlignFormae:function(){return new s.UserAction("k_align",!1,!0,null)},DistributeFormae:function(){return new s.UserAction("k_distribute",!1,!0,null)},ChangeZOrder:function(){return new s.UserAction("k_order",!1,!0,null)},ShuffleColor:function(){return new s.UserAction("k_color",r.legacyTrue,!0,null)},AddLogo:function(){return new s.UserAction("k_add logo",!1,!0,null)},AddImage:function(){return new s.UserAction("k_add photo",!1,!0,null)},AddIcon:function(){return new s.UserAction("k_add icon",!1,!0,null)},AddShape:function(){return new s.UserAction("k_add shape",!1,!0,null)},ReplaceImage:function(){return new s.UserAction("k_replace photo",!1,!0,null)},ReplaceIcon:function(){return new s.UserAction("k_replace icon",!1,!0,null)},FitImageToFrame:function(){return new s.UserAction("k_fit image",!1,!0,null)},ChangeTextStyle:function(){return new s.UserAction("k_text style",!1,!0,null)},ShuffleGridStyle:function(){return new s.UserAction("k_layout",r.legacyTrue,!0,null)},SetLayoutMargin:function(){return new s.UserAction("k_layout spacing",!1,!0,null)},CreateCollage:function(){return new s.UserAction("k_create_collage",!1,!0,null)},DeleteSection:function(){return new s.UserAction("k_delete",!1,!0,null)},ChangeStyleViaWheel:function(){return new s.UserAction("k_text style",!1,!0,null)},ChangeBordersMargins:function(){return new s.UserAction("k_layout spacing",!1,!0,null)},DuplicateItems:function(t){return new s.DuplicateItemsUserAction(a.clone(t))},FlipItem:function(){return new s.UserAction("k_flip",!1,!0,null)},NudgeItem:function(){return new s.UserAction("k_nudge",!0,!0,null)},RotateItem:function(){return new s.UserAction("k_rotate",!1,!0,null)},ScaleItem:function(){return new s.UserAction("k_scale",!1,!0,null)},BrandDocument:function(){return new s.UserAction("k_brandify",!1,!0,null)},SwapCells:function(){return new s.UserAction("k_swapping",!1,!0,null)},ModifyStyleRanges:function(){return new s.UserAction("k_secondary style",!1,!0,null)},VisualizeStructure:function(){return new s.UserAction("k_visualize structure",!1,!0,null)},Test:function(){return new s.UserAction("k_test case",!1,!0,null)}}}),r)},325:function(t,e,n){var i,o=e,r=n(0),s=n(19),a=n(53),l=n(22);o.TextStyle=(i=function(t){a.FormaStyle.call(this,i.KIND,1,s.ColorTable.createWithOneSolidColor(t))},r.defineClass({name:"TextStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"TextStyle"}},createDefault:function(){return new i(l.SolidColor.WHITE)},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{colorLibrary:{get:function(){return a.FormaStyle._getters.colorLibrary.call(this)},set:function(t){this.setColorLibraryWithoutSubscribing(t)}},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary}}}),i)},330:function(t,e,n){var i,o=e,r=n(0),s=n(19),a=n(53),l=n(22);o.ShapeStyle=(i=function(t,e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),a.FormaStyle.call(this,t,e,n,i,o)},r.defineClass({name:"ShapeStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"ShapeStyle"}},PROPERTY_COLORS_DEPRECATED:"colors",createDefault:function(){return new i(i.KIND,1,s.ColorTable.createDefault())},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary},decodeFromJson:function(t,e){var n,o;a.FormaStyle.prototype.decodeFromJson.call(this,t,e),(n=r.as(t[i.PROPERTY_COLORS_DEPRECATED],["Array","Any"]))&&n.length>=1&&(o=l.SolidColor.decodeJson(r.as(n[0],"AnyObject")))&&(this.colors.fieldPrimary=o)}}}),i)},337:function(t,e,n){var i,o,r=e,s=n(0),a=n(19),l=n(53),u=n(22);r.RootStyle=(i=function(t){l.FormaStyle.call(this,i.KIND,i.DEFAULT_OPACITY,i.DEFAULT_COLOR_TABLE)},o={},s.defineClass({name:"RootStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"RootStyle"}},DEFAULT_OPACITY:1,DEFAULT_COLOR_TABLE:{get:function(){return void 0===o.DEFAULT_COLOR_TABLE&&(o.DEFAULT_COLOR_TABLE=a.ColorTable.createDefault()),o.DEFAULT_COLOR_TABLE}},PROPERTY_COLORS_DEPRECATED:"color",createDefault:function(){return new i(u.SolidColor.WHITE)},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{colorTableSupportsRole:function(t){return t==a.ColorRole.FieldPrimary},decodeFromJson:function(t,e){var n;l.FormaStyle.prototype.decodeFromJson.call(this,t,e),(n=s.as(t[i.PROPERTY_COLORS_DEPRECATED],["Array","Any"]))&&n.length>=1&&(this.colors.fieldPrimary=u.SolidColor.decodeJson(s.as(n[0],"AnyObject")))}}}),i)},427:function(t,e,n){var i,o,r=e,s=n(0),a=n(190),l=n(1),u=n(53),c=n(116),h=n(80),f=n(17),_=n(337),g=n(247),d=n(330),R=n(325),p=n(470);r.FormaStyleFactory=(i=function(){this.lookup_={},this.lookup_[u.FormaStyle.KIND]=function(){return u.FormaStyle.createDefault()},this.lookup_[h.ImageStyle.KIND]=function(){return h.ImageStyle.createDefault()},this.lookup_[R.TextStyle.KIND]=function(){return R.TextStyle.createDefault()},this.lookup_[d.ShapeStyle.KIND]=function(){return d.ShapeStyle.createDefault()},this.lookup_[_.RootStyle.KIND]=function(){return _.RootStyle.createDefault()},this.lookup_[f.LockupStyle.KIND]=function(){return f.LockupStyle.createDefault()},this.lookup_[p.VideoStyle.KIND]=function(){return p.VideoStyle.createDefault()},this.lookup_[c.GridStyle.KIND]=function(){return c.GridStyle.createDefault()},this.lookup_[a.AlignmentGroupStyle.KIND]=function(){return a.AlignmentGroupStyle.createDefault()},this.lookup_[g.ShapeGroupStyle.KIND]=function(){return g.ShapeGroupStyle.createDefault()}},o={},s.defineClass({name:"FormaStyleFactory",ctor:i,superName:"CoreObject",statics:{instance:{get:function(){return void 0===o.instance&&(o.instance=new i),o.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(l.CoreAssert.warning("no constructor for forma style kind = "+t),null)}}}),i)},431:function(t,e,n){var i,o,r=e,s=n(0),a=n(1),l=n(136);r.ImageFilterFactory=(i=function(){this.lookup_={},this.lookup_[l.ImageFilter.KIND]=function(){return l.ImageFilter.createDefault()},this.lookup_[l.AlphaBlendFilter.KIND]=function(){return l.AlphaBlendFilter.createDefault()},this.lookup_[l.CompositeFilter.KIND]=function(){return l.CompositeFilter.createDefault()}},o={},s.defineClass({name:"ImageFilterFactory",ctor:i,superName:"CoreObject",statics:{instance:{get:function(){return void 0===o.instance&&(o.instance=new i),o.instance}}},props:{create:function(t){var e;return null!=(e=this.lookup_[t])?e():(a.CoreAssert.warning("no constructor for filter kind = "+t),null)}}}),i)},470:function(t,e,n){var i,o=e,r=n(0),s=n(19),a=n(80);o.VideoStyle=(i=function(t,e,n){void 0===e&&(e=null),void 0===n&&(n=null),a.ImageStyle.call(this,t,e,n)},r.defineClass({name:"VideoStyle",ctor:i,superName:"ImageStyle",statics:{KIND:{get:function(){return"VideoStyle"}},createDefault:function(){return new i(a.ImageStyle.DEFAULT_NAME,s.ColorTable.createDefault())},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}}}),i)},53:function(t,e,n){var i,o,r=e,s=n(0),a=n(1),l=n(19),u=n(427),c=n(159),h=n(136),f=n(50),_=n(90);r.FormaStyle=(i=function(t,e,n,i,o){this.colors=l.ColorTable.init_d41d(),this.notifyDepth_=0,void 0===i&&(i=null),void 0===o&&(o=null),this.kind=t,this.opacity_=e,this.filter_=i,this.adjustments_=o,null!=n&&this.colors.match(n),_.TheoPublishingObject.call(this),this.colors.owner=this,null!=i&&(i.style=this),this.beforeMsg_=new r.FormaStyleChangedMessage(this,!1),this.afterMsg_=new r.FormaStyleChangedMessage(this,!0)},s.defineClass({name:"FormaStyle",ctor:i,superName:"TheoPublishingObject",statics:{KIND:{get:function(){return"FormaStyle"}},PROPERTY_KIND:"kind",PROPERTY_OPACITY:"opacity",PROPERTY_COLORS:"color-table",PROPERTY_FILTER:"filter",PROPERTY_ADJUSTMENTS:"adjustments",createDefault:function(){return new i(i.KIND,1,null,void 0,c.ImageAdjustments.createDefault())},decodeJson:function(t,e,n){var o,r,l,c;return null==t?null:(r=s.as(t,["Dictionary","String","Any"]))?null!=(l=(o=e)||null!=o?o:s.as(r[i.PROPERTY_KIND],"String"))?(c=u.FormaStyleFactory.instance.create(l))?(c.decodeFromJson(r,n),c):(a.CoreAssert.fail("FormaStyle.decodeJson: could not create style"),null):(a.CoreAssert.fail("FormaStyle.decodeJson: no kind found or forced"),null):(a.CoreAssert.fail("FormaStyle.decodeJson: object passed isn't a dictionary"),null)},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{dispose:function(){this.colorLibrary=null},owner:{get:function(){return this.owner_},set:function(t){this.owner_=t}},filter:{get:function(){return this.filter_},set:function(t){this.notifyBefore(),this.filter_=t,this.notifyAfter()}},adjustments:{get:function(){return this.adjustments_},set:function(t){this.notifyBefore(),this.adjustments_=t,this.notifyAfter()}},notifyBefore:function(){this.notifyDepth_+=1,1==this.notifyDepth_&&this.publish(this.beforeMsg_)},notifyAfter:function(){a.CoreAssert.isTrue(this.notifyDepth_>0),1==this.notifyDepth_&&this.publish(this.afterMsg_),this.notifyDepth_-=1},colorTableBeforeChanged:function(){this.notifyBefore()},colorTableAfterChanged:function(){this.notifyAfter()},colorLibrary:{get:function(){return this.colorLibrary_},set:function(t){this.colorLibrary_=t,this.colors.library=t}},setColorLibraryWithoutSubscribing:function(t){this.colorLibrary_=t,this.colors.setColorLibraryWithoutSubscribing(t)},colorTableSupportsRole:function(t){return!1},asString:{get:function(){return""}},opacity:{get:function(){return this.opacity_},set:function(t){this.notifyBefore(),this.opacity_=t,this.notifyAfter()}},match:function(t){a.CoreAssert.isTrue(this.kind==t.kind,"Trying to match a style of another kind."),this.notifyBefore(),this.decodeFromJson(t.encodeJson(),null),this.notifyAfter()},encodeJson:function(){var t={};return t[i.PROPERTY_KIND]=this.kind,a.CoreAssert.isFalse(isNaN(this.opacity_),"Can't persist NaN opacity_ value"),t[i.PROPERTY_OPACITY]=this.opacity_,null!=this.filter&&(t[i.PROPERTY_FILTER]=this.filter_.encodeJson()),null!=this.adjustments&&(t[i.PROPERTY_ADJUSTMENTS]=this.adjustments_.encodeJson()),this.colors.isInDefaultState||(t[i.PROPERTY_COLORS]=this.colors.encodeJson()),t},decodeFromJson:function(t,e){var n,o,r=s.as(t[i.PROPERTY_OPACITY],"Double");this.opacity_=null==r?1:r,this.filter_=h.ImageFilter.decodeJson(s.as(t[i.PROPERTY_FILTER],"AnyObject")),null!=(n=s.as(t[i.PROPERTY_ADJUSTMENTS],"AnyObject"))?this.adjustments_=c.ImageAdjustments.decodeJson(n):this.adjustments_=c.ImageAdjustments.createDefault(),null!=this.filter_&&(this.filter_.style=this),(o=l.ColorTable.decodeJson(s.as(t[i.PROPERTY_COLORS],"AnyObject")))&&this.colors.match(o)},clone:function(){var t=this,e=i.decodeJson(this.encodeJson(),null,null);return s.opt(e,function(e){return e.colorLibrary=t.colorLibrary}),e}}}),i),r.FormaStyleChangedMessage=(o=function(t,e){this.isBefore=!e,this.isAfter=e,f.TheoMessage.call(this,o.TYPE,t)},s.defineClass({name:"FormaStyleChangedMessage",ctor:o,superName:"TheoMessage",statics:{TYPE:{get:function(){return"FormaStyleChangedMessage"}}}}),o)},80:function(t,e,n){var i,o=e,r=n(0),s=n(19),a=n(53),l=n(159),u=n(136),c=n(22);o.ImageStyle=(i=function(t,e,n){this.name=i.DEFAULT_NAME,void 0===e&&(e=null),void 0===n&&(n=null),this.name=t,a.FormaStyle.call(this,i.KIND,1,e,n,l.ImageAdjustments.createDefault())},r.defineClass({name:"ImageStyle",ctor:i,superName:"FormaStyle",statics:{KIND:{get:function(){return"ImageStyle"}},DEFAULT_NAME:"None",PROPERTY_NAME:"name",PROPERTY_COLORS_DEPRECATED:"colors",PROPERTY_FILTER_NAME_DEPRECATED:"filter-name",createDefault:function(){return new i(i.DEFAULT_NAME,s.ColorTable.createDefault())},_implements:function(t){return"TheoMessagePublisher"==t||"ColorTableOwner"==t}},props:{isColorizedFilter:{get:function(){return!["None","Greyscale","Blur","Darken"].includes(this.name)}},colorTableSupportsRole:function(t){return t==s.ColorRole.FieldPrimary||t==s.ColorRole.FieldSecondary},encodeJson:function(){var t=a.FormaStyle.prototype.encodeJson.call(this);return t[i.PROPERTY_NAME]=this.name,t},decodeFromJson:function(t,e){var n,o,s,l,h;if(this.name=i.DEFAULT_NAME,null!=(l=r.as(t[i.PROPERTY_NAME],"String"))){var f=l;if(l.includes("Overlay")||l.includes("DuoTone")||l.includes("Multiply")){var _=l.substr(l.length-1);_>="0"&&_<="9"&&(f=l.substr(0,l.length-1))}this.name=f}else{var g,d,R;(g=r.as(t[a.FormaStyle.PROPERTY_FILTER],["Dictionary","String","Any"]))&&null!=(d=r.as(g.name,"String"))&&(o=d),null!=(R=r.as(t[i.PROPERTY_FILTER_NAME_DEPRECATED],"String"))&&(s=R);var p=(n=s)||null!=n?n:o;if(null!=p)switch(p){case"Greyscale":this.name="Greyscale";break;case"GreyscaleDark":this.name="Darken";break;case"Monochrome":this.name="Greyscale";break;case"Duotone":this.name="DuoTone1";break;case"DesaturateMultiply":this.name="Multiply1";break;case"ReduceContrastOverlay":this.name="Overlay1";break;default:this.name=p}}if(a.FormaStyle.prototype.decodeFromJson.call(this,t,e),(h=r.as(t[i.PROPERTY_COLORS_DEPRECATED],["Array","Any"]))&&(h.length>=1&&(this.colors.fieldPrimary=c.SolidColor.decodeJson(r.as(h[0],"AnyObject"))),h.length>=2&&(this.colors.fieldSecondary=c.SolidColor.decodeJson(r.as(h[1],"AnyObject")))),null!=s)switch(s){case"Greyscale":this.filter=new u.CompositeFilter(this,"Greyscale",1,"none",!0);break;case"GreyscaleDark":this.colors.fieldPrimary=c.SolidColor.BLACK,this.filter=new u.CompositeFilter(this,"Darken",.5,"normal",!1);break;case"Monochrome":this.filter=new u.CompositeFilter(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"Duotone":this.filter=new u.CompositeFilter(this,"Duotone",1,"normal",void 0,void 0,"duotone");break;case"DesaturateMultiply":this.filter=new u.CompositeFilter(this,"DesaturateMultiply",1,"multiply",!0,void 0,"offset",.5,1);break;case"ReduceContrastOverlay":this.filter=new u.CompositeFilter(this,"ReduceContrastOverlay",.5,"overlay",!1,.5,"offset",1,1);break;case"FillColor":this.filter=new u.CompositeFilter(this,"Normal",.5,"normal",!1);break;default:this.filter=null}},equals:function(t){if(null==this.filter&&null!=t.filter||null!=this.filter&&null==t.filter)return!1;var e=null==this.filter&&null==t.filter,n=e||this.filter.equals(t.filter),i=e||this.colors.equalTo(t.colors),o=r.opt(this.adjustments,function(e){return e.equals(t.adjustments)});return n&&i&&o},description:{get:function(){if(null!=this.filter&&this.filter instanceof u.CompositeFilter){var t=this.filter,e="Style: "+this.name+", Op: "+t.colorOperation+", Filter: "+t.name,n=", params: (m="+r.toString(t.mix)+", c="+r.toString(t.contrast)+", b="+r.toString(t.blurRadius)+")";return null!=this.colors.fieldPrimary?e+n+this.colors.fieldPrimary.rgbHex:e+n}return this.name}}}}),i)}}]);
//# sourceMappingURL=logomaker-entry_d69907ff-61b121ed.js.map