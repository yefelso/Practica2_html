(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{165:function(e,t,n){var i,o,a=t,r=n(0),s=n(1),l=n(17),c=n(15),u=n(333);a.TextPathID=r.defineEnum("TextPathID",{UNSET:-1,Custom:0,Circle:1,SemiCircleUp:2,SemiCircleDown:3,ArcUp:4,ArcDown:5,Wave:6,Rect:7,Line:8}),a.TextPathLibrary=(i=function(){},o={},r.defineClass({name:"TextPathLibrary",ctor:i,statics:{getPathForLockupStyle:function(e){var t=e.layout;s.CoreAssert.isTrue(l.LockupStyle.isPath(t),"Why are we asking for a path for a non path layout?");var n,o=e.pathID;return s.CoreAssert.isFalse(o==a.TextPathID.UNSET,"Why are we asking for a path when pathID is not set?"),o==a.TextPathID.Custom?(s.CoreAssert.isTrue(null!=e.customPath,"No custom path"),e.customPath):(n=i.paths[o])?n.clone():(s.CoreAssert.fail("Unsupported path id "+o),i.circlePath)},c:.551915024494,quad0:{get:function(){return void 0===o.quad0&&(o.quad0=new u.TextPathSegment(new c.TheoPoint(0,0),new c.TheoPoint(0,-i.c),new c.TheoPoint(1-i.c,-1),new c.TheoPoint(1,-1))),o.quad0}},quad1:{get:function(){return void 0===o.quad1&&(o.quad1=new u.TextPathSegment(new c.TheoPoint(1,-1),new c.TheoPoint(1+i.c,-1),new c.TheoPoint(2,-i.c),new c.TheoPoint(2,0))),o.quad1}},quad2:{get:function(){return void 0===o.quad2&&(o.quad2=new u.TextPathSegment(new c.TheoPoint(2,0),new c.TheoPoint(2,i.c),new c.TheoPoint(1+i.c,1),new c.TheoPoint(1,1))),o.quad2}},quad3:{get:function(){return void 0===o.quad3&&(o.quad3=new u.TextPathSegment(new c.TheoPoint(1,1),new c.TheoPoint(1-i.c,1),new c.TheoPoint(0,i.c),new c.TheoPoint(0,0))),o.quad3}},quad2Prime:{get:function(){return void 0===o.quad2Prime&&(o.quad2Prime=new u.TextPathSegment(new c.TheoPoint(0,0),new c.TheoPoint(0,i.c),new c.TheoPoint(1-i.c,1),new c.TheoPoint(1,1))),o.quad2Prime}},quad3Prime:{get:function(){return void 0===o.quad3Prime&&(o.quad3Prime=new u.TextPathSegment(new c.TheoPoint(1,1),new c.TheoPoint(1+i.c,1),new c.TheoPoint(2,i.c),new c.TheoPoint(2,0))),o.quad3Prime}},upArc:{get:function(){return void 0===o.upArc&&(o.upArc=new u.TextPathSegment(new c.TheoPoint(0,0),new c.TheoPoint(2,-1),new c.TheoPoint(4,-1),new c.TheoPoint(6,0))),o.upArc}},downArc:{get:function(){return void 0===o.downArc&&(o.downArc=new u.TextPathSegment(new c.TheoPoint(0,0),new c.TheoPoint(2,1),new c.TheoPoint(4,1),new c.TheoPoint(6,0))),o.downArc}},wave:{get:function(){return void 0===o.wave&&(o.wave=new u.TextPathSegment(new c.TheoPoint(0,0),new c.TheoPoint(2,-2),new c.TheoPoint(4,2),new c.TheoPoint(6,0))),o.wave}},lineTop:{get:function(){return void 0===o.lineTop&&(o.lineTop=new u.TextPathSegment(new c.TheoPoint(0,0),new c.TheoPoint(.3,0),new c.TheoPoint(.7,0),new c.TheoPoint(1,0))),o.lineTop}},lineRight:{get:function(){return void 0===o.lineRight&&(o.lineRight=new u.TextPathSegment(new c.TheoPoint(1,0),new c.TheoPoint(1,.3),new c.TheoPoint(1,.7),new c.TheoPoint(1,1))),o.lineRight}},lineBottom:{get:function(){return void 0===o.lineBottom&&(o.lineBottom=new u.TextPathSegment(new c.TheoPoint(1,1),new c.TheoPoint(.7,1),new c.TheoPoint(.3,1),new c.TheoPoint(0,1))),o.lineBottom}},lineLeft:{get:function(){return void 0===o.lineLeft&&(o.lineLeft=new u.TextPathSegment(new c.TheoPoint(0,1),new c.TheoPoint(0,.7),new c.TheoPoint(0,.3),new c.TheoPoint(0,0))),o.lineLeft}},circlePath:{get:function(){return void 0===o.circlePath&&(o.circlePath=new u.TextPath([i.quad0,i.quad1,i.quad2,i.quad3])),o.circlePath}},semicirclePath:{get:function(){return void 0===o.semicirclePath&&(o.semicirclePath=new u.TextPath([i.quad0,i.quad1])),o.semicirclePath}},semicircleDownPath:{get:function(){return void 0===o.semicircleDownPath&&(o.semicircleDownPath=new u.TextPath([i.quad2Prime,i.quad3Prime])),o.semicircleDownPath}},upArcPath:{get:function(){return void 0===o.upArcPath&&(o.upArcPath=new u.TextPath([i.upArc],2.5)),o.upArcPath}},downArcPath:{get:function(){return void 0===o.downArcPath&&(o.downArcPath=new u.TextPath([i.downArc],2.5)),o.downArcPath}},wavePath:{get:function(){return void 0===o.wavePath&&(o.wavePath=new u.TextPath([i.wave])),o.wavePath}},rectPath:{get:function(){return void 0===o.rectPath&&(o.rectPath=new u.TextPath([i.lineTop,i.lineRight,i.lineBottom,i.lineLeft],1/0)),o.rectPath}},linePath:{get:function(){return void 0===o.linePath&&(o.linePath=new u.TextPath([i.lineTop])),o.linePath}},paths:{get:function(){return void 0===o.paths&&(o.paths={1:i.circlePath,2:i.semicirclePath,3:i.semicircleDownPath,4:i.upArcPath,5:i.downArcPath,6:i.wavePath,7:i.rectPath,8:i.linePath}),o.paths}}}}),i)},253:function(e,t,n){var i,o,a,r,s,l=t,c=n(0),u=n(1),h=n(4),p=n(8),g=n(50),d=n(15),S=n(90);l.PointerTypeEnum=c.defineEnum("PointerTypeEnum",{Mouse:0,Touch:1}),l.PointerStatus=c.defineEnum("PointerStatus",{DragFree:0,DragHeld:1,DragActive:2,DragInactive:3}),l.PointerMark=(i=function(e,t){this.when=e,this.point=t},c.defineClass({name:"PointerMark",ctor:i,props:{div:function(e){return new i(this.when/e,{x:this.point.x/e,y:this.point.y/e})}}}),i),l._minus_PointerMark_PointerMark=function(e,t){return new l.PointerMark(e.when-t.when,{x:e.point.x-t.point.x,y:e.point.y-t.point.y})},l._plus_PointerMark_PointerMark=function(e,t){return new l.PointerMark(e.when+t.when,{x:e.point.x+t.point.x,y:e.point.y+t.point.y})},l.PointerState=(o=function(e,t,n,i,o){this.down=!1,this.cancelled=!1,this.tapCount=1,this.modifierKeys={},this.pointerStatus=l.PointerStatus.DragFree,this.slippage=d.TheoPoint.ZERO,this.id=e,this.type=t,this.currentPage=n,this.startLocation=i,this.currentLocation=i,this.startTime=o,this.currentTime=o,this.history=[],h.CoreObject.call(this),this.updateHistory(o,i)},c.defineClass({name:"PointerState",ctor:o,superName:"CoreObject",props:{updateState:function(e){u.CoreAssert.isTrue(e.type==this.type&&e.onPage===this.currentPage&&e.id==this.id),this.currentLocation=e.loc,this.currentTime=e.when,this.updateHistory(e.when,e.loc),this.tapCount=e.tapCount,this.cancelled=e.cancelled,this.viewportTransform=e.viewportTransform,this.modifierKeys=c.clone(e.modifierKeys)},updateHistory:function(e,t){var n=this.history.length-28;n>0&&this.history.splice(0,n),this.history.push(new l.PointerMark(e,{x:t.x,y:t.y}))},pointerVelocity:function(){for(var e=p.Host.async.getSystemUptimeInSeconds()-.2,t=[],n=this.history.length-1;n>=0&&!(this.history[n].when<e);)t.splice(0,0,this.history[n]),n-=1;for(var i=c.clone(function(e,t){var n=c.clone(e),i=t;if(i>e.length&&(i=e.length),i<=1)return n;for(var o=c.iter(c.range(1,i,!1));!o.done;o.next())for(var a=o.value,r=c.iter(c.range(0,e.length-a,!1));!r.done;r.next())n[a+(h=r.value)]=l._plus_PointerMark_PointerMark(n[a+h],e[h]);for(var s=c.iter(c.range(1,i,!1));!s.done;s.next())n[a=s.value]=n[a].div(c.toDouble(a+1));for(var u=c.iter(c.range(i,e.length,!1));!u.done;u.next()){var h;n[h=u.value]=n[h].div(c.toDouble(i))}return n}(c.clone(t),3)),o=3,a=2,r=0,s=0;o<i.length;){var u=l._minus_PointerMark_PointerMark(i[o],i[a]);r+=u.when,s+=Math.sqrt(u.point.x*u.point.x+u.point.y*u.point.y),o+=1,a+=1}var h=s/r;return isNaN(h)?0:h}}}),o),l.PointerUpdate=(a=function(e,t,n,i,o){this.cancelled=!1,this.tapCount=1,this.id=e,this.type=t,this.onPage=n,this.loc=i,this.when=o,this.cancelled=!1,this.tapCount=1,this.modifierKeys={}},c.defineClass({name:"PointerUpdate",ctor:a,superName:"CoreObject"}),a),l.PointersState=(r=function(){this.LONG_PRESS_TIME_THRESHOLD=1.25,this.LONG_PRESS_DIST_THRESHOLD=50,this.pointers_=[],S.TheoPublishingObject.call(this)},c.defineClass({name:"PointersState",ctor:r,superName:"TheoPublishingObject",statics:{_implements:function(e){return"TheoMessagePublisher"==e}},props:{onPointersDown:function(e){for(var t=[],n=c.iter(e);!n.done;n.next()){var i,o=n.value;(i=this.pointerByID(o.id))&&(u.CoreAssert.isTrue(o.type==l.PointerTypeEnum.Mouse),c.remove(this.pointers_,i)),(i=new l.PointerState(o.id,o.type,o.onPage,o.loc,o.when)).viewportTransform=o.viewportTransform,i.down=!0,i.modifierKeys=c.clone(o.modifierKeys),this.pointers_.push(i),t.push(i)}this.publish(new l.PointersStateChangeMessage(this,l.PointersStateChangeTypeEnum.PointersDown,c.clone(t)))},onPointersMoved:function(e){for(var t=[],n=c.iter(e);!n.done;n.next()){var i=n.value,o=this.pointerByID(i.id);null==o&&((o=new l.PointerState(i.id,i.type,i.onPage,i.loc,i.when)).down=!1,u.CoreAssert.isTrue(i.type==l.PointerTypeEnum.Mouse),this.pointers_.push(o)),o.updateState(i),t.push(o)}this.publish(new l.PointersStateChangeMessage(this,l.PointersStateChangeTypeEnum.PointersMoved,c.clone(t)))},onPointersUp:function(e){for(var t=[],n=c.iter(e);!n.done;n.next()){var i,o=n.value;(i=this.pointerByID(o.id))&&(i.type==l.PointerTypeEnum.Touch&&c.remove(this.pointers_,i),i.updateState(o),t.push(i))}var a=new l.PointersStateChangeMessage(this,l.PointersStateChangeTypeEnum.PointersUp,c.clone(t));this.publish(a)},forEachPointer:function(e){for(var t=c.iter(this.pointers_);!t.done;t.next())e(t.value)},forEachPointerDown:function(e){for(var t=c.iter(this.pointers_);!t.done;t.next()){var n=t.value;n.down&&e(n)}},pointerCount:function(){return this.pointers_.length},pointerDownCount:function(){for(var e=0,t=c.iter(this.pointers_);!t.done;t.next())t.value.down&&(e+=1);return e},pointerByID:function(e){for(var t=c.iter(this.pointers_);!t.done;t.next()){var n=t.value;if(n.id==e)return n}return null}}}),r),l.PointersStateChangeTypeEnum=c.defineEnum("PointersStateChangeTypeEnum",{PointersDown:0,PointersMoved:1,PointersUp:2}),l.PointersStateChangeMessage=(s=function(e,t,n){this.changeType=t,this.pointers=c.clone(n),g.TheoMessage.call(this,s.TYPE,e)},c.defineClass({name:"PointersStateChangeMessage",ctor:s,superName:"TheoMessage",statics:{TYPE:{get:function(){return"PointersStateChangeMessage"}}}}),s)},334:function(e,t,n){var i,o,a=t,r=n(0),s=n(1),l=n(118),c=n(29),u=n(25),h=n(8),p=n(21),g=n(50),d=n(90);a.SelectionStateChangedMessage=(i=function(e){g.TheoMessage.call(this,i.TYPE,e)},r.defineClass({name:"SelectionStateChangedMessage",ctor:i,superName:"TheoMessage",statics:{TYPE:{get:function(){return"SelectionStateChangedMessage"}}}}),i),a.SelectionState=(o=function(){this.selected_=[],this.inSpacingMode_=!1,this.inCharStyleMode=!1,d.TheoPublishingObject.call(this)},r.defineClass({name:"SelectionState",ctor:o,superName:"TheoPublishingObject",statics:{_implements:function(e){return"TheoMessagePublisher"==e}},props:{inSpacingMode:{get:function(){return this.inSpacingMode_},set:function(e){this.inSpacingMode_=e,r.opt(this.owner,function(e){return e.updateHandles()})}},publishSelectionChange:function(){this.publish(new a.SelectionStateChangedMessage(this))},selectedCount:{get:function(){return this.selected_.length}},selectedCountInDocument:{get:function(){return this.asFormaArray().length}},IDs:{get:function(){return this.selected_},set:function(e){var t=this;this.clearSelection(!1),e.forEach(function(e){var n;(n=r.opt(r.opt(t.owner,function(e){return e.document}),function(t){return t.firstPage.root.formaByID(e)}))&&t.selectForma(n,!1)}),this.publishSelectionChange()}},asFormaArray:function(){var e=[];return this.forEachSelected(function(t){return e.push(t)}),e},forEachSelected:function(e){var t=this;this.selected_.forEach(function(n){var i;(i=r.opt(r.opt(t.owner,function(e){return e.document}),function(e){return e.firstPage.root.formaByID(n)}))&&e(i)})},formaAt:function(e){var t=this;if(e<0||e>=this.selected_.length)return s.CoreAssert.fail("Invalid index for SelectionState.formaAt"),null;var n=r.opt(r.opt(this.owner,function(e){return e.document}),function(n){return n.firstPage.root.formaByID(t.selected_[e])});return null==n&&r.opt(h.Host.logging,function(t){return t.error("SelectionState.formaAt(index:"+e+") is nil even though index is in range")}),n},isFormaSelectable:function(e){return!this.isSelected(e)&&this.owner.allowSelectionChanges},selectForma:function(e,t){void 0===t&&(t=!0),this.selectFormae([e],t)},selectFormae:function(e,t){void 0===t&&(t=!0);for(var n=r.iter(e);!n.done;n.next()){var i=n.value;this.isFormaSelectable(i)&&(i.kind==p.ImageForma.KIND&&r.opt(i.parent,function(e){return e.kind==c.FrameForma.KIND})?this.selected_.push(i.parent.formaID):this.selected_.push(i.formaID))}t&&this.publishSelectionChange()},replaceSelection:function(e){this.replaceSelectionWithFormae([e])},replaceSelectionWithFormae:function(e){this.clearSelectionArray(),this.selectFormae(r.clone(e))},deselectForma:function(e,t){void 0===t&&(t=!0),this.deselectFormae([e],t)},deselectFormae:function(e,t){if(void 0===t&&(t=!0),this.owner.allowSelectionChanges){for(var n=r.iter(e);!n.done;n.next()){var i=n.value;this.isSelected(i)&&(r.remove(this.selected_,i.formaID),r.opt(i.parent,function(e){return e.kind==c.FrameForma.KIND})&&this.isSelected(i.parent)&&r.remove(this.selected_,i.parent.formaID))}t&&this.publishSelectionChange()}},isSelected:function(e){return this.selected_.includes(e.formaID)},clearSelectionArray:function(){var e=this;if(this.removeStaleSelections(),this.owner.allowSelectionChanges){var t=[];this.forEachSelected(function(n){e.owner.interactionMode==l.InteractionMode.AutomaticGrid&&null!=n.controller&&n.controller.kind==u.GridController.KIND||t.push(n.formaID)});for(var n=r.iter(t);!n.done;n.next()){var i=n.value;r.remove(this.selected_,i)}}},clearSelection:function(e){void 0===e&&(e=!0),this.owner.allowSelectionChanges&&this.selectedCount>0&&(this.clearSelectionArray(),e&&this.publishSelectionChange())},clearSelectionNoUpdate:function(){this.owner.allowSelectionChanges&&this.clearSelectionArray()},removeStaleSelections:function(){var e=this,t=[];this.selected_.forEach(function(n){null==r.opt(r.opt(e.owner,function(e){return e.document}),function(e){return e.firstPage.root.formaByID(n)})&&t.push(n)});for(var n=r.iter(t);!n.done;n.next()){var i=n.value;r.remove(this.selected_,i)}}}}),o)},34:function(e,t,n){var i,o,a,r,s,l=t,c=n(0),u=n(1),h=n(4),p=n(27),g=n(31);l.Action=(i=function(e){this.type=e,h.CoreObject.call(this)},c.defineClass({name:"Action",ctor:i,superName:"CoreObject",props:{canDo:function(e){return!0},getUserAction:function(e){return u.CoreAssert.fail(this.type+" does not implement getUserAction"),g.UserActions.AddText()},execute:function(e){return p.CorePromise.reject("no default impl")}}}),i),l.ActionResult=(o=function(){h.CoreObject.call(this)},a={},c.defineClass({name:"ActionResult",ctor:o,superName:"CoreObject",statics:{NONE:{get:function(){return void 0===a.NONE&&(a.NONE=new o),a.NONE}},fromPromiseAny:function(e){var t;return null==e?o.NONE:(t=c.as(e,o))?t:(u.CoreAssert.fail("default action impl returned a promise for something other than an ActionResult"),o.NONE)}}}),o),l.FormaActionResult=(r=function(e){this.formae=c.clone(e),l.ActionResult.call(this)},c.defineClass({name:"FormaActionResult",ctor:r,superName:"ActionResult"}),r),l.DoubleActionResult=(s=function(e){this.value=e,l.ActionResult.call(this)},c.defineClass({name:"DoubleActionResult",ctor:s,superName:"ActionResult"}),s),l.ControllerSettingsBehaviorEnum=c.defineEnum("ControllerSettingsBehaviorEnum",{IgnoreControllerSettings:0,SetControllerSettings:1})},40:function(e,t,n){var i,o,a,r,s=t,l=n(0),c=n(49),u=n(4),h=n(8),p=n(17);s.TAG_SHAPE_ID="shape-id",s.ShapeCategory=l.defineEnum("ShapeCategory",{None:0,Circle:1,Square:2,Social:3,Cutout:4,Banner:5,Decorative:6,Other:7,Avoid:8}),s.TagGroup=l.defineEnum("TagGroup",{none:0,banner:1,circle:2,square:3,other:4,decorative:5,unused:6}),s.TheoShape=(i=function(){},l.defineClass({name:"TheoShape",ctor:i,props:{init_f4eb:function(e,t,n,i,o,a,r,s,c,u,h,p,g,d,S){void 0===d&&(d=!1),void 0===S&&(S=!1),this.id=e,this.name=t,this.deprecated=n,this.filled=i,this.centered=o,this.alignmentEdges=a,this.formality=c,this.drama=u,this.maxScale=h,this.minAspect=p,this.maxAspect=g,this.category=r,this.tags=l.clone(s),this.clockwise=d,this.premium=S},init_implicit:function(e,t,n,i,o,a,r,s,c,u,h,p,g,d,S){this.id=e,this.name=t,this.deprecated=n,this.filled=i,this.centered=o,this.formality=a,this.drama=r,this.alignmentEdges=s,this.category=c,this.tags=l.clone(u),this.clockwise=h,this.premium=p,this.maxScale=g,this.maxAspect=d,this.minAspect=S}}}),i),s.ShapeLibraryDataStructures=(o=function(){this.nonSvgBackingShapes=[s.TheoShape.init_f4eb("none","None",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,1,1,0,100),s.TheoShape.init_f4eb("row","Row",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,2,1,0,100),s.TheoShape.init_f4eb("bannerHorizontal","Horizontal Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,1,100),s.TheoShape.init_f4eb("bannerVertical","Vertical Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,0,1),s.TheoShape.init_f4eb("knockout","Text Knockout",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.unused],5,2,1,0,100)],this.svgBackingShapes=[s.TheoShape.init_f4eb("circle","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,1,.5,.5,2),s.TheoShape.init_f4eb("circle1","Circle1",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,6,.5,.5,2),s.TheoShape.init_f4eb("circle2","Circle2",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,6,.5,.5,2),s.TheoShape.init_f4eb("circle3","Circle3",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],8,6,.5,.5,2),s.TheoShape.init_f4eb("circle4","Circle4",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,6,.5,.5,2),s.TheoShape.init_f4eb("circle5","Circle5",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],2,8,.5,.5,2),s.TheoShape.init_f4eb("circle6","Circle6",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,8,.5,.5,2),s.TheoShape.init_f4eb("circle8","Circle8",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,10,.5,.5,2),s.TheoShape.init_f4eb("rect1","Rect1",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect2","Rect2",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3-9sliced","Rect3-9",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3","Rect3",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect4","Rect4",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect5","Rect5",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect6","Rect6",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("ornamental_003","Circle",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],6,7,.5,0,100),s.TheoShape.init_f4eb("shape_001","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("shape_004","Tag",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_005","Gift",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_006","Calendar",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_007","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_008","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_009","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_011","Shield",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("circle_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],7,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.decorative],8,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_005","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,6,.6,.5,2),s.TheoShape.init_f4eb("circle_006","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],2,8,.6,.5,2),s.TheoShape.init_f4eb("circle_007","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],7,8,.6,.5,2),s.TheoShape.init_f4eb("circle_008","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,10,.6,.5,2),s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.decorative],7,5,.7,0,100,!0),s.TheoShape.init_f4eb("square_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square,s.TagGroup.other],4,4,.7,0,100),s.TheoShape.init_f4eb("square_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.other,s.TagGroup.banner],4,8,.7,0,100),s.TheoShape.init_f4eb("buttonoutline","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("button","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Other,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("diamond_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.other],5,8,.6,.25,4),s.TheoShape.init_f4eb("diamond_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,9,.6,.25,4),s.TheoShape.init_f4eb("ribbon_h_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,5,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100,!0),s.TheoShape.init_f4eb("ribbon_h_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ornamental_001","Circle",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.Decorative,[s.TagGroup.decorative],3,4,.7,0,100),s.TheoShape.init_f4eb("ornamental_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],8,8,.7,0,100,!0),s.TheoShape.init_f4eb("shape_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.7,0,100,!0),s.TheoShape.init_f4eb("shape_003","VerticalBanner",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.5,0,1),s.TheoShape.init_f4eb("shape_010","Hexagon",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.square],9,6,.7,0,100),s.TheoShape.init_f4eb("shape_013","Speech Bubble",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.4,.5,2,!0),s.TheoShape.init_f4eb("divider_001","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.8,0,100),s.TheoShape.init_f4eb("divider_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],1,2,.5,0,100),s.TheoShape.init_f4eb("divider_003","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,1,.8,0,100),s.TheoShape.init_f4eb("Social_Facebook","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Instagram","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Pinterest","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Twitter","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_GPlus","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Linkedin","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Periscope","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Snapchat","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Tumblr","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Youtube","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("inline_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_002","Inline",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("inline_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_002","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)],this.seperatorShapes=[s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)],this.DisplayOrderForCategories=[s.ShapeLibrary.CategoryBasic,s.ShapeLibrary.CategoryBanner,s.ShapeLibrary.CategoryDecorative,s.ShapeLibrary.CategorySocial],this.DisplayOrderForShapesByCategory={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]},this.DisplayOrderForCharStyleShapesByCategory={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_002","square_003","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005"],SOCIAL:[]},this.DisplayOrderForSmallSetCharStyleShapesByCategory={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["square_003","inline_001","inline_003","inline_005","inline_006","pacific_001","pacific_002","ornamental_002","diamond_001","diamond_002","square_001","circle_008"],SOCIAL:[]},this.DisplayOrderForLetterGridShapesByCategory={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:[],DECORATIVE:["circle_004","circle_005","pacific_006"],SOCIAL:[]},this.NonSuggestableBackingShapes=["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope","shape_002","shape_003","shape_013","ornamental_001","knockout"],this.LockupBackingShapeIDs=[],this.BrowsableBackingShapes=[],this.FilledBackingShapes=[],this.shapeDictionary={},this.nonSvgBackingShapeIDs=[]},l.defineClass({name:"ShapeLibraryDataStructures",ctor:o,props:{init_d41d:function(){this.FilledBackingShapes.push(s.ShapeLibrary.Square),this.FilledBackingShapes.push(s.ShapeLibrary.Circle);for(var e=l.iter(this.svgBackingShapes);!e.done;e.next()){var t=e.value;this.LockupBackingShapeIDs.push(t.id),this.shapeDictionary[t.id]=t,t.deprecated||(this.BrowsableBackingShapes.push(t.id),t.filled&&this.FilledBackingShapes.push(t.id))}for(var n=l.iter(this.nonSvgBackingShapes);!n.done;n.next())t=n.value,this.shapeDictionary[t.id]=t,this.nonSvgBackingShapeIDs.push(t.id);this.ShapeIDToCategory={};for(var i=l.iter(this.DisplayOrderForCategories);!i.done;i.next())for(var o=i.value,a=l.iter(this.DisplayOrderForShapesByCategory[o]);!a.done;a.next()){var r=a.value;this.ShapeIDToCategory[r]=o}},init_implicit:function(e,t,n,i,o,a,r,u,h,p,g,d,S,m,f){void 0===e&&(e=[s.TheoShape.init_f4eb("none","None",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,1,1,0,100),s.TheoShape.init_f4eb("row","Row",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.none],5,2,1,0,100),s.TheoShape.init_f4eb("bannerHorizontal","Horizontal Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,1,100),s.TheoShape.init_f4eb("bannerVertical","Vertical Banner",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.unused],5,2,1,0,1),s.TheoShape.init_f4eb("knockout","Text Knockout",!1,!0,!1,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.unused],5,2,1,0,100)]),void 0===t&&(t=[s.TheoShape.init_f4eb("circle","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,1,.5,.5,2),s.TheoShape.init_f4eb("circle1","Circle1",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],5,6,.5,.5,2),s.TheoShape.init_f4eb("circle2","Circle2",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,6,.5,.5,2),s.TheoShape.init_f4eb("circle3","Circle3",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],8,6,.5,.5,2),s.TheoShape.init_f4eb("circle4","Circle4",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,6,.5,.5,2),s.TheoShape.init_f4eb("circle5","Circle5",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],2,8,.5,.5,2),s.TheoShape.init_f4eb("circle6","Circle6",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],7,8,.5,.5,2),s.TheoShape.init_f4eb("circle8","Circle8",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.unused],1,10,.5,.5,2),s.TheoShape.init_f4eb("rect1","Rect1",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect2","Rect2",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3-9sliced","Rect3-9",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect3","Rect3",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect4","Rect4",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect5","Rect5",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("rect6","Rect6",!0,!1,!1,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,5,.5,0,100),s.TheoShape.init_f4eb("ornamental_003","Circle",!0,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],6,7,.5,0,100),s.TheoShape.init_f4eb("shape_001","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("shape_004","Tag",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_005","Gift",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_006","Calendar",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,2,.5,0,100),s.TheoShape.init_f4eb("shape_007","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_008","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_009","Circle",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],3,3,.5,0,100),s.TheoShape.init_f4eb("shape_011","Shield",!0,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],5,3,.5,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("circle_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],7,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.decorative],8,6,.6,.5,2,!0),s.TheoShape.init_f4eb("circle_005","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,6,.6,.5,2),s.TheoShape.init_f4eb("circle_006","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],2,8,.6,.5,2),s.TheoShape.init_f4eb("circle_007","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],7,8,.6,.5,2),s.TheoShape.init_f4eb("circle_008","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],1,10,.6,.5,2),s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("square_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.decorative],7,5,.7,0,100,!0),s.TheoShape.init_f4eb("square_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square,s.TagGroup.other],4,4,.7,0,100),s.TheoShape.init_f4eb("square_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.other,s.TagGroup.banner],4,8,.7,0,100),s.TheoShape.init_f4eb("buttonoutline","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("button","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Other,[s.TagGroup.other],5,5,.7,0,100),s.TheoShape.init_f4eb("diamond_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.other],5,8,.6,.25,4),s.TheoShape.init_f4eb("diamond_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,9,.6,.25,4),s.TheoShape.init_f4eb("ribbon_h_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,5,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_003","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100),s.TheoShape.init_f4eb("ribbon_h_004","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,4,.8,3,100,!0),s.TheoShape.init_f4eb("ribbon_h_005","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Banner,[s.TagGroup.banner],5,6,.8,3,100),s.TheoShape.init_f4eb("ornamental_001","Circle",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.Decorative,[s.TagGroup.decorative],3,4,.7,0,100),s.TheoShape.init_f4eb("ornamental_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Decorative,[s.TagGroup.decorative],8,8,.7,0,100,!0),s.TheoShape.init_f4eb("shape_002","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.7,0,100,!0),s.TheoShape.init_f4eb("shape_003","VerticalBanner",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.5,0,1),s.TheoShape.init_f4eb("shape_010","Hexagon",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.square],9,6,.7,0,100),s.TheoShape.init_f4eb("shape_013","Speech Bubble",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Avoid,[s.TagGroup.decorative],5,3,.4,.5,2,!0),s.TheoShape.init_f4eb("divider_001","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,5,.8,0,100),s.TheoShape.init_f4eb("divider_002","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],1,2,.5,0,100),s.TheoShape.init_f4eb("divider_003","Circle",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.Cutout,[s.TagGroup.other],5,1,.8,0,100),s.TheoShape.init_f4eb("Social_Facebook","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Instagram","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Pinterest","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Twitter","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_GPlus","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Linkedin","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Periscope","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Snapchat","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Tumblr","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("Social_Youtube","Circle",!1,!1,!1,c.AlignmentEdges.LeftAndTopAndBottom,s.ShapeCategory.Social,[s.TagGroup.unused],5,5,.5,99,100),s.TheoShape.init_f4eb("inline_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_002","Inline",!1,!1,!0,c.AlignmentEdges.TopAndBottom,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("inline_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("inline_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_001","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_002","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_003","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_004","Inline",!1,!1,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,void 0,!0),s.TheoShape.init_f4eb("pacific_005","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)]),void 0===n&&(n=[s.TheoShape.init_f4eb("square_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Square,[s.TagGroup.square],5,1,.7,0,100),s.TheoShape.init_f4eb("circle_001","Circle",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.Circle,[s.TagGroup.circle],5,1,.6,.5,2),s.TheoShape.init_f4eb("pacific_006","Inline",!1,!0,!0,c.AlignmentEdges.All,s.ShapeCategory.None,[s.TagGroup.unused],1,5,.5,0,100,!0,!0)]),void 0===i&&(i=[s.ShapeLibrary.CategoryBasic,s.ShapeLibrary.CategoryBanner,s.ShapeLibrary.CategoryDecorative,s.ShapeLibrary.CategorySocial]),void 0===o&&(o={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005","shape_003"],DECORATIVE:["circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_001","ornamental_002","square_003","shape_002","shape_013","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005","pacific_006"],SOCIAL:["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope"]}),void 0===a&&(a={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","circle_004","circle_005","circle_006","circle_007","circle_008","ornamental_002","square_003","inline_001","inline_002","inline_003","inline_004","inline_005","inline_006","pacific_001","pacific_002","pacific_003","pacific_004","pacific_005"],SOCIAL:[]}),void 0===r&&(r={BASIC:["square_002","square_004","buttonoutline","button","square_005","divider_001","divider_002","pacific_006"],BANNER:["ribbon_h_001","ribbon_h_002","ribbon_h_003","ribbon_h_004","ribbon_h_005"],DECORATIVE:["square_003","inline_001","inline_003","inline_005","inline_006","pacific_001","pacific_002","ornamental_002","diamond_001","diamond_002","square_001","circle_008"],SOCIAL:[]}),void 0===u&&(u={BASIC:["circle_001","circle_002","circle_003","shape_010","diamond_001","diamond_002","square_001","square_002","square_004","square_005","divider_001","divider_002"],BANNER:[],DECORATIVE:["circle_004","circle_005","pacific_006"],SOCIAL:[]}),void 0===h&&(h=["Social_Facebook","Social_Instagram","Social_Pinterest","Social_Twitter","Social_Youtube","Social_Snapchat","Social_Linkedin","Social_Tumblr","Social_GPlus","Social_Periscope","shape_002","shape_003","shape_013","ornamental_001","knockout"]),void 0===g&&(g=[]),void 0===d&&(d=[]),void 0===S&&(S=[]),void 0===m&&(m={}),void 0===f&&(f=[]),this.nonSvgBackingShapes=l.clone(e),this.svgBackingShapes=l.clone(t),this.seperatorShapes=l.clone(n),this.DisplayOrderForCategories=l.clone(i),this.DisplayOrderForShapesByCategory=l.clone(o),this.DisplayOrderForCharStyleShapesByCategory=l.clone(a),this.DisplayOrderForSmallSetCharStyleShapesByCategory=l.clone(r),this.DisplayOrderForLetterGridShapesByCategory=l.clone(u),this.NonSuggestableBackingShapes=l.clone(h),this.ShapeIDToCategory=l.clone(p),this.LockupBackingShapeIDs=l.clone(g),this.BrowsableBackingShapes=l.clone(d),this.FilledBackingShapes=l.clone(S),this.shapeDictionary=l.clone(m),this.nonSvgBackingShapeIDs=l.clone(f)},clone:function(){return o.init_implicit(this.nonSvgBackingShapes,this.svgBackingShapes,this.seperatorShapes,this.DisplayOrderForCategories,this.DisplayOrderForShapesByCategory,this.DisplayOrderForCharStyleShapesByCategory,this.DisplayOrderForSmallSetCharStyleShapesByCategory,this.DisplayOrderForLetterGridShapesByCategory,this.NonSuggestableBackingShapes,this.ShapeIDToCategory,this.LockupBackingShapeIDs,this.BrowsableBackingShapes,this.FilledBackingShapes,this.shapeDictionary,this.nonSvgBackingShapeIDs)}}}),o),s.ShapeLibrary=(a=function(){u.CoreObject.call(this)},r={},l.defineClass({name:"ShapeLibrary",ctor:a,superName:"CoreObject",statics:{CategoryBasic:"BASIC",CategoryBanner:"BANNER",CategoryDecorative:"DECORATIVE",CategorySocial:"SOCIAL",CategoryExclusive:"EXCLUSIVE",Square:"square",Circle:"circle",shapeLibraryDataStructures:{get:function(){return void 0===r.shapeLibraryDataStructures&&(r.shapeLibraryDataStructures=s.ShapeLibraryDataStructures.init_d41d()),r.shapeLibraryDataStructures}},LockupBackingShapeIDs:{get:function(){return void 0===r.LockupBackingShapeIDs&&(r.LockupBackingShapeIDs=a.shapeLibraryDataStructures.LockupBackingShapeIDs),r.LockupBackingShapeIDs},set:function(e){r.LockupBackingShapeIDs=e}},NonSvgBackingShapeIDs:{get:function(){return void 0===r.NonSvgBackingShapeIDs&&(r.NonSvgBackingShapeIDs=a.shapeLibraryDataStructures.nonSvgBackingShapeIDs),r.NonSvgBackingShapeIDs},set:function(e){r.NonSvgBackingShapeIDs=e}},BrowsableBackingShapes:{get:function(){return void 0===r.BrowsableBackingShapes&&(r.BrowsableBackingShapes=a.shapeLibraryDataStructures.BrowsableBackingShapes),r.BrowsableBackingShapes},set:function(e){r.BrowsableBackingShapes=e}},FilledBackingShapes:{get:function(){return void 0===r.FilledBackingShapes&&(r.FilledBackingShapes=a.shapeLibraryDataStructures.FilledBackingShapes),r.FilledBackingShapes},set:function(e){r.FilledBackingShapes=e}},shapeDictionary:{get:function(){return void 0===r.shapeDictionary&&(r.shapeDictionary=a.shapeLibraryDataStructures.shapeDictionary),r.shapeDictionary},set:function(e){r.shapeDictionary=e}},NonSuggestableBackingShapes:{get:function(){return void 0===r.NonSuggestableBackingShapes&&(r.NonSuggestableBackingShapes=a.shapeLibraryDataStructures.NonSuggestableBackingShapes),r.NonSuggestableBackingShapes},set:function(e){r.NonSuggestableBackingShapes=e}},SeperatorShapes:{get:function(){return void 0===r.SeperatorShapes&&(r.SeperatorShapes=a.shapeLibraryDataStructures.seperatorShapes),r.SeperatorShapes},set:function(e){r.SeperatorShapes=e}},getShapeDataForArtworkId:function(e){var t="none";return null!=e&&(t=e),a.shapeDictionary[t]},applyToShapeForma:function(e,t){var n,i;null!=(n=l.opt(h.Host.resourceUtils,function(e){return e.urlForResource("shape",t)}))&&(i=h.Host.pathUtils.artworkFromURL(n,!1))&&(e.canonicalArtwork=i.artwork,e.sliceBox=i.sliceBox,e.contentRegion=i.contentRegion,e.shapeLibraryID=t)},categoryForShapeID:function(e){return a.shapeLibraryDataStructures.ShapeIDToCategory[e]},displayOrderForCategories:function(){for(var e=[],t=l.iter(a.shapeLibraryDataStructures.DisplayOrderForCategories);!t.done;t.next()){var n=t.value;e.push(n)}return e},displayOrderForShapeIDs:function(e){for(var t=l.clone(a.shapeLibraryDataStructures.DisplayOrderForShapesByCategory[e]),n=[],i=l.iter(t);!i.done;i.next()){var o=i.value;n.push(o)}return n},displayOrderForCharStyleShapeIDs:function(e,t){var n=l.clone(a.shapeLibraryDataStructures.DisplayOrderForCharStyleShapesByCategory[e]);t&&(n=l.clone(a.shapeLibraryDataStructures.DisplayOrderForSmallSetCharStyleShapesByCategory[e]));for(var i=[],o=l.iter(n);!o.done;o.next()){var r=o.value;i.push(r)}return i},displayOrderForLetterGridShapeIDs:function(e){for(var t=l.clone(a.shapeLibraryDataStructures.DisplayOrderForLetterGridShapesByCategory[e]),n=[],i=l.iter(t);!i.done;i.next()){var o=i.value;n.push(o)}return n},isBackingShapeLetterGridCompatible:function(e,t){if(e!=p.LockupBacking.SVGBackground)return!1;for(var n=l.iter(a.shapeLibraryDataStructures.DisplayOrderForCategories);!n.done;n.next())for(var i=n.value,o=l.clone(a.shapeLibraryDataStructures.DisplayOrderForLetterGridShapesByCategory[i]),r=l.iter(o);!r.done;r.next())if(r.value==t)return!0;return!1}}}),a)},411:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(1),l=n(70),c=n(27),u=n(11),h=n(150),p=n(193),g=n(31),d=n(88),S=n(153);o.AddContentAction=(i=function(e,t,n,o){void 0===t&&(t=null),void 0===n&&(n=!1),void 0===o&&(o=l.AddFormaParams.DEFAULTS),this.content=e,this.pairedContent=t,this.preservePlacement=n,this.addParams=o,r.Action.call(this,i.TYPE)},a.defineClass({name:"AddContentAction",ctor:i,superName:"Action",statics:{TYPE:"AddContentAction"},props:{getUserAction:function(e){return this.content instanceof h.ImageContentNode?g.UserActions.AddImage():this.content instanceof S.VideoContentNode?g.UserActions.AddImage():this.content instanceof d.VectorContentNode?g.UserActions.AddIcon():this.content instanceof p.TextContentNode?g.UserActions.AddText():(s.CoreAssert.warning("Could not determine user action for content"),g.UserActions.AddImage())},execute:function(e){return l.CreationFacade.addContent(e.document.firstPage,this.content,this.pairedContent,this.preservePlacement,this.addParams).then(function(e){var t;return(t=a.as(e,u.Forma))?c.CorePromise.resolve(new r.FormaActionResult([t])):(s.CoreAssert.fail("expected a forma result from CreationFacade.addContent"),c.CorePromise.resolve(null))})}}}),i)},428:function(e,t,n){var i,o,a,r=t,s=n(0),l=n(34),c=n(134),u=n(31);r.BrandifyAction=(i=function(e,t,n,o){void 0===t&&(t=!0),void 0===n&&(n=!0),void 0===o&&(o=!0),this.authoringContext=e,this.applyFonts=t,this.applyColors=o,this.addLogo=n,l.Action.call(this,i.TYPE)},s.defineClass({name:"BrandifyAction",ctor:i,superName:"Action",statics:{TYPE:"BrandifyAction"},props:{getUserAction:function(e){return u.UserActions.BrandDocument()},execute:function(e){return c.BrandingFacade.brandifyDocument(e.document,this.authoringContext,this.applyFonts,this.addLogo,this.applyColors)}}}),i),r.AddBrandingAction=(o=function(e){this.authoringContext=e,l.Action.call(this,o.TYPE)},s.defineClass({name:"AddBrandingAction",ctor:o,superName:"Action",statics:{TYPE:"AddBrandingAction"},props:{getUserAction:function(e){return u.UserActions.ApplyBranding()},execute:function(e){return c.BrandingFacade.addBranding(e.document,this.authoringContext)}}}),o),r.RemoveBrandingAction=(a=function(){l.Action.call(this,a.TYPE)},s.defineClass({name:"RemoveBrandingAction",ctor:a,superName:"Action",statics:{TYPE:"RemoveBrandingAction"},props:{getUserAction:function(e){return u.UserActions.RemoveBranding()},execute:function(e){return c.BrandingFacade.removeBranding(e.document)}}}),a)},467:function(e,t,n){var i,o,a,r,s,l=t,c=n(0),u=n(1),h=n(27),p=n(8),g=n(50),d=n(90);l.IDocumentStateManager=c.defineProtocol("IDocumentStateManager",{resetStates:"() -> Void",getRootState:"() -> IDocumentState",beginNewState:"() -> Void",endNewState:"() -> IDocumentState",setCurrentState:"(IDocumentState) -> Void",getNewStateNestingDepth:"() -> Integer"}),l.IDocumentState=c.defineProtocol("IDocumentState",{}),l.PatchStatus=(i=function(e){this.depth=0,this.newStateBegun=e},c.defineClass({name:"PatchStatus",ctor:i}),i),l.TimelineState=(o=function(e,t){this.actionDepth=0,this.patch=null,this.beginSelectedFormaIDs=[],this.endSelectedFormaIDs=[],this.beganInCharStyleMode=!1,this.endedInCharStyleMode=!1,this.action=e,this.state=t},c.defineClass({name:"TimelineState",ctor:o}),o),l.Timeline=(a=function(){this.states=[],this.current=-1},c.defineClass({name:"Timeline",ctor:a,props:{currentState:{get:function(){return this.current<0||this.current>this.states.length?null:this.states[this.current]}}}}),a),l.UndoRedoMessage=(r=function(e,t){this.changeType=t,g.TheoMessage.call(this,r.TYPE,e)},c.defineClass({name:"UndoRedoMessage",ctor:r,superName:"TheoMessage",statics:{TYPE:"UndoRedoMessage"}}),r),l.UndoRedoManager=(s=function(){this.applyingUpdatedPatchesDepth=0,this.waitingCallbacks=[],this.timeline=new l.Timeline,this.timelineStack=[],this.patches=[],d.TheoPublishingObject.call(this)},c.defineClass({name:"UndoRedoManager",ctor:s,superName:"TheoPublishingObject",statics:{_implements:function(e){return"TheoMessagePublisher"==e}},props:{setup:function(){var e;(e=c.opt(this.owner,function(e){return e.document}))&&(this.stateMgr=c.opt(p.Host.factories,function(t){return t.constructDocumentStateManager(e)})),this.reset()},shouldCollapseActions:function(e,t){return null!=e&&null!=t&&e.description==t.description&&e.scope==t.scope},updateSelection:function(e,t,n){var i=[],o=!1;"cancel-branch"==e?i=c.clone(c.opt(this.owner,function(e){return e.selection.IDs})||[]):"set-index"==e&&t>n?(i=c.clone(this.timeline.states[t].beginSelectedFormaIDs),o=this.timeline.states[t].beganInCharStyleMode):(i=c.clone(this.timeline.currentState.endSelectedFormaIDs),o=this.timeline.currentState.endedInCharStyleMode),c.opt(this.owner,function(e){return e.selection.inCharStyleMode=o}),c.opt(this.owner,function(e){return e.selection.IDs=c.clone(i)})},reset:function(){c.opt(this.stateMgr,function(e){return e.resetStates()}),this.timeline=new l.Timeline,this.timeline.states.push(new l.TimelineState(null,c.opt(this.stateMgr,function(e){return e.getRootState()}))),this.timeline.current=0},debugDescribeCurrentState:function(){var e,t,n=this.timelineStack.length>0?"[branch depth "+c.toString(this.timelineStack.length)+"] ":"";return n+="Index "+c.toString(this.timeline.current),(e=this.timeline.currentState)?(t=e.action)?n+=" ("+t.description+")":n+=" (Initial state)":n+=" (Invalid state)",n},beginBranch:function(){u.CoreAssert.info("Starting new branch @ "+this.debugDescribeCurrentState()),this.timelineStack.push(this.timeline);var e=new l.Timeline;e.states.push(this.timeline.currentState),e.current=0,this.timeline=e},endBranch:function(e){var t=this;if(this.timelineStack.length>0){u.CoreAssert.info((e?"Committing":"Canceling")+" branch @ "+this.debugDescribeCurrentState());var n=this.timelineStack.pop();if(e){var i=this.timeline.currentState;this.timeline=n,i===this.timeline.currentState||(this.timeline.states.splice(this.timeline.current+1,1),this.timeline.states.push(i),this.timeline.current=this.timeline.states.length-1)}else this.timeline=n,c.opt(this.stateMgr,function(e){return e.setCurrentState(t.timeline.currentState.state)}),this.applyPatches(function(){t.updateSelection("cancel-branch",-1,-1),t.publishEvent("state-changed")})}else u.CoreAssert.fail("endBranch: branch stack underflow @ "+this.debugDescribeCurrentState())},beginUserActionAsync:function(e){var t=this;return new h.CorePromise(function(n,i){return t.beginUserAction(e,function(){return n(null)})})},endUserActionAsync:function(){var e=this;return new h.CorePromise(function(t,n){return e.endUserAction(function(){return t(null)})})},beginUserAction:function(e,t){var n,i=this,o=this.timeline.currentState;if(o.actionDepth>0)o.actionDepth+=1,t();else{this.timeline.states.length>this.timeline.current+1&&this.timeline.states.splice(this.timeline.current+1,this.timeline.states.length-this.timeline.current-1);var a=new l.TimelineState(e,null);a.beginSelectedFormaIDs=c.clone(c.opt(this.owner,function(e){return e.selection.IDs})||[]),a.beganInCharStyleMode=!(!(n=c.opt(this.owner,function(e){return e.selection.inCharStyleMode}))&&null==n)&&n;var r=!1;if((!e.compounding||e.collapseSequential)&&this.shouldCollapseActions(o.action,e)){for(var s=this.timeline.current-1;s>=0&&this.shouldCollapseActions(this.timeline.states[s].action,e);)s-=1;e.compounding||(c.opt(this.stateMgr,function(e){return e.setCurrentState(i.timeline.states[s].state)}),r=!0),e.collapseSequential&&this.timeline.states.splice(s+1,1)}this.timeline.states.push(a),this.timeline.current=this.timeline.states.length-1,r?this.applyPatches(function(){a.actionDepth=1,c.opt(i.stateMgr,function(e){return e.beginNewState()}),t()}):(a.actionDepth=1,c.opt(this.stateMgr,function(e){return e.beginNewState()}),t())}},endUserAction:function(e){var t,n,i=this;(n=this.timeline.currentState)?(u.CoreAssert.info("endUserAction @ "+this.debugDescribeCurrentState()),u.CoreAssert.isTrue(this.timeline.current>0,"first timeline entry should always be initial state, not a user action"),u.CoreAssert.isTrue(null!=n.action,"invalid current state for ending a user action"),0==n.actionDepth?u.CoreAssert.fail("User action stack underflow"):n.actionDepth>1?(n.actionDepth-=1,e()):(n.actionDepth=0,n.endSelectedFormaIDs=c.clone(c.opt(this.owner,function(e){return e.selection.IDs})||[]),n.endedInCharStyleMode=!(!(t=c.opt(this.owner,function(e){return e.selection.inCharStyleMode}))&&null==t)&&t,this.applyPatches(function(){for(;i.waitingCallbacks.length>0&&0==i.timeline.currentState.actionDepth;)i.waitingCallbacks.shift()();i.updateSelection("user-action",-1,-1),i.publishEvent("state-changed"),e()}))):u.CoreAssert.fail("invalid current state for ending a user action")},cancelUserAction:function(e){var t,n=this;if(t=this.timeline.currentState)if(u.CoreAssert.info("cancelUserAction @ "+this.debugDescribeCurrentState()),u.CoreAssert.isTrue(this.timeline.current>0,"first timeline entry should always be initial state, not a user action"),0==t.actionDepth)u.CoreAssert.fail("User action stack underflow");else{if(t.actionDepth>1)return u.CoreAssert.fail("Can not cancel a user action with a depth greater than 1"),this.endUserAction(e);t.actionDepth=0,t.endSelectedFormaIDs=c.clone(c.opt(this.owner,function(e){return e.selection.IDs})||[]);var i=this.getCurrentTimelineIndex(),o=i-1;t.state=c.opt(this.stateMgr,function(e){return e.endNewState()}),this.setCurrentTimelineIndex(o,function(){for(n.publishEvent("state-changed"),n.removeTimelineStateAtIndex(i);n.waitingCallbacks.length>0&&0==n.timeline.currentState.actionDepth;)n.waitingCallbacks.shift()();e()})}else u.CoreAssert.fail("invalid current state for ending a user action")},getActionDepth:function(){var e;return(e=c.opt(this.timeline.currentState,function(e){return e.actionDepth}))||null!=e?e:0},registerPatch:function(e){this.patches.push(e)},getPatchDepth:function(){var e;return(e=c.opt(c.opt(this.timeline.currentState,function(e){return e.patch}),function(e){return e.depth}))||null!=e?e:-1},beginPatch:function(){var e,t;(e=this.timeline.currentState)&&((t=e.patch)?(t.newStateBegun||(c.opt(this.stateMgr,function(e){return e.beginNewState()}),t.newStateBegun=!0),t.depth+=1):u.CoreAssert.fail("Invalid beginPatch: not in a patching context."))},endPatch:function(){var e,t;(e=this.timeline.currentState)&&((t=e.patch)?t.depth>0?t.depth-=1:u.CoreAssert.fail("Patch stack underflow!"):u.CoreAssert.fail("Invalid beginPatch: not in a patching context."))},invalidatePatches:function(e){var t=this;0==this.getActionDepth()?(this.applyingUpdatedPatchesDepth+=1,this.applyPatches(function(){t.publishEvent("state-updated"),t.applyingUpdatedPatchesDepth-=1,e()})):e()},undo:function(e){this.timeline.current<=0?e():this.setCurrentTimelineIndex(this.timeline.current-1,e)},redo:function(e){this.timeline.current==this.timeline.states.length-1?e():this.setCurrentTimelineIndex(this.timeline.current+1,e)},getUndoDescription:function(){return this.timeline.current<=0?null:c.opt(c.opt(this.timeline.currentState,function(e){return e.action}),function(e){return e.description})},getRedoDescription:function(){return this.timeline.current==this.timeline.states.length-1?null:c.opt(this.timeline.states[this.timeline.current+1].action,function(e){return e.description})},applyPatches:function(e){var t,n=this,i=this.timeline.states[this.timeline.current];u.CoreAssert.isTrue(null==i.patch,"applying patches before previous patch context is finished!"),u.CoreAssert.isTrue(0==i.actionDepth,"should not apply patches while user action still mutating"),i.patch=new l.PatchStatus(((t=c.opt(this.stateMgr,function(e){return e.getNewStateNestingDepth()}))||null!=t?t:0)>0),function e(t,o){t>=n.patches.length?o():(i!==n.timeline.states[n.timeline.current]&&u.CoreAssert.warning("unexpected change of timeline during patching"),u.CoreAssert.isTrue(null!=i.patch&&0==i.patch.depth,"unexpected state between patches"),n.patches[t](function(){return e(t+1,o)}))}(0,function(){i!==n.timeline.currentState&&u.CoreAssert.warning("unexpected change of timeline during patching"),i.patch.newStateBegun&&(i.state=c.opt(n.stateMgr,function(e){return e.endNewState()})),i.patch=null,e()})},getTimelineLength:function(){return this.timeline.states.length},getCurrentTimelineState:function(){return this.timeline.currentState},getCurrentTimelineIndex:function(){return this.timeline.current},getTimelineStateAtIndex:function(e){return u.CoreAssert.isTrue(e>=0&&e<this.timeline.states.length,"getTimelineStateAtIndex: index out of range"),this.timeline.states[e]},publishEvent:function(e){this.publish(new l.UndoRedoMessage(this,e))},removeTimelineStateAtIndex:function(e){u.CoreAssert.isTrue(e>0,"removeStateAtIndex: should not remove the initial state!"),u.CoreAssert.isTrue(e!=this.timeline.current,"removeStateAtIndex: should not remove the current state!"),u.CoreAssert.isTrue(e>=0&&e<this.timeline.states.length,"removeStateAtIndex: index out of range"),e>0&&e<this.timeline.states.length&&(this.timeline.states.splice(e,1),e<this.timeline.current&&(this.timeline.current-=1),this.publishEvent("timeline-changed"))},setCurrentTimelineIndex:function(e,t){var n=this;if(u.CoreAssert.info("setting timeline index to "+c.toString(e)+" @ "+this.debugDescribeCurrentState()),e!=this.timeline.current&&e>=0&&e<this.timeline.states.length){var i=this.timeline.current;return this.timeline.current=e,c.opt(this.stateMgr,function(e){return e.setCurrentState(n.timeline.currentState.state)}),this.applyPatches(function(){n.updateSelection("set-index",i,e),n.publishEvent("state-changed"),t()})}t()},whenNoCurrentAction:function(e){0==this.timeline.currentState.actionDepth?e():this.waitingCallbacks.push(e)},currentlyExecutingAction:function(){var e;return!!(e=this.timeline.currentState)&&(this.getActionDepth()>0||null!=e.patch)}}}),s)},474:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(70),l=n(27),c=n(31);o.DeleteAction=(i=function(e){void 0===e&&(e=null),this.formaeToDelete=a.clone(e),r.Action.call(this,i.TYPE)},a.defineClass({name:"DeleteAction",ctor:i,superName:"Action",statics:{TYPE:"DeleteAction"},props:{canDo:function(e){return null!=this.formaeToDelete||e.selection.selectedCount>0},getUserAction:function(e){return c.UserActions.DeleteItem()},execute:function(e){var t=this;return new l.CorePromise(function(n,i){return s.CreationFacade.deleteFormae(a.clone(t.formaeToDelete||e.selection.asFormaArray()),function(){return n(null)})})}}}),i)},500:function(e,t,n){var i,o=t,a=n(0),r=n(1),s=n(79),l=n(4),c=n(19),u=n(136),h=n(80);o.ImageFilterLibrary=(i=function(){this.styleMixes={Darken:[.1,.3,.5,.7]},this.imageStyles=[new h.ImageStyle("None"),new h.ImageStyle("Greyscale",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:"themeDerivedDark"},{key:c.ColorRole.FieldSecondary,value:"themeDerivedLight"}]),new u.CompositeFilter(void 0,"Duotone",1,"normal",void 0,void 0,"duotone")),new h.ImageStyle("Darken",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:"themeDerivedDark"},{key:c.ColorRole.FieldSecondary,value:"themeDerivedDark"}]),new u.CompositeFilter(void 0,"Duotone",.5,"normal",void 0,void 0,"duotone")),new h.ImageStyle("Blur",null,new u.CompositeFilter(void 0,"Blur",1,"none",void 0,void 0,"none")),new h.ImageStyle("Overlay",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:a.as(s.ColorLibraryController.FILTER_OVERLAY_KEYS[0],"String")}]),new u.CompositeFilter(void 0,"ReduceContrastOverlay",.25,"overlay",!1,.5,"offset",1,1)),new h.ImageStyle("Multiply",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:s.ColorLibraryController.FILTER_MULTIPLY_KEYS[1]}]),new u.CompositeFilter(void 0,"DesaturateMultiply",.4,"multiply",!0,void 0,"offset",.5,1)),new h.ImageStyle("Blend",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:s.ColorLibraryController.FILTER_BLEND_KEYS[2]}]),new u.CompositeFilter(void 0,"Blend",.3,"normal",!1,void 0,"none")),new h.ImageStyle("DuoTone",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:a.as(s.ColorLibraryController.FILTER_DUOTONE_LOW_KEYS[2],"String")},{key:c.ColorRole.FieldSecondary,value:a.as(s.ColorLibraryController.FILTER_DUOTONE_HIGH_KEYS[0],"String")}]),new u.CompositeFilter(void 0,"Duotone",1,"normal",void 0,void 0,"duotone")),new h.ImageStyle("Screen",c.ColorTable.init_25f6([{key:c.ColorRole.FieldPrimary,value:s.ColorLibraryController.FILTER_SCREEN_KEYS[0]}]),new u.CompositeFilter(void 0,"Screen",.4,"screen",!1,void 0,"none"))],l.CoreObject.call(this)},a.defineClass({name:"ImageFilterLibrary",ctor:i,superName:"CoreObject",props:{getImageStyle:function(e){for(var t,n=a.iter(this.imageStyles);!n.done;n.next()){var i=n.value;if(e==i.name){t=i;break}}return t},getAllImageStyles:function(){return this.imageStyles},getNextImageStyleOfSameType:function(e,t){void 0===t&&(t=!0);var n,i,o,l,p=e.name,g=!0;switch(p){case"None":n=this.getImageStyle("None");break;case"Greyscale":n=this.getImageStyle("Greyscale");break;case"Blur":n=this.getImageStyle("Blur");break;case"Darken":(n=a.as(this.getImageStyle("Darken").clone(),h.ImageStyle)).colorLibrary=e.colorLibrary;break;case"Overlay":case"Multiply":case"Blend":case"Screen":if((n=a.as(this.getImageStyle(p).clone(),h.ImageStyle)).colorLibrary=e.colorLibrary,null==(m=e.colors.colorID(c.ColorRole.FieldPrimary)))return r.CoreAssert.fail("Style '"+p+"' missing FieldPrimary key"),null;var d=s.ColorLibraryController.getNextKeyInSet(m),S=d[0];g=y=d[1],n.colors.setColorId(c.ColorRole.FieldPrimary,S);break;case"DuoTone":var m;if((n=a.as(this.getImageStyle("DuoTone").clone(),h.ImageStyle)).colorLibrary=e.colorLibrary,null==(m=e.colors.colorID(c.ColorRole.FieldPrimary)))return r.CoreAssert.fail("Missing color key"),null;var f,A=s.ColorLibraryController.getNextKeyInSet(m),C=A[0];if(A[1],n.colors.setColorId(c.ColorRole.FieldPrimary,C),null==(f=e.colors.colorID(c.ColorRole.FieldSecondary)))return r.CoreAssert.fail("Missing color key"),null;var T=s.ColorLibraryController.getNextKeyInSet(f),_=T[0],y=T[1];n.colors.setColorId(c.ColorRole.FieldSecondary,_),g=y;break;default:n=this.getImageStyle("None")}if((i=this.styleMixes[p])&&null!=(o=a.opt(a.as(e.filter,u.CompositeFilter),function(e){return e.mix}))&&t&&g&&null!=(l=a.indexOf(i,o))){var b=i[(l+1)%i.length];n.filter.mix=b}return a.opt(n,function(t){return t.adjustments=e.adjustments}),a.opt(n,function(t){return t.opacity=e.opacity}),n},getImageStyles:function(){return[this.getImageStyle("None"),this.getImageStyle("Greyscale"),this.getImageStyle("Darken"),this.getImageStyle("Overlay"),this.getImageStyle("Blend"),this.getImageStyle("Screen"),this.getImageStyle("DuoTone"),this.getImageStyle("Multiply")]},hasNextStyleOfSameType:function(e){var t;return!!(t=this.getNextImageStyleOfSameType(e,!0))&&!e.equals(t)}}}),i)},631:function(e,t,n){n(0)},632:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(39),l=n(202),c=n(8),u=n(31);o.AddBadgeAction=(i=function(e,t,n){void 0===n&&(n="lockup"),this.badgeDoc=e,this.badgeID=t,this.badgeType=n,r.Action.call(this,i.TYPE)},a.defineClass({name:"AddBadgeAction",ctor:i,superName:"Action",statics:{TYPE:"AddBadgeAction"},props:{getUserAction:function(e){return u.UserActions.AddBadge()},execute:function(e){var t=this,n=e.document;return l.BadgeFacade.addBadge(this.badgeDoc,this.badgeID,n.firstPage).then(function(e){var i;return(i=a.opt(a.as(e,r.FormaActionResult),function(e){return e.formae}))&&a.opt(n.controller,function(e){return e.selection.replaceSelectionWithFormae(a.clone(i))}),a.opt(c.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kDesignIngredientAdded,{contextualData1:"designIngredientId:"+t.badgeID,contextualData2:"designIngredientType:"+t.badgeType})}),e})}}}),i)},633:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(70),l=n(31);o.AddFormaAction=(i=function(e,t,n){this.page=e,this.forma=t,this.params=n,r.Action.call(this,i.TYPE)},a.defineClass({name:"AddFormaAction",ctor:i,superName:"Action",statics:{TYPE:"AddFormaAction"},props:{getUserAction:function(e){return l.UserActions.AddImage()},execute:function(e){return s.CreationFacade.addForma(this.page,this.forma,this.params)}}}),i)},634:function(e,t,n){var i,o,a,r=t,s=n(0),l=n(34),c=n(507),u=n(27),h=n(31);r.AlignFormaeAction=(i=function(e){this.alignType=e,l.Action.call(this,i.TYPE)},s.defineClass({name:"AlignFormaeAction",ctor:i,superName:"Action",statics:{TYPE:"AlignFormaeAction"},props:{getUserAction:function(e){return h.UserActions.AlignFormae()},execute:function(e){return c.AlignmentFacade.alignFormae(this.alignType,s.clone(e.selection.asFormaArray())),u.CorePromise.resolve(null)}}}),i),r.DistributeFormaeAction=(o=function(e){this.distType=e,l.Action.call(this,o.TYPE)},s.defineClass({name:"DistributeFormaeAction",ctor:o,superName:"Action",statics:{TYPE:"DistributeFormaeAction"},props:{getUserAction:function(e){return h.UserActions.DistributeFormae()},execute:function(e){return c.AlignmentFacade.distributeFormae(this.distType,s.clone(e.selection.asFormaArray())),u.CorePromise.resolve(null)}}}),o),r.ArrangeFormaeAction=(a=function(e){this.horizontal=e,l.Action.call(this,a.TYPE)},s.defineClass({name:"ArrangeFormaeAction",ctor:a,superName:"Action",statics:{TYPE:"ArrangeFormaeAction"},props:{getUserAction:function(e){return h.UserActions.DistributeFormae()},execute:function(e){return c.AlignmentFacade.arrangeFormae(this.horizontal,s.clone(e.selection.asFormaArray())),u.CorePromise.resolve(null)}}}),a)},635:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(1),l=n(315),c=n(27),u=n(19),h=n(31);o.ApplyColorAction=(i=function(e,t,n,o){void 0===n&&(n=u.ColorRole.FieldPrimary),void 0===o&&(o=null),null==e&&null!=o&&s.CoreAssert.fail("initial color data supplied without formae"),this.formaeToColor=a.clone(e),this.colors=a.clone(t),this.dominantRole=n,this.initialColorState=o,r.Action.call(this,i.TYPE)},a.defineClass({name:"ApplyColorAction",ctor:i,superName:"Action",statics:{TYPE:"ApplyColorAction"},props:{getUserAction:function(e){var t,n;return t=(n=this.formaeToColor)?n.map(function(e){return e.formaID},this):a.clone(e.selection.IDs),h.UserActions.ChangeColor(t.join(","))},execute:function(e){var t,n=a.clone(this.formaeToColor||e.selection.asFormaArray());if(s.CoreAssert.isTrue(n.length>0,"empty Forma array"),(t=this.initialColorState)&&n==t.formae){n[0].page.colorLibraryController.restoreUndoState(t.colorLibraryState);for(var i=a.iter(a.toSequence(n));!i.done;i.next()){var o=i.value,h=o.offset,p=o.element,g=t.primaryColorIDs[h];p.style.colors.setColorId(u.ColorRole.FieldPrimary,a.isEmpty(g)?null:g);var d=t.secondaryColorIDs[h];p.style.colors.setColorId(u.ColorRole.FieldSecondary,a.isEmpty(d)?null:d)}}var S=a.clone(l.ColorFacade.applyColorsToFormae(a.clone(n),a.clone(this.colors),this.dominantRole));return e.selection.IDs=S.map(function(e){return e.formaID},this),c.CorePromise.resolve(new r.FormaActionResult(a.clone(S)))}}}),i)},636:function(e,t,n){var i,o,a,r=t,s=n(0),l=n(34),c=n(27),u=n(508),h=n(31);r.ApplyColorThemeAction=(i=function(e,t,n,o){void 0===n&&(n=null),void 0===o&&(o=!1),this.themeColors=s.clone(e),this.themeID=t,this.doShuffle=o,this.page=n,l.Action.call(this,i.TYPE)},s.defineClass({name:"ApplyColorThemeAction",ctor:i,superName:"Action",statics:{TYPE:"ApplyColorThemeAction"},props:{getUserAction:function(e){return h.UserActions.SetColorTheme()},execute:function(e){var t;return(t=this.page||s.opt(e.document,function(e){return e.firstPage}))&&(u.ColorThemeFacade.applyColorTheme(s.clone(this.themeColors),this.themeID,t),this.doShuffle&&u.ColorThemeFacade.shuffleColorTheme(t)),c.CorePromise.resolve(new l.ActionResult)}}}),i),r.ShuffleColorThemeAction=(o=function(e){void 0===e&&(e=null),this.page=e,l.Action.call(this,o.TYPE)},s.defineClass({name:"ShuffleColorThemeAction",ctor:o,superName:"Action",statics:{TYPE:"ShuffleColorThemeAction"},props:{getUserAction:function(e){return h.UserActions.ShuffleColorTheme()},execute:function(e){var t;return(t=this.page||s.opt(e.document,function(e){return e.firstPage}))&&u.ColorThemeFacade.shuffleColorTheme(t),c.CorePromise.resolve(new l.ActionResult)}}}),o),r.ModifyColorThemeAction=(a=function(e,t,n){void 0===n&&(n=null),this.color=e,this.key=t,this.page=n,l.Action.call(this,a.TYPE)},s.defineClass({name:"ModifyColorThemeAction",ctor:a,superName:"Action",statics:{TYPE:"ModifyColorThemeAction"},props:{getUserAction:function(e){return h.UserActions.ModifyColorTheme()},execute:function(e){var t;return(t=this.page||s.opt(e.document,function(e){return e.firstPage}))&&u.ColorThemeFacade.modifyColorTheme(this.color,this.key,t),c.CorePromise.resolve(new l.ActionResult)}}}),a)},637:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(70),l=n(27),c=n(11),u=n(31);o.DuplicateAction=(i=function(e,t,n){this.formaeToDuplicate=a.clone(e),this.offsetDuplicates=t,this.selectDuplicates=n,r.Action.call(this,i.TYPE)},a.defineClass({name:"DuplicateAction",ctor:i,superName:"Action",statics:{TYPE:"DuplicateAction",useSelection:function(){return new i(null,!0,!0)}},props:{getUserAction:function(e){return u.UserActions.DuplicateItems(a.clone(this.formaeToDuplicate||e.selection.asFormaArray()))},execute:function(e){return s.CreationFacade.duplicateItems(a.clone(this.formaeToDuplicate||e.selection.asFormaArray()),this.offsetDuplicates,this.selectDuplicates).then(function(e){var t;return(t=a.as(e,["Array",c.Forma]))?new r.FormaActionResult(a.clone(t)):l.CorePromise.reject("did not get an array of Forma back from CreationFacade.duplicateItems")})}}}),i)},638:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(39),l=n(27),c=n(8),u=n(31);o.FlipAction=(i=function(e,t){void 0===e&&(e=!1),void 0===t&&(t=null),this.vertical=e,this.formaeToFlip=a.clone(t),r.Action.call(this,i.TYPE)},a.defineClass({name:"FlipAction",ctor:i,superName:"Action",statics:{TYPE:{get:function(){return"FlipAction"}}},props:{getUserAction:function(e){return u.UserActions.FlipItem()},execute:function(e){var t=this,n=null;return null!=this.formaeToFlip?n=a.clone(this.formaeToFlip):(n=[],e.selection.selectedCount>0&&e.selection.forEachSelected(function(e){return n.push(e)})),a.clone(n).filter(function(e){return a.opt(e.controller,function(e){return 1==e.flippable})},this).forEach(function(e){e.controller.flip(t.vertical),e.isImage()?a.opt(c.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataImageFlipped,{})}):e.isShape()?a.opt(c.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataShapeFlipped,{})}):e.isText()&&a.opt(c.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataTextFlipped,{})})}),l.CorePromise.resolve(null)}}}),i)},639:function(e,t,n){var i,o,a=t,r=n(0),s=n(34),l=n(27),c=n(509),u=n(31);a.CreatePaddedCollageAction=(i=function(){s.Action.call(this,i.TYPE)},r.defineClass({name:"CreatePaddedCollageAction",ctor:i,superName:"Action",statics:{TYPE:"CreatePaddedCollageAction"},props:{getUserAction:function(e){return u.UserActions.CreateCollage()},execute:function(e){var t,n;return(t=r.opt(e.document,function(e){return e.firstPage}))?(n=c.GridFacade.createPaddedCollage(t))?l.CorePromise.resolve(new s.FormaActionResult([n])):l.CorePromise.reject("could not get or create page grid"):l.CorePromise.reject("no document or page?")}}}),i),a.SetGridParametersAction=(o=function(e,t){this.spacing=e,this.margin=t,s.Action.call(this,o.TYPE)},r.defineClass({name:"SetGridParametersAction",ctor:o,superName:"Action",statics:{TYPE:"CreatePaddedCollageAction"},props:{getUserAction:function(e){return u.UserActions.SetLayoutMargin()},execute:function(e){var t;return(t=r.opt(e.document,function(e){return e.firstPage}))?(c.GridFacade.setPageGridParameters(t,this.spacing,this.margin),l.CorePromise.resolve(null)):l.CorePromise.reject("no document or page?")}}}),o)},640:function(e,t,n){var i,o,a,r=t,s=n(0),l=n(34),c=n(39),u=n(27),h=n(8),p=n(159),g=n(91),d=n(31);r.ReplaceImagesWithColorsAction=(i=function(e,t){this.formae=s.clone(e),this.colors=s.clone(t),l.Action.call(this,i.TYPE)},s.defineClass({name:"ReplaceImagesWithColorsAction",ctor:i,superName:"Action",statics:{TYPE:"ReplaceImagesWithColorsAction"},props:{getUserAction:function(e){return d.UserActions.ReplaceImageWithShape()},execute:function(e){var t=s.clone(this.formae||e.selection.asFormaArray()),n=s.clone(g.ImageFacade.replaceImagesWithColors(s.clone(t),s.clone(this.colors)));return 0==n.length?u.CorePromise.reject("did not get any Forma back from ImageFacade.replaceImageWithColors"):(e.selection.IDs=n.map(function(e){return e.formaID},this),u.CorePromise.resolve(new l.FormaActionResult(s.clone(n))))}}}),i),r.SetImageFilterAction=(o=function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),this.style=e,this.shuffle=t,this.applyFilterToAllBackgroundImages=n,l.Action.call(this,this.shuffle?o.SHUFFLE_TYPE:o.TYPE)},s.defineClass({name:"SetImageFilterAction",ctor:o,superName:"Action",statics:{TYPE:"SetImageFilterAction",SHUFFLE_TYPE:"ShuffleImageFilterAction"},props:{getUserAction:function(e){return this.shuffle?d.UserActions.ShuffleFilter():d.UserActions.ApplyFilter()},execute:function(e){var t=this;return s.clone(this.applyFilterToAllBackgroundImages?g.ImageFacade.getBackgroundImagesFromPage(e.document.firstPage):e.selection.asFormaArray()).forEach(function(e){if(e.isImage()){var n=g.ImageFacade.getImageFormaForForma(e);t.style.adjustments=p.ImageAdjustments.createDefault();var i=s.opt(n,function(e){return e.style});t.style.adjustments=s.opt(i,function(e){return e.adjustments}),g.ImageFacade.applyImageStyle(t.style,[e])}}),u.CorePromise.resolve(null)}}}),o),r.ChangeImageAdjustmentsAction=(a=function(e,t,n){void 0===n&&(n=null),this.propertyToAdjust=e,this.value=t,this.formaeToAdjust=s.clone(n),l.Action.call(this,a.TYPE)},s.defineClass({name:"ChangeImageAdjustmentsAction",ctor:a,superName:"Action",statics:{TYPE:"ChangeImageAdjustmentsAction"},props:{getUserAction:function(e){return d.UserActions.ChangeImageAdjustments()},execute:function(e){var t=this;return s.clone(this.formaeToAdjust||e.selection.asFormaArray()).forEach(function(e){if(e.isImage()){var n=g.ImageFacade.getImageFormaForForma(e);s.opt(s.opt(n,function(e){return e.style.adjustments}),function(e){return e.setValue(t.value,t.propertyToAdjust)}),s.opt(n,function(e){return e.applyStyle(s.opt(n,function(e){return e.style}))}),s.opt(h.Host.logging,function(e){return e.logToAnalytics(c.AnalyticsConstants.kAnalyticsDataImageAdjusted,{contextualData1:"type: "+t.propertyToAdjust})})}}),u.CorePromise.resolve(null)}}}),a)},641:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(27),l=n(356),c=n(31);o.ChangeZOrderAction=(i=function(e){this.zIndex=e,r.Action.call(this,i.TYPE)},a.defineClass({name:"ChangeZOrderAction",ctor:i,superName:"Action",statics:{TYPE:"ChangeZOrderAction"},props:{getUserAction:function(e){return c.UserActions.ChangeZOrder()},execute:function(e){var t=e.selection.formaAt(0);return l.LayerFacade.setZOrder(this.zIndex,t),s.CorePromise.resolve(null)}}}),i)},642:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(27),l=n(123),c=n(124),u=n(31);o.NudgeAction=(i=function(e){this.delta=e,r.Action.call(this,i.TYPE)},a.defineClass({name:"NudgeAction",ctor:i,superName:"Action",statics:{TYPE:"NudgeAction"},props:{getUserAction:function(e){return u.UserActions.NudgeItem()},execute:function(e){var t=a.clone(e.selection.asFormaArray());c.TransformFacade.nudgeFormaeInPageSpace(a.clone(t),this.delta);for(var n=a.iter(t);!n.done;n.next()){var i=n.value;l.DragFacade.rescueFormaToPageBounds(i,50,0)}return s.CorePromise.resolve(null)}}}),i)},643:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(27),l=n(338),c=n(31);o.SetOpacityAction=(i=function(e){this.opacity=e,r.Action.call(this,i.TYPE)},a.defineClass({name:"SetOpacityAction",ctor:i,superName:"Action",statics:{TYPE:"SetOpacityAction"},props:{getUserAction:function(e){return c.UserActions.ChangeOpacity()},execute:function(e){return l.OpacityFacade.applyOpacity(this.opacity,a.clone(e.selection.asFormaArray())),s.CorePromise.resolve(null)}}}),i)},644:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(27),l=n(510),c=n(31);o.ChangePageSizeAction=(i=function(e,t){this.page=e,this.designSize=t,r.Action.call(this,i.TYPE)},a.defineClass({name:"ChangePageSizeAction",ctor:i,superName:"Action",statics:{TYPE:"ChangePageSizeAction"},props:{getUserAction:function(e){return c.UserActions.ChangePageSize()},execute:function(e){return l.PageFacade.setPageDesignSize(this.page,this.designSize),s.CorePromise.resolve(null)}}}),i)},645:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(39),l=n(27),c=n(26),u=n(8),h=n(31);o.RotateAction=(i=function(){},a.defineClass({name:"RotateAction",ctor:i,superName:"Action",statics:{TYPE:{get:function(){return"RotateAction"}}},props:{init_d41d:function(){this.angle=Math.PI/180,r.Action.call(this,i.TYPE)},init_27da:function(e,t){this.angle=e,this.formaeToRotate=a.clone(t),r.Action.call(this,i.TYPE)},getUserAction:function(e){return h.UserActions.RotateItem()},execute:function(e){var t=this,n=null;return null!=this.formaeToRotate?n=a.clone(this.formaeToRotate):(n=[],e.selection.selectedCount>0&&e.selection.forEachSelected(function(e){return n.push(e)})),a.clone(n).filter(function(e){return a.opt(e.controller,function(e){return 1==e.rotateable})},this).forEach(function(e){var n,i=t.angle;e.controller.rotate(i),(n=a.as(e.controller,c.FrameController))&&n.fitChildrenToFrame(),e.isImage()?a.opt(u.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataImageRotated,{})}):e.isShape()?a.opt(u.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataShapeRotated,{})}):e.isText()&&a.opt(u.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataTextRotated,{})})}),l.CorePromise.resolve(null)}}}),i)},646:function(e,t,n){var i,o=t,a=n(0),r=n(34),s=n(39),l=n(27),c=n(123),u=n(11),h=n(8),p=n(21),g=n(124),d=n(31);o.ScaleAction=(i=function(){},a.defineClass({name:"ScaleAction",ctor:i,superName:"Action",statics:{TYPE:{get:function(){return"ScaleAction"}}},props:{init_d41d:function(){this.scale=1.01,r.Action.call(this,i.TYPE)},init_bfb4:function(e,t){this.scale=e,this.formaeToScale=a.clone(t),r.Action.call(this,i.TYPE)},getUserAction:function(e){return d.UserActions.ScaleItem()},execute:function(e){var t,n=this;return(null!=this.formaeToScale?a.clone(this.formaeToScale):e.selection.asFormaArray().map(function(e){var t=a.clone(e.filterByKind(p.ImageForma.KIND,u.FormaTraversal.JustChildren));return t.length>0&&!t[0].controller.floating?t[0]:e},this)).filter(function(e){return!(!(t=a.opt(e.controller,function(e){return e.scalable}))&&null==t)&&t},this).forEach(function(e){g.TransformFacade.scaleForma(e,n.scale),c.DragFacade.rescueFormaToPageBounds(e),e.isImage()?a.opt(h.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataImageResized,{})}):e.isShape()?a.opt(h.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataShapeResized,{})}):e.isText()&&a.opt(h.Host.logging,function(e){return e.logToAnalytics(s.AnalyticsConstants.kAnalyticsDataTextResized,{})})}),l.CorePromise.resolve(null)}}}),i)},647:function(e,t,n){var i,o,a,r,s,l,c,u,h,p,g=t,d=n(0),S=n(34),m=n(1),f=n(27),A=n(17),C=n(347),T=n(165),_=n(31);g.ChangeTextLayoutAndAlignmentAction=(i=function(e,t,n,o,a){void 0===n&&(n=!1),void 0===o&&(o=T.TextPathID.UNSET),void 0===a&&(a=null),A.LockupStyle.isPath(e)?(o==T.TextPathID.Custom&&null==a||o!=T.TextPathID.Custom&&null!=a)&&m.CoreAssert.warning("pathID/customPath mismatch"):o==T.TextPathID.UNSET&&null==a||m.CoreAssert.warning("Why are we providing a path or path id with a non-path layout?"),this.layout=e,this.alignment=t,this.pathID=o,this.customPath=a,this.charStyleMode=n,S.Action.call(this,i.TYPE)},d.defineClass({name:"ChangeTextLayoutAndAlignmentAction",ctor:i,superName:"Action",statics:{TYPE:"ChangeTextLayoutAndAlignment"},props:{getUserAction:function(e){return _.UserActions.ChangeTextAlignment(e.selection.IDs.join(","))},execute:function(e){return C.TextFacade.setLayoutAndAlignment(this.layout,this.alignment,d.clone(e.selection.asFormaArray()),this.charStyleMode,this.pathID,this.customPath),f.CorePromise.resolve(null)}}}),i),g.ChangeTextLineSpacingAction=(o=function(e,t){void 0===t&&(t=!1),this.lineSpacing=e,this.charStyleMode=t,S.Action.call(this,o.TYPE)},d.defineClass({name:"ChangeTextLineSpacingAction",ctor:o,superName:"Action",statics:{TYPE:"ChangeTextLineSpacing"},props:{getUserAction:function(e){return _.UserActions.ChangeLineSpacing()},execute:function(e){return C.TextFacade.setLineSpacing(this.lineSpacing,d.clone(e.selection.asFormaArray()),this.charStyleMode),f.CorePromise.resolve(null)}}}),o),g.ChangeTextAttributesAction=(a=function(e,t,n,i,o,r){void 0===i&&(i=!1),void 0===o&&(o=T.TextPathID.UNSET),void 0===r&&(r=null),this.layout=e,this.alignment=t,this.lineSpacing=n,this.charStyleMode=i,this.pathID=o,this.customPath=r,S.Action.call(this,a.TYPE)},d.defineClass({name:"ChangeTextAttributesAction",ctor:a,superName:"Action",statics:{TYPE:"ChangeTextAttributes"},props:{getUserAction:function(e){return _.UserActions.ChangeTextAttributes()},execute:function(e){return this.layout==A.LockupLayout.SKIP&&this.alignment==A.LockupAlignment.SKIP||C.TextFacade.setLayoutAndAlignment(this.layout,this.alignment,d.clone(e.selection.asFormaArray()),this.charStyleMode,this.pathID,this.customPath),isNaN(this.lineSpacing)||C.TextFacade.setLineSpacing(this.lineSpacing,d.clone(e.selection.asFormaArray()),this.charStyleMode),f.CorePromise.resolve(null)}}}),a),g.MatchSizeAction=(r=function(e,t,n){this.size=e,this.snapSizes=d.clone(t),this.pin=n,S.Action.call(this,r.TYPE)},d.defineClass({name:"MatchSizeAction",ctor:r,superName:"Action",statics:{TYPE:"MatchSize"},props:{getUserAction:function(e){return _.UserActions.MatchSize()},execute:function(e){var t;return t=isNaN(this.size)?C.TextFacade.matchNextSize(d.clone(this.snapSizes),this.pin,d.clone(e.selection.asFormaArray())):C.TextFacade.matchNearestSize(this.size,d.clone(this.snapSizes),this.pin,d.clone(e.selection.asFormaArray())),f.CorePromise.resolve(new S.DoubleActionResult(t))}}}),r),g.SetLineBreakAction=(s=function(e,t){void 0===t&&(t=!1),this.lineBreak=e,this.charStyleMode=t,S.Action.call(this,s.TYPE)},d.defineClass({name:"SetLineBreakAction",ctor:s,superName:"Action",statics:{TYPE:"SetLineBreak"},props:{getUserAction:function(e){return _.UserActions.ToggleLineBreak()},execute:function(e){return C.TextFacade.setLineBreak(this.lineBreak,d.clone(e.selection.asFormaArray()),this.charStyleMode),f.CorePromise.resolve(null)}}}),s),g.SetNextSpacingSequenceAction=(l=function(e){this.sequence=e,S.Action.call(this,l.TYPE)},d.defineClass({name:"SetNextSpacingSequenceAction",ctor:l,superName:"Action",statics:{TYPE:"SetNextSpacingSequence"},props:{getUserAction:function(e){return _.UserActions.SetNextSpacingSequence()},execute:function(e){return C.TextFacade.setNextSpacingSequence(this.sequence,d.clone(e.selection.asFormaArray())),f.CorePromise.resolve(null)}}}),l),g.SetTrackingAction=(c=function(e,t){this.tracking=e,this.pin=t,S.Action.call(this,c.TYPE)},d.defineClass({name:"SetTrackingAction",ctor:c,superName:"Action",statics:{TYPE:"SetTracking"},props:{getUserAction:function(e){return _.UserActions.SetTracking()},execute:function(e){return C.TextFacade.setTracking(this.tracking,this.pin,d.clone(e.selection.asFormaArray())),f.CorePromise.resolve(null)}}}),c),g.SetLeadingAction=(u=function(e,t){this.leading=e,this.pin=t,S.Action.call(this,u.TYPE)},d.defineClass({name:"SetLeadingAction",ctor:u,superName:"Action",statics:{TYPE:"SetLeading"},props:{getUserAction:function(e){return _.UserActions.SetLeading()},execute:function(e){return C.TextFacade.setLeading(this.leading,this.pin,d.clone(e.selection.asFormaArray())),f.CorePromise.resolve(null)}}}),u),g.SetPaddingAction=(h=function(e){this.padding=e,S.Action.call(this,h.TYPE)},d.defineClass({name:"SetPaddingAction",ctor:h,superName:"Action",statics:{TYPE:"SetPadding"},props:{getUserAction:function(e){return _.UserActions.SetPadding()},execute:function(e){return C.TextFacade.setPadding(this.padding,d.clone(e.selection.asFormaArray())),f.CorePromise.resolve(null)}}}),h),g.SetTextEffectsAction=(p=function(e,t,n,i){this.look=e,this.outlineStrokeWeight=t,this.shadowOffset=n,this.shadowAngle=i,S.Action.call(this,p.TYPE)},d.defineClass({name:"SetTextEffectsAction",ctor:p,superName:"Action",statics:{TYPE:"SetTextAttributes"},props:{getUserAction:function(e){return _.UserActions.SetTextEffects()},execute:function(e){return C.TextFacade.setTextEffects(this.look,this.outlineStrokeWeight,this.shadowOffset,this.shadowAngle,d.clone(e.selection.asFormaArray())),f.CorePromise.resolve(null)}}}),p)}}]);
//# sourceMappingURL=logomaker-entry_9372ee0d-70d3e04b.js.map